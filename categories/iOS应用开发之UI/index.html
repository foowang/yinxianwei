<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>iOS应用开发之UI | 一枝红杏出墙来</title>
  <meta name="author" content="尹现伟">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="一枝红杏出墙来"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="shortcut icon">
  <link rel="alternate" href="/atom.xml" title="一枝红杏出墙来" type="application/atom+xml">
  <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
  

</head>


<body>
  <header id="header" class="inner"><div id="nav-top">
  <div class="alignleft main-title">
    <h1>一枝红杏出墙来</h1>
    <h2></h2>
  </div>
  <nav id="main-nav" class="alignright">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title category">iOS应用开发之UI</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-05-04T12:44:00.000Z"><a href="/2014/05/04/iOS6新特征：UIRefreshControl[下拉刷新]使用示例/">5月 4 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/05/04/iOS6新特征：UIRefreshControl[下拉刷新]使用示例/">iOS6新特征：UIRefreshControl[下拉刷新]使用示例</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>原文出处:<a href="http://www.devdiv.com/iOS_iPhone-iOS6%E6%96%B0%E7%89%B9%E5%BE%81%EF%BC%9AUIRefreshControl_%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0_%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-thread-127741-1-1.html" target="_blank" rel="external">http://www.devdiv.com/iOS<em>iPhone-iOS6%E6%96%B0%E7%89%B9%E5%BE%81%EF%BC%9AUIRefreshControl</em>%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0_%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-thread-127741-1-1.html</a><br>注：这里是iOS6新特征汇总贴链接 <a href="http://www.devdiv.com/iOS_iPhone-ios_-thread-127965-1-1.html" target="_blank" rel="external">iOS6新特征：参考资料和示例汇总</a></p>
<p>小弟不才，今天研究了一下iOS6中的一个新控件UIRefreshControl，下面与大家分享一下。</p>
<p>不会模仿的公司不是好公司不会剽窃的公司不是优秀公司<br>不会调戏代码的不是骨灰级码工<br>你同意吗？<br>苹果估计想取代第三方的pull to refresh】</p>
<p>下面是效果图，这里是代码示例 <img src="http://www.devdiv.com/static/image/filetype/zip.gif" alt=""><a href="http://www.devdiv.com/forum.php?mod=misc&amp;action=attachpay&amp;aid=32936&amp;tid=127741" target="_blank" rel="external">DevDiv_UIRefreshControl.zip</a> (144.42<br> KB, 下载次数: 1042, 售价: 1 资源分) </p>
<p><img src="http://www.devdiv.com/forum.php?mod=attachment&amp;aid=MzI5Mzd8Mzk1NmY0NjZ8MTM5OTIwNzU1NnwwfDEyNzc0MQ%3D%3D&amp;noupdate=yes" alt="QQ20120615-2.png" title="QQ20120615-2.png"></p>
<p>下面大致介绍一下UIRefreshControl的使用</p>
<p>1、使用范围<br>如果你装了xcode_4.5_developer_preview，那么在UITableViewController.h文件中你会看到，UITableViewController里面有如下声明，说明UITableViewController已经内置了UIRefreshControl控件</p>
<p><code>1``@property
 (nonatomic,retain) UIRefreshControl *refreshControl NS_AVAILABLE_IOS(6_0);</code></p>
<p>【注】：UIRefreshControl目前只能用于UITableViewController，如果用在其他ViewController中，运行时会得到如下错误提示：（即UIRefreshControl只能被UITableViewController管理）</p>
<p><code>1``2012-06-15
 14:34:34.908 DevDivUIRefreshControl[722:10103] *** Terminating app due to uncaught exception ``&#39;NSInternalInconsistencyException&#39;``,
 reason: ``&#39;UIRefreshControl
 may only be managed by a UITableViewController&#39;``2``***
 First ``throw</code> <code>call
 stack:``3``(0x186fd72
 0x1066e51 0x186fb4b 0x55a559 0x57238 0x5d482 0x55ad2 0x2ebb 0xeb2a3 0xeb30e 0x10b7e9 0x10b624 0x109aef 0x10999c 0x107adc 0x1082c6 0xecf24 0xed1e0 0xee084 0x5645c 0x5cf31 0x55ad2 0x4131d 0x414f6 0x4168c 0x49871 0x10a90 0x1196a 0x222be 0x22f9f 0x153fd 0x17ccf39
 0x17ccc10 0x17e5da5 0x17e5b12 0x1816b46 0x1815ed4 0x1815dab 0x1128f 0x12e71 0x29fd 0x2925)``4``libc++abi.dylib:
 terminate called throwing an exception``5``(lldb)</code></p>
<p>2、如何使用<br>    a)初始化<br>如何在UITableViewController 中使用UIRefreshControl呢，在上面给出的代码附件中，你可以很详细的知道，这里介绍一下关键的部分：</p>
<p><code>1``   ``self.refreshControl
 = [[UIRefreshControl alloc]init];``2``    ``// 
   self.refreshControl.tintColor = [UIColor blueColor];``3``    ``self.refreshControl.attributedTitle
 = [[NSAttributedString alloc]initWithString:@``&quot;下拉刷新&quot;``];``4``    ``[self.refreshControl
 addTarget:self action:@selector(RefreshViewControlEventValueChanged) forControlEvents:UIControlEventValueChanged];</code></p>
<p>如上面看到的代码，虽然UITableViewController已经声明了UIRefreshControl，但是貌似还没有初始化，所以需要我们自己初始化。很神奇，初始化的时候并不需要给它指定frame，UITableViewController会为我们进行管理。遗憾的时目前只看到下拉刷新功能，上拉刷新还没有，估计在最终版里面苹果会考虑加入上拉刷新功能。<br>我们还可以给UIRefreshControl设置tintColor和attributedTitle。</p>
<pre><code>b)下拉刷新事件监听
</code></pre><p>当用户进行下拉刷新操作时，UIRefreshControl 会触发一个UIControlEventValueChanged事件，通过监听这个事件，我们就可以进行类似数据请求的操作了。如下代码：</p>
<p><code>1``[self.refreshControl
 addTarget:self action:@selector(RefreshViewControlEventValueChanged)</code></p>
<pre><code><span class="built_in">c</span>)进行数据请求
</code></pre><p>在示例中，为了演示数据请求，我简单的做了一个延时处理，2秒钟后，调用handleData</p>
<p><code>1``[self
 performSelector:@selector(handleData) withObject:nil afterDelay:2];</code></p>
<p>在handleData里面，就表示已经请求到了数据，在此进行UI更新即可。也需要注意的是，我们调用UIRefreshControl 的endRefreshing方法，表示刷新结束，让UIRefreshControl更新显示。</p>
<p><code>1``-
 (``void``)
 handleData``2``{``3``    ``NSLog(@``&quot;refreshed&quot;``);``4``    ``[self.refreshControl
 endRefreshing];``5``    ``self.refreshControl.attributedTitle
 = [[NSAttributedString alloc]initWithString:@``&quot;下拉刷新&quot;``];``6</code> <code>7``    ``self.count++;``8``    ``[self.tableView
 reloadData];``9``}</code></p>
<p>3、官方头文件<br>下面是sdk中UIRefreshControl的声明，想必看了下面的代码，你已经知道如何使用了。<br><a href="http://www.devdiv.com/#viewSource" title="view source" target="_blank" rel="external">view<br> source</a><a href="http://www.devdiv.com/#printSource" title="print" target="_blank" rel="external">print</a><a href="http://www.devdiv.com/#about" title="?" target="_blank" rel="external">?</a><code>01``//``02``//  UIRefreshControl.h``03``//  UIKit``04``//``05``//  Copyright
 2012 Apple Inc. All rights reserved.``06``//``07</code> <code>08``#import
 &lt;Foundation/Foundation.h&gt;``09``#import
 &lt;UIKit/UIControl.h&gt;``10``#import
 &lt;UIKit/UIKitDefines.h&gt;``11</code> <code>12``NS_CLASS_AVAILABLE_IOS(6_0)
 @interface UIRefreshControl : UIControl``13</code> <code>14``/*
 The designated initializer``15`` ``*
 This initializes a UIRefreshControl with a default height and width.``16`` ``*
 Once assigned to a UITableViewController, the frame of the control is managed automatically.``17`` ``*
 When a user has pulled-to-refresh, the UIRefreshControl fires its UIControlEventValueChanged event.``18`` ``*/``19``-
 (id)init;``20</code> <code>21``@property
 (nonatomic, readonly, getter=isRefreshing) ``BOOL</code> <code>refreshing;``22</code> <code>23``@property
 (nonatomic, retain) UIColor *tintColor UI_APPEARANCE_SELECTOR;``24``@property
 (nonatomic, retain) NSAttributedString *attributedTitle UI_APPEARANCE_SELECTOR;``25</code> <code>26``//
 May be used to indicate to the refreshControl that an external event has initiated the refresh action``27``-
 (``void``)beginRefreshing
 NS_AVAILABLE_IOS(6_0);``28``//
 Must be explicitly called when the refreshing has completed``29``-
 (``void``)endRefreshing
 NS_AVAILABLE_IOS(6_0);``30</code> `31``@end</p>
<p>`</p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/UITableViewControlle/">UITableViewControlle</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-03-28T10:55:00.000Z"><a href="/2014/03/28/iOS自定义UITabBar/">3月 28 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/03/28/iOS自定义UITabBar/">iOS自定义UITabBar</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>push页面时，可调用hidesBottomBarWhenPushed进行隐藏。<br>第一步，我们需要一些图片：<br><img src="http://img.blog.csdn.net/20140328183512937?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWluX3hpYW53ZWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br>各个选项的图标和tabbar的背景图片，最后还要一个透明的1x1像素的图片。<br>第二步，新建一个工程，在工程内建一个继承于UITabBarController的类。<br><img src="http://img.blog.csdn.net/20140328183813281?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWluX3hpYW53ZWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
<p>第三步，首先写一个方法，返回一个UINavigationController</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">-(<span class="built_in">UINavigationController</span>*) viewControllerWithTitle:(<span class="built_in">NSString</span>*) title image:(<span class="built_in">UIImage</span>*)image</div><div class="line">{</div><div class="line">    <span class="built_in">UIViewController</span>* viewController = [[<span class="built_in">UIViewController</span> alloc] init];</div><div class="line">    viewController<span class="variable">.tabBarItem</span> = [[UITabBarItem alloc] initWithTitle:title image:image tag:<span class="number">0</span>];</div><div class="line">    viewController<span class="variable">.title</span> = title;</div><div class="line">    <span class="built_in">UINavigationController</span> *nav = [[<span class="built_in">UINavigationController</span> alloc]initWithRootViewController:viewController];</div><div class="line">    <span class="keyword">return</span> nav;</div><div class="line">}</div></pre></td></tr></table></figure>

<p>然后在viewDidLoad里面创建TabbarController的viewControllers</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">self</span><span class="variable">.viewControllers</span> = [<span class="built_in">NSArray</span> arrayWithObjects:</div><div class="line">                           [<span class="keyword">self</span> viewControllerWithTitle:<span class="string">@"1"</span> image:IMG(<span class="string">@"1"</span>)],</div><div class="line">                           [<span class="keyword">self</span> viewControllerWithTitle:<span class="string">@"2"</span> image:IMG(<span class="string">@"2"</span>)],</div><div class="line">                           [<span class="keyword">self</span> viewControllerWithTitle:<span class="literal">nil</span> image:<span class="literal">nil</span>],</div><div class="line">                           [<span class="keyword">self</span> viewControllerWithTitle:<span class="string">@"3"</span> image:IMG(<span class="string">@"3"</span>)],</div><div class="line">                           [<span class="keyword">self</span> viewControllerWithTitle:<span class="string">@"4"</span> image:IMG(<span class="string">@"4"</span>)], <span class="literal">nil</span>];</div></pre></td></tr></table></figure>

<p>看到没有，比较猥琐的就是第三个ViewController什么都没设置。<br>因为我们要在那个位置放一个自己的按钮，继续在viewDidLoad写：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIButton</span>* button = [[<span class="built_in">UIButton</span> alloc]initWithFrame:CGRectMake(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">65</span>, <span class="number">65</span>)];</div><div class="line">button<span class="variable">.center</span> = CGPointMake(<span class="number">160</span>, <span class="number">20</span>);</div><div class="line">[button setBackgroundImage:IMG(<span class="string">@"add"</span>) forState:UIControlStateNormal];</div><div class="line">[button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(add:) forControlEvents:UIControlEventTouchUpInside];</div><div class="line">[<span class="keyword">self</span><span class="variable">.tabBar</span> addSubview:button];</div></pre></td></tr></table></figure>

<p>然后设置背景图片：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="keyword">self</span><span class="variable">.tabBar</span> setBackgroundImage:IMG(<span class="string">@"tabbarbg"</span>)];</div></pre></td></tr></table></figure>

<p>运行之后是这样的：<img src="http://img.blog.csdn.net/20140328184528437?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWluX3hpYW53ZWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
<p>会发现按钮上面有一条横线，然后再设置这个阴影运行后就没有人发现你猥琐的行径。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="keyword">self</span><span class="variable">.tabBar</span> setShadowImage:IMG(<span class="string">@"transparent"</span>)];</div></pre></td></tr></table></figure>

<p>最后效果图（iOS7和iOS6）：</p>
<p><img src="http://img.blog.csdn.net/20140328184922531?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWluX3hpYW53ZWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><img src="http://img.blog.csdn.net/20140328184926250?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWluX3hpYW53ZWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
<p>这样做的好处：<br>在ViewController里push页面的时候可调用hidesBottomBarWhenPushed的属性进行隐藏。</p>
<p><a href="http://download.csdn.net/detail/yinxianwei88/7113863" target="_blank" rel="external">源码下载</a></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/iOS自定义Tabbar/">iOS自定义Tabbar</a>, <a href="/tags/iOS开发/">iOS开发</a>, <a href="/tags/UITabBarController/">UITabBarController</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-19T03:00:00.000Z"><a href="/2014/02/19/stretchableImageWithLeftCapWidth/">2月 19 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/19/stretchableImageWithLeftCapWidth/">stretchableImageWithLeftCapWidth</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>原文:<a href="http://www.cnblogs.com/bandy/archive/2012/04/25/2469369.html" target="_blank" rel="external">http://www.cnblogs.com/bandy/archive/2012/04/25/2469369.html</a></p>
<ul>
<li>(UIImage *)stretchableImageWithLeftCapWidth:(NSInteger)leftCapWidth topCapHeight:<br>(NSInteger)topCapHeight 这个函数是UIImage的一个实例函数，它的功能是创建一个内容可拉伸，而边角不拉伸的图片，需要两个参数，第一个是左边不拉伸区域的宽度，第二个参数是上面不拉伸的高度。<br>根据设置的宽度和高度，将接下来的一个像素进行左右扩展和上下拉伸。<br>注意：可拉伸的范围都是距离leftCapWidth后的1竖排像素，和距离topCapHeight后的1横排像素。<br>参数的意义是，如果参数指定10，5。那么，图片左边10个像素，上边5个像素。不会被拉伸，x坐标为11和一个像素会被横向复制，y坐标为6的一个像素会被纵向复制。<br>注意：只是对一个像素进行复制到一定宽度。而图像后面的剩余像素也不会被拉伸。</li>
</ul>
<p>UIImage <em>img=[UIImage imageNamed:@”bubbleSelf.png”];<br>    img=[img stretchableImageWithLeftCapWidth:15 topCapHeight:12];<br>    UIImageView </em>imgView=[[UIImageView alloc]initWithImage:img];<br>    [imgView setFrame:CGRectMake(10, 10, 200, 200)];<br>    [self. view addSubview:imgView]; <img src="http://images.cnblogs.com/cnblogs_com/bandy/1.jpg" alt=""> </p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ios开发/">ios开发</a>, <a href="/tags/uiview/">uiview</a>, <a href="/tags/uiimage/">uiimage</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-01-21T09:12:00.000Z"><a href="/2014/01/21/关于UIView 的autoresizingMask属性，即UIViewAutoresizing/">1月 21 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/21/关于UIView 的autoresizingMask属性，即UIViewAutoresizing/">关于UIView 的autoresizingMask属性，即UIViewAutoresizing</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p><strong>作者：舍得333<br> 主页：</strong><a href="http://blog.sina.com.cn/u/1509658847" target="_blank" rel="external">http://blog.sina.com.cn/u/1509658847</a><br><strong>版权声明</strong>：原创作品，允许转载，转载时请务必以超链接形式标明文章原始出版、作者信息和本声明，否则将追究法律责任。</p>
<p>enum<br> {<br>   UIViewAutoresizingNone                 =<br> 0,<br>   UIViewAutoresizingFlexibleLeftMargin   =<br> 1 &lt;&lt; 0,<br>   UIViewAutoresizingFlexibleWidth        =<br> 1 &lt;&lt; 1,<br>   UIViewAutoresizingFlexibleRightMargin  =<br> 1 &lt;&lt; 2,<br>   UIViewAutoresizingFlexibleTopMargin    =<br> 1 &lt;&lt; 3,<br>   UIViewAutoresizingFlexibleHeight       =<br> 1 &lt;&lt; 4,<br>   UIViewAutoresizingFlexibleBottomMargin<br> = 1 &lt;&lt; 5<br>};<br>typedef NSUInteger UIViewAutoresizing;<br>这六个值与xib文件里面的图形显示怎么对应起来，这个说起来很坑爹的。<br>代码设置与xib图形设置很不一至。</p>
<p>根据UIView的API文档说明，autoresizingMask的默认值是UIViewAutoresizingNone<br>那么再xib文件里面对应的图形是：</p>
<p>即四周选中，中间2个没有选中。这个真是有点变态啊，我刚开始以为是全都不选呢。</p>
<p>再举个例子：<br>我想要view一直与左下角对齐，高度自由伸缩，xib设置如图：</p>
<p>那么代码应该怎么写呢？一定要注意看清每个单词哦！！！，如下：<br>subView.autoresizingMask =<br>    UIViewAutoresizingFlexibleTopMargin<br> |<br>    UIViewAutoresizingFlexibleRightMargin<br> |<br>    UIViewAutoresizingFlexibleHeight;</p>
<p>下面的文章参考自：<a href="http://www.cnblogs.com/kiao295338444/articles/2308903.html" target="_blank" rel="external">http://www.cnblogs.com/kiao295338444/articles/2308903.html</a><br>在 UIView 中有一个autoresizingMask的属性，它对应的是一个枚举的值（如下），属性的意思就是自动调整子控件与父控件中间的位置，宽高。<br>enum {<br>   UIViewAutoresizingNone                 = 0,<br>   UIViewAutoresizingFlexibleLeftMargin   = 1 &lt;&lt; 0,<br>   UIViewAutoresizingFlexibleWidth        = 1 &lt;&lt; 1,<br>   UIViewAutoresizingFlexibleRightMargin  = 1 &lt;&lt; 2,<br>   UIViewAutoresizingFlexibleTopMargin    = 1 &lt;&lt; 3,<br>   UIViewAutoresizingFlexibleHeight       = 1 &lt;&lt; 4,<br>   UIViewAutoresizingFlexibleBottomMargin = 1 &lt;&lt; 5<br>};<br>typedef NSUInteger UIViewAutoresizing;</p>
<p>分别解释以上意思。<br>UIViewAutoresizingNone就是不自动调整。<br>UIViewAutoresizingFlexibleLeftMargin就是自动调整与superView左边的距离，也就是说，与superView右边的距离不变。<br>UIViewAutoresizingFlexibleRightMargin就是自动调整与superView的右边距离，也就是说，与superView左边的距离不变。<br>UIViewAutoresizingFlexibleTopMargin</p>
<p>UIViewAutoresizingFlexibleBottomMargin<br>UIViewAutoresizingFlexibleWidth<br>UIViewAutoresizingFlexibleHeight<br>以上就不多解释了，参照上面的。<br>也可以多个枚举同时设置。如下：<br>subView.autoresizingMask = UIViewAutoresizingFlexibleLeftMargin  |UIViewAutoresizingFlexibleRightMargin;<br>如果有多个，就用“|”关联。<br>还有一个属性就是autoresizesSubviews，此属性的意思就是，是否可以让其subviews自动进行调整，默认状态是YES，就是允许，如果设置成NO，那么subView的autoresizingMask属性失效。</p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/iphone/">iphone</a>, <a href="/tags/ios开发/">ios开发</a>, <a href="/tags/ios/">ios</a>, <a href="/tags/iphone开发/">iphone开发</a>, <a href="/tags/uiview/">uiview</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-01-21T01:57:00.000Z"><a href="/2014/01/21/iOS屏幕旋转，屏幕自适应方向变化/">1月 21 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/21/iOS屏幕旋转，屏幕自适应方向变化/">iOS屏幕旋转，屏幕自适应方向变化</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>文章转自:<a href="http://moto0421.iteye.com/blog/1586791" target="_blank" rel="external">http://moto0421.iteye.com/blog/1586791</a></p>
<ol>
<li>iOS有四个方向的旋转，为了保证自己的代码能够支持旋转，我们必须首先处理一个函数：<br>Objective-c代码  <a href="&quot;收藏这段代码&quot;"><img src="http://moto0421.iteye.com/images/icon_star.png" alt="收藏代码"></a>1. - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {  </li>
<li></li>
<li>return YES;  </li>
<li><p>}  </p>
<ol>
<li>这个函数时用来确定我们的应用所支持的旋转方向。如果想要支持每个方向则直接返回YES就行，还可以单独判断某一方向：</li>
</ol>
</li>
</ol>
<p>Objective-c代码  <a href="&quot;收藏这段代码&quot;"><img src="http://moto0421.iteye.com/images/icon_star.png" alt="收藏代码"></a>1. - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {  </p>
<ol>
<li></li>
<li>if (interfaceOrientation==UIInterfaceOrientationLandscapeLeft) {  </li>
<li></li>
<li>//left  </li>
<li></li>
<li>}  </li>
<li></li>
<li>if (interfaceOrientation==UIInterfaceOrientationLandscapeRight) {  </li>
<li></li>
<li>//right  </li>
<li></li>
<li>}  </li>
<li></li>
<li>if (interfaceOrientation==UIInterfaceOrientationPortrait) {  </li>
<li></li>
<li>//up  </li>
<li></li>
<li>}  </li>
<li></li>
<li>if (interfaceOrientation==UIInterfaceOrientationPortraitUpsideDown) {  </li>
<li></li>
<li>//down  </li>
<li></li>
<li>}  </li>
<li></li>
<li>return YES;  </li>
<li>}  </li>
</ol>
<p>3.IOS6之后又不太一样</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">-(NSUInteger)supportedInterfaceOrientations{</div><div class="line">    <span class="keyword">return</span> UIInterfaceOrientationMaskAllButUpsideDown ;</div><div class="line">	<span class="comment">//支持旋转的方向</span></div><div class="line">}</div></pre></td></tr></table></figure>



<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)shouldAutorotate{ <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">	<span class="comment">//是否旋转</span></div><div class="line">}</div></pre></td></tr></table></figure>



<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">UIInterfaceOrientationMaskPortrait = (<span class="number">1</span> &lt;&lt; UIInterfaceOrientationPortrait),</div><div class="line">   UIInterfaceOrientationMaskLandscapeLeft = (<span class="number">1</span> &lt;&lt; UIInterfaceOrientationLandscapeLeft),</div><div class="line">   UIInterfaceOrientationMaskLandscapeRight = (<span class="number">1</span> &lt;&lt; UIInterfaceOrientationLandscapeRight),</div><div class="line">   UIInterfaceOrientationMaskPortraitUpsideDown = (<span class="number">1</span> &lt;&lt; UIInterfaceOrientationPortraitUpsideDown),</div><div class="line">   UIInterfaceOrientationMaskLandscape = (UIInterfaceOrientationMaskLandscapeLeft | UIInterfaceOrientationMaskLandscapeRight),</div><div class="line">   UIInterfaceOrientationMaskAll = (UIInterfaceOrientationMaskPortrait | UIInterfaceOrientationMaskLandscapeLeft | UIInterfaceOrientationMaskLandscapeRight | UIInterfaceOrientationMaskPortraitUpsideDown),</div><div class="line">   UIInterfaceOrientationMaskAllButUpsideDown = (UIInterfaceOrientationMaskPortrait | UIInterfaceOrientationMaskLandscapeLeft | UIInterfaceOrientationMaskLandscapeRight),</div></pre></td></tr></table></figure>



<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>

<ol>
<li>当然旋转还有一些函数可触发：</li>
</ol>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//旋转方向发生改变时  </span></div><div class="line">  </div><div class="line">-(<span class="keyword">void</span>)willAnimateRotationToInterfaceOrientation:(<span class="built_in">UIInterfaceOrientation</span>)toInterfaceOrientation duration:(<span class="built_in">NSTimeInterval</span>)duration {  </div><div class="line">}  </div><div class="line"><span class="comment">//视图旋转动画前一半发生之前自动调用  </span></div><div class="line">  </div><div class="line">-(<span class="keyword">void</span>)willAnimateFirstHalfOfRotationToInterfaceOrientation:(<span class="built_in">UIInterfaceOrientation</span>)toInterfaceOrientation duration:(<span class="built_in">NSTimeInterval</span>)duration {  </div><div class="line">}  </div><div class="line"><span class="comment">//视图旋转动画后一半发生之前自动调用  </span></div><div class="line">  </div><div class="line">-(<span class="keyword">void</span>)willAnimateSecondHalfOfRotationFromInterfaceOrientation:(<span class="built_in">UIInterfaceOrientation</span>)fromInterfaceOrientation duration:(<span class="built_in">NSTimeInterval</span>)duration {  </div><div class="line">}  </div><div class="line"><span class="comment">//视图旋转之前自动调用  </span></div><div class="line">  </div><div class="line">-(<span class="keyword">void</span>)willRotateToInterfaceOrientation:(<span class="built_in">UIInterfaceOrientation</span>)toInterfaceOrientation duration:(<span class="built_in">NSTimeInterval</span>)duration {  </div><div class="line">}  </div><div class="line"><span class="comment">//视图旋转完成之后自动调用  </span></div><div class="line">  </div><div class="line">-(<span class="keyword">void</span>)didRotateFromInterfaceOrientation:(<span class="built_in">UIInterfaceOrientation</span>)fromInterfaceOrientation {  </div><div class="line">}  </div><div class="line"><span class="comment">//视图旋转动画前一半发生之后自动调用  </span></div><div class="line">  </div><div class="line">-(<span class="keyword">void</span>)didAnimateFirstHalfOfRotationToInterfaceOrientation:(<span class="built_in">UIInterfaceOrientation</span>)toInterfaceOrientation {  </div><div class="line">}</div></pre></td></tr></table></figure>



<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>


      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/屏幕旋转/">屏幕旋转</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-01-15T09:06:00.000Z"><a href="/2014/01/15/iOS 7, 导航栏和状态栏自定义/">1月 15 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/15/iOS 7, 导航栏和状态栏自定义/">iOS 7, 导航栏和状态栏自定义</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <h1 id="本文转自:http://beyondvincent-com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#6">本文转自:<a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#6" target="_blank" rel="external">http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#6</a></h1>
<p><a href="http://beyondvincent.com/images/2013/11/7.png" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/7.png" alt=""></a><br>注：本文译自<a href="http://www.appcoda.com/customize-navigation-status-bar-ios-7/" target="_blank" rel="external"><code>Customizing
 Navigation Bar and Status Bar in iOS 7</code></a><br>近期，跟大多数开发者一样，我也正忙于对程序进行升级以适配iOS 7。最新的iOS 7外观上有大量的改动。从开发者的角度来看，导航栏和状态栏就发生了明显的变化。状态栏现在是半透明的了，这也就意味着导航栏会显示在状态栏后面。有些情况下，导航栏的背景图片可以延伸显示到状态栏后面。<br>之前我曾经写过一篇关于<a href="http://www.appcoda.com/customize-navigation-bar-back-butto/" target="_blank" rel="external">如何定制导航栏</a>的文章。不过现在是时候对其进行更新了。下面就是本文将要介绍的内容：</p>
<ul>
<li><a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#0" target="_blank" rel="external">iOS 7中默认的导航栏</a></li>
<li><a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#1" target="_blank" rel="external">设置导航栏的背景颜色</a></li>
<li><a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#2" target="_blank" rel="external">在导航栏中使用背景图片</a></li>
<li><a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#3" target="_blank" rel="external">定制返回按钮的颜色</a></li>
<li><a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#4" target="_blank" rel="external">修改导航栏标题的字体</a></li>
<li><a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#44" target="_blank" rel="external">修改导航栏标题为图片</a></li>
<li><a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#5" target="_blank" rel="external">添加多个按钮</a></li>
<li><a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#6" target="_blank" rel="external">修改状态栏的风格</a></li>
<li><a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#7" target="_blank" rel="external">隐藏状态栏</a></li>
<li><a href="http://beyondvincent.com/blog/2013/11/03/120-customize-navigation-status-bar-ios-7/#8" target="_blank" rel="external">总结</a></li>
</ul>
<p><a href="http://beyondvincent.com/images/2013/11/9.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/9.jpg" alt=""></a><br>本文提供的代码需要用Xcode 5来执行。如果你还在使用老版本的Xcode，那么在运行示例之前请将Xcode升级到Xcode 5。</p>
<h3 id="iOS_7中默认的导航栏"><a href=""></a>iOS 7中默认的导航栏</h3>
<p>在开始定制之前，我们先来看看iOS 7中默认导航栏的外观。通过Xcode用<code>Single
 View Controller</code>模板创建一个工程。然后将view controller嵌入到一个navigation controller中。如果你不想从头开始，那么也可以在这里下载到这个<a href="https://dl.dropboxusercontent.com/u/2857188/NavigationBarDemo.zip" target="_blank" rel="external">示例工程</a>。<br>Xcode 5包含有iOS 6和iOS 7模拟器，我们可以在这两个不同的模拟器版本中运行示例程序，进行对比，如下图所示：<br><a href="http://beyondvincent.com/images/2013/11/10.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/10.jpg" alt=""></a><br>如上图所示，在iOS 7中的导航栏默认情况下跟状态栏是交织在一起的，并且它的颜色也被修改为亮灰色。</p>
<h3 id="设置导航栏的背景颜色"><a href=""></a>设置导航栏的背景颜色</h3>
<p>在iOS 7中，不再使用tintColor属性来设置导航栏的颜色，而是使用barTintColor属性来修改背景色。我们可以在<code>AppDelegate.m</code>文件中的方法<code>didFinishLaunchingWithOptions:</code>里面添加如下代码来修改颜色：<br>    1</p>
<pre><code><span class="string">[[UINavigationBar appearance] setBarTintColor:[UIColor yellowColor]]</span>;
</code></pre><p>效果如下图所示：<br><a href="http://beyondvincent.com/images/2013/11/11.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/11.jpg" alt=""></a><br>一般情况，我们都会使用自己的颜色，下面这个宏用来设置RGB颜色非常方便：<br>    1</p>
<pre><code>#define UIColorFromRGB(rgbValue) [UIColor colorWithRed:((<span class="built_in">float</span>)((rgbValue &amp; <span class="number">0xFF0000</span>) &gt;&gt; <span class="number">16</span>))/<span class="number">255.0</span> green:((<span class="built_in">float</span>)((rgbValue &amp; <span class="number">0xFF00</span>) &gt;&gt; <span class="number">8</span>))/<span class="number">255.0</span> blue:((<span class="built_in">float</span>)(rgbValue &amp; <span class="number">0xFF</span>))/<span class="number">255.0</span> alpha:<span class="number">1.0</span>]
</code></pre><p>将上面这个宏放到<code>AppDelegate.m</code>文件中，然后通过这个宏来创建一个UIColor对象(根据指定的RGB)。如下示例：<br>    1</p>
<pre><code><span class="attr_selector">[[UINavigationBar appearance]</span> setBarTintColor<span class="value">:<span class="function">UIColorFromRGB</span>(<span class="number">0</span>x067AB5)];</span>
</code></pre><p>默认情况下，导航栏的translucent属性为YES。另外，系统还会对所有的导航栏做模糊处理，这样可以让iOS 7中导航栏的颜色更加饱和。如下图，是translucent值为NO和YES的对比效果：<br><a href="http://beyondvincent.com/images/2013/11/12.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/12.jpg" alt=""></a><br>要想禁用translucent属性，可以在Storyboard中选中导航栏，然后在Attribute Inspectors中，取消translucent的勾选。</p>
<h3 id="在导航栏中使用背景图片"><a href=""></a>在导航栏中使用背景图片</h3>
<p>如果希望在导航栏中使用一个图片当做背景，那么你需要提供一个稍微高一点的图片(这样可以延伸到导航栏背后)。导航栏的高度从44 points(88 pixels)变为了64 points(128 pixels)。<br>我们依然可以使用<code>setBackgroundImage:</code>方法为导航栏设置自定义图片。如下代码所示：<br>    1</p>
<pre><code>[[UINavigationBar appearance] <span class="keyword">set</span>BackgroundImage:[UIImage imageNamed:@<span class="string">"nav_bg.png"</span>] <span class="keyword">for</span>BarMetrics:UIBarMetricsDefault];
</code></pre><p>示例工程中提供了两个背景图片：nav_bg.png 和 nav_bg_ios7.png。运行一下试试看吧，如下效果：<br><a href="http://beyondvincent.com/images/2013/11/13.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/13.jpg" alt=""></a></p>
<h3 id="定制返回按钮的颜"><a href=""></a>定制返回按钮的颜</h3>
<p>在iOS 7中，所有的按钮都是无边框的。其中返回按钮会有一个V型箭头，以及上一个屏幕中的标题(如果上一屏幕的标题是空，那么就显示”返回”)。要想给返回按钮着色，可以使用tintColor属性。如下代码所示：<br>    1</p>
<pre><code><span class="string">[[UINavigationBar appearance] setTintColor:[UIColor whiteColor]]</span>;
</code></pre><p>除了返回按钮，tintColor属性会影响到所有按钮标题和图片。<br><a href="http://beyondvincent.com/images/2013/11/14.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/14.jpg" alt=""></a><br>如果想要用自己的图片替换V型，可以设置图片的<code>backIndicatorImage</code>和<code>backIndicatorTransitionMaskImage</code>。如下代码所示：<br>    1<br>    2</p>
<pre><code><span class="string">[[UINavigationBarappearance]setBackIndicatorImage:[UIImageimageNamed:@"back_btn.png"]]</span>;<span class="string">[[UINavigationBarappearance]setBackIndicatorTransitionMaskImage:[UIImageimageNamed:@"back_btn.png"]]</span>;
</code></pre><p>图片的颜色是由tintColor属性控制的。<br><a href="http://beyondvincent.com/images/2013/11/15.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/15.jpg" alt=""></a></p>
<h3 id="修改导航栏标题的字体"><a href=""></a>修改导航栏标题的字体</h3>
<p>跟iOS 6一样，我们可以使用导航栏的<code>titleTextAttributes</code>属性来定制导航栏的文字风格。在text<br> attributes字典中使用如下一些key，可以指定字体、文字颜色、文字阴影色以及文字阴影偏移量：</p>
<ul>
<li>UITextAttributeFont – 字体key</li>
<li>UITextAttributeTextColor – 文字颜色key</li>
<li>UITextAttributeTextShadowColor – 文字阴影色key</li>
<li>UITextAttributeTextShadowOffset – 文字阴影偏移量key</li>
</ul>
<p>如下代码所示，对导航栏的标题风格做了修改：<br>    1<br>    2<br>    3<br>    4<br>    5<br>    6<br>    7</p>
<pre><code>NSShadow*<span class="built_in">shadow</span>=[[NSShadowalloc]init];<span class="built_in">shadow</span>.shadowColor=[UIColorcolorWithRed:<span class="number">0.0</span>green:<span class="number">0.0</span>blue:<span class="number">0.0</span>alpha:<span class="number">0.8</span>];<span class="built_in">shadow</span>.shadowOffset=CGSizeMake(<span class="number">0</span>,<span class="number">1</span>);[[UINavigationBarappearance]setTitleTextAttributes:[NSDictionarydictionaryWithObjectsAndKeys:[UIColorcolorWithRed:<span class="number">245.0</span>/<span class="number">255.0</span>green:<span class="number">245.0</span>/<span class="number">255.0</span>blue:<span class="number">245.0</span>/<span class="number">255.0</span>alpha:<span class="number">1.0</span>],NSForegroundColorAttributeName,<span class="built_in">shadow</span>,NSShadowAttributeName,[UIFontfontWithName:@<span class="string">"HelveticaNeue-CondensedBlack"</span>size:<span class="number">21.0</span>],NSFontAttributeName,nil]];
</code></pre><p>运行效果如下图所示：<br><a href="http://beyondvincent.com/images/2013/11/16.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/16.jpg" alt=""></a></p>
<h3 id="修改导航栏标题为图片"><a href=""></a>修改导航栏标题为图片</h3>
<p>如果要想将导航栏标题修改为一个图片或者logo，那么只需要使用下面这行代码即可：<br>    1</p>
<pre><code>self.navigationItem.titleView = <span class="string">[[UIImageView alloc] initWithImage:[UIImage imageNamed:@"appcoda-logo.png"]]</span>;
</code></pre><p>上面的代码简单的修改了titleView属性，将一个图片赋值给它。 注意：这不是iOS 7中的新功能，之前的iOS版本就可以已经有了。<br>具体效果如下图所示：<br><a href="http://beyondvincent.com/images/2013/11/17.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/17.jpg" alt=""></a></p>
<h3 id="添加多个按钮"><a href=""></a>添加多个按钮</h3>
<p>同样，这个技巧也不是iOS 7的，开发者经常会在导航栏中添加多个按钮，所以我决定在这里进行介绍。我们可以在导航栏左边或者右边添加多个按钮。例如，我们希望在导航栏右边添加一个照相机和分享按钮，那只需要使用下面的代码即可：<br>    1<br>    2<br>    3<br>    4<br>    5</p>
<pre><code><span class="built_in">UIBarButtonItem</span>*shareItem=[[UIBarButtonItemalloc]initWithBarButtonSystemItem:UIBarButtonSystemItemActiontarget:selfaction:<span class="literal">nil</span>];<span class="built_in">UIBarButtonItem</span>*cameraItem=[[UIBarButtonItemalloc]initWithBarButtonSystemItem:UIBarButtonSystemItemCameratarget:selfaction:<span class="literal">nil</span>];<span class="built_in">NSArray</span>*actionButtonItems=@[shareItem,cameraItem];<span class="keyword">self</span><span class="variable">.navigationItem</span><span class="variable">.rightBarButtonItems</span>=actionButtonItems;
</code></pre><p>如下效果：<br><a href="http://beyondvincent.com/images/2013/11/18.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/18.jpg" alt=""></a></p>
<h3 id="修改状态栏的风格"><a href=""></a>修改状态栏的风格</h3>
<p>在老版本的iOS中，状态栏永远都是白色风格。而在iOS 7中，我们可以修改每个view controller中状态栏的外观。通过UIStatusBarStyle常量可以指定状态栏的内容是暗色或亮色。默认情况下，状态栏的显示是暗色。也就是说，状态栏上的时间、电池指示器和Wi-Fi信号显示为暗色。如果导航栏中使用暗色为背景，那么看起来的效果如下图所示：<br><a href="http://beyondvincent.com/images/2013/11/19.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/19.jpg" alt=""></a><br>如上图这种情况下，我们可能希望将导航栏的风格修改为亮色。这里有两个方法可以实现。在iOS 7中，我们可以在每个view controller中overriding<code>preferredStatusBarStyle:</code>方法，如下所示：<br>    1<br>    2<br>    3<br>    4</p>
<pre><code>-(UIStatusBarStyle)preferredStatusBarStyle{<span class="keyword">return</span>UIStatusBarStyleLightContent;}
</code></pre><p>上面代码的效果如下图所示：<br><a href="http://beyondvincent.com/images/2013/11/20.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/20.jpg" alt=""></a><br>在iOS 7中，通过上面的方法来修改状态栏风格非常的棒。另外，我们也可以使用UIApplication的statusBarStyle方法来设置状态栏，不过，首先需要停止使用<code>View
 controller-based status bar appearance</code>。在project target的Info tab中，插入一个新的key，名字为<code>View
 controller-based status bar appearance</code>，并将其值设置为NO。<br><a href="http://beyondvincent.com/images/2013/11/21.jpg" target="_blank" rel="external"><img src="http://beyondvincent.com/images/2013/11/21.jpg" alt=""></a><br>然后就可以使用下面的代码来设置状态栏风格了：<br>    1</p>
<pre><code><span class="attr_selector">[[UIApplication sharedApplication]</span> <span class="tag">setStatusBarStyle</span><span class="pseudo">:UIStatusBarStyleLightContent</span>];
</code></pre><h3 id="隐藏状态栏"><a href=""></a>隐藏状态栏</h3>
<p>有时候我们需要隐藏状态栏，那么此时我们在view controller中override方法prefersStatusBarHidden:即可，如下代码所示：<br>    1<br>    2<br>    3<br>    4</p>
<pre><code>-(BOOL)prefersStatusBarHidden{<span class="keyword">return</span>YES;}
</code></pre><h3 id="总结"><a href=""></a>总结</h3>
<p>iOS 7给开发者提供了一些新的自由度来定制导航栏和状态栏的外观。希望上面的这些技巧能对你有用。<br>这里可以下载到<a href="https://dl.dropboxusercontent.com/u/2857188/NavigationBarDemo.zip" target="_blank" rel="external">示例工程源码</a>。只需要取消相关代码注释即可进行测试。<br><a href="&quot;分享到新浪微博&quot;"></a><a href="&quot;分享到腾讯微博&quot;"></a></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ios/">ios</a>, <a href="/tags/ios开发/">ios开发</a>, <a href="/tags/iphone开发/">iphone开发</a>, <a href="/tags/ios7适配/">ios7适配</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2013-12-06T05:35:00.000Z"><a href="/2013/12/06/IOS7导航动画时出现重叠阴影/">12月 6 2013</a></time>
      
      
  
    <h1 class="title"><a href="/2013/12/06/IOS7导航动画时出现重叠阴影/">IOS7导航动画时出现重叠阴影</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>主要原因是push进来的VIewController的View背景没有颜色,<br>貌似IOS7下VIewController<br>的view的背景色默认为透明<br>只需要设置背景图片或是背景色就ok了.</p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ios开发/">ios开发</a>, <a href="/tags/导航/">导航</a>, <a href="/tags/ios7/">ios7</a>, <a href="/tags/动画/">动画</a>, <a href="/tags/iphone开发/">iphone开发</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2013-11-28T02:21:00.000Z"><a href="/2013/11/28/UIWebView加载本地pdf、doc等文件/">11月 28 2013</a></time>
      
      
  
    <h1 class="title"><a href="/2013/11/28/UIWebView加载本地pdf、doc等文件/">UIWebView加载本地pdf、doc等文件</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//加载本地pdf到webview</span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>) loadDocument:(<span class="built_in">NSString</span> *)docName</div><div class="line">{</div><div class="line">    <span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:docName ofType:<span class="literal">nil</span>];</div><div class="line">    <span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> fileURLWithPath:path];</div><div class="line">    <span class="built_in">NSURLRequest</span> *request = [<span class="built_in">NSURLRequest</span> requestWithURL:url];</div><div class="line">    [<span class="keyword">self</span> loadRequest:request];</div><div class="line">}</div></pre></td></tr></table></figure>

<p><a href="http://www.cnblogs.com/wengzilin/archive/2012/03/28/2420873.html" target="_blank" rel="external">http://www.cnblogs.com/wengzilin/archive/2012/03/28/2420873.html</a></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/iphone开发/">iphone开发</a>, <a href="/tags/ios/">ios</a>, <a href="/tags/uiwebview/">uiwebview</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2013-11-25T14:51:00.000Z"><a href="/2013/11/25/隐藏UINavigationController和UITabBarController/">11月 25 2013</a></time>
      
      
  
    <h1 class="title"><a href="/2013/11/25/隐藏UINavigationController和UITabBarController/">隐藏UINavigationController和UITabBarController</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">隐藏<span class="built_in">UINavigationController</span>：</div><div class="line">比如A页面要隐藏<span class="built_in">UINavigationController</span></div><div class="line"></div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated{</div><div class="line">     [<span class="keyword">self</span><span class="variable">.navigationController</span> setNavigationBarHidden:<span class="literal">YES</span> animated:<span class="literal">YES</span>];</div><div class="line">}</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad</div><div class="line">{</div><div class="line">    [<span class="keyword">self</span><span class="variable">.navigationController</span> setNavigationBarHidden:<span class="literal">YES</span> animated:<span class="literal">NO</span>];   </div><div class="line">}</div><div class="line"></div><div class="line">这两处都要加，如果viewdidload不加的话，会有一个明显的隐藏动画不美观。</div><div class="line">如 果B页面需要显示<span class="built_in">UINavigationController</span>，就需要在B页面的viewDidload或viewWillAppear中加入： [<span class="keyword">self</span><span class="variable">.navigationController</span> setNavigationBarHidden:<span class="literal">NO</span> animated:<span class="literal">YES</span>];</div><div class="line">---------------------------------------</div><div class="line">如果要C页面中隐藏<span class="built_in">UITabBarController</span></div><div class="line">    CPage *c = [[CPage alloc]init];</div><div class="line">    c<span class="variable">.hidesBottomBarWhenPushed</span> = <span class="literal">YES</span>;</div><div class="line">    [<span class="keyword">self</span><span class="variable">.navigationController</span> pushViewController:c animated:<span class="literal">YES</span>];</div></pre></td></tr></table></figure>



      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ios开发/">ios开发</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2013-09-05T05:14:00.000Z"><a href="/2013/09/05/Xib的创建/">9月 5 2013</a></time>
      
      
  
    <h1 class="title"><a href="/2013/09/05/Xib的创建/">Xib的创建</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>1:New file-&gt;User Interface 右边Empty<br>2:给xib取一个名称，例如a<br>3:在控件集中选择一个object，托放到编辑区，在编辑区左侧出现object<br>4:修改object的类为AppDelegate<br>5:修改File’s Owner的类名UIApplication<br>6:把AppDelegate 和File’s Owner连线.连线方法：选中AppDelegate,点击右键，把New Referencing Oulet 和File’s Owner上的delegate 关联。<br>7:在控件集中拖一个window放到编辑区<br>8:把window和AppDelegate的中window进行关联。确保：AppDelegate 中有IBOutlet UIWIndow* window.关联方法同上。<br>9:在左侧工程列表文件中，找到Info.plist文件，开始编辑该文件。在编辑区，点击右键Add Row,添加一行 Main nib file base name，内容为xib文件的名称，不带后缀。</p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/iphone开发/">iphone开发</a>, <a href="/tags/ios/">ios</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
  
    <a href="/categories/iOS应用开发之UI/page/2/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  
    <form>
      <input id="st-search-input" type="search" placeholder="Search">
    </form>
    <div id="st-results-container"></div>
  
</div>

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <div class="entry">
    
      <span><a href="/tags/2d/">2d<small>1</small></a></span>
    
      <span><a href="/tags/AFNetworking/">AFNetworking<small>2</small></a></span>
    
      <span><a href="/tags/CoreData/">CoreData<small>2</small></a></span>
    
      <span><a href="/tags/Drawing/">Drawing<small>1</small></a></span>
    
      <span><a href="/tags/MagicalRecord/">MagicalRecord<small>1</small></a></span>
    
      <span><a href="/tags/NSDate/">NSDate<small>1</small></a></span>
    
      <span><a href="/tags/NSString/">NSString<small>1</small></a></span>
    
      <span><a href="/tags/Swift/">Swift<small>9</small></a></span>
    
      <span><a href="/tags/UIAlertView/">UIAlertView<small>1</small></a></span>
    
      <span><a href="/tags/UITabBarController/">UITabBarController<small>1</small></a></span>
    
      <span><a href="/tags/UITableViewControlle/">UITableViewControlle<small>1</small></a></span>
    
      <span><a href="/tags/UIWebView/">UIWebView<small>1</small></a></span>
    
      <span><a href="/tags/URL-Scheme/">URL Scheme<small>1</small></a></span>
    
      <span><a href="/tags/URL编码/">URL编码<small>1</small></a></span>
    
      <span><a href="/tags/XMPP/">XMPP<small>3</small></a></span>
    
      <span><a href="/tags/Xcode5-1/">Xcode5.1<small>1</small></a></span>
    
      <span><a href="/tags/api/">api<small>5</small></a></span>
    
      <span><a href="/tags/appStore审核/">appStore审核<small>1</small></a></span>
    
      <span><a href="/tags/block/">block<small>1</small></a></span>
    
      <span><a href="/tags/bytearray/">bytearray<small>1</small></a></span>
    
      <span><a href="/tags/cell自适应高度/">cell自适应高度<small>1</small></a></span>
    
      <span><a href="/tags/cocos2d/">cocos2d<small>3</small></a></span>
    
      <span><a href="/tags/fontfontiPhone开发font/">fontfontiPhone开发font<small>1</small></a></span>
    
      <span><a href="/tags/fontfontiPhone开发fontfont/">fontfontiPhone开发fontfont<small>1</small></a></span>
    
      <span><a href="/tags/fontfontios的fontfont/">fontfontios的fontfont<small>2</small></a></span>
    
      <span><a href="/tags/fontfont动画fontfont/">fontfont动画fontfont<small>1</small></a></span>
    
      <span><a href="/tags/framework/">framework<small>1</small></a></span>
    
      <span><a href="/tags/iOS8/">iOS8<small>2</small></a></span>
    
      <span><a href="/tags/iOS8-1-1/">iOS8.1.1<small>1</small></a></span>
    
      <span><a href="/tags/iOS8定位/">iOS8定位<small>1</small></a></span>
    
      <span><a href="/tags/iOS国际化/">iOS国际化<small>1</small></a></span>
    
      <span><a href="/tags/iOS应用开发之app上架/">iOS应用开发之app上架<small>1</small></a></span>
    
      <span><a href="/tags/iOS应用开发之第三方框架/">iOS应用开发之第三方框架<small>1</small></a></span>
    
      <span><a href="/tags/iOS开发/">iOS开发<small>5</small></a></span>
    
      <span><a href="/tags/iOS自定义Tabbar/">iOS自定义Tabbar<small>1</small></a></span>
    
      <span><a href="/tags/ios/">ios<small>53</small></a></span>
    
      <span><a href="/tags/ios7/">ios7<small>1</small></a></span>
    
      <span><a href="/tags/ios7适配/">ios7适配<small>1</small></a></span>
    
      <span><a href="/tags/ios国际化/">ios国际化<small>1</small></a></span>
    
      <span><a href="/tags/ios开发/">ios开发<small>27</small></a></span>
    
      <span><a href="/tags/iphone/">iphone<small>4</small></a></span>
    
      <span><a href="/tags/iphone开发/">iphone开发<small>59</small></a></span>
    
      <span><a href="/tags/itunes/">itunes<small>1</small></a></span>
    
      <span><a href="/tags/objective-c/">objective-c<small>1</small></a></span>
    
      <span><a href="/tags/svn/">svn<small>1</small></a></span>
    
      <span><a href="/tags/uiimage/">uiimage<small>2</small></a></span>
    
      <span><a href="/tags/uitableview/">uitableview<small>1</small></a></span>
    
      <span><a href="/tags/uitableviewcell/">uitableviewcell<small>1</small></a></span>
    
      <span><a href="/tags/uitextfield/">uitextfield<small>1</small></a></span>
    
      <span><a href="/tags/uiview/">uiview<small>3</small></a></span>
    
      <span><a href="/tags/uiviewcontroller/">uiviewcontroller<small>1</small></a></span>
    
      <span><a href="/tags/uiwebview/">uiwebview<small>1</small></a></span>
    
      <span><a href="/tags/xcode/">xcode<small>2</small></a></span>
    
      <span><a href="/tags/xmpp/">xmpp<small>1</small></a></span>
    
      <span><a href="/tags/二维码/">二维码<small>1</small></a></span>
    
      <span><a href="/tags/企业/">企业<small>1</small></a></span>
    
      <span><a href="/tags/动画/">动画<small>5</small></a></span>
    
      <span><a href="/tags/国际化/">国际化<small>1</small></a></span>
    
      <span><a href="/tags/在线工具/">在线工具<small>1</small></a></span>
    
      <span><a href="/tags/多线程/">多线程<small>1</small></a></span>
    
      <span><a href="/tags/存储/">存储<small>1</small></a></span>
    
      <span><a href="/tags/宏/">宏<small>1</small></a></span>
    
      <span><a href="/tags/导航/">导航<small>1</small></a></span>
    
      <span><a href="/tags/屏幕旋转/">屏幕旋转<small>2</small></a></span>
    
      <span><a href="/tags/应用程序/">应用程序<small>2</small></a></span>
    
      <span><a href="/tags/微信开放平台ios/">微信开放平台ios<small>1</small></a></span>
    
      <span><a href="/tags/打开AppStore/">打开AppStore<small>1</small></a></span>
    
      <span><a href="/tags/数据库/">数据库<small>1</small></a></span>
    
      <span><a href="/tags/缓存/">缓存<small>1</small></a></span>
    
      <span><a href="/tags/聊天/">聊天<small>1</small></a></span>
    
      <span><a href="/tags/苹果应用商店/">苹果应用商店<small>1</small></a></span>
    
      <span><a href="/tags/获取iP地址/">获取iP地址<small>1</small></a></span>
    
  </div>
</div>




  <script type="text/javascript">
    (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
    })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

    _st('install','6xH6jcZvsZxn2a9rcU4t');
  </script>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div id="foot-nav">
  <ul class="social">
    
      <li><a class="github" href="https://github.com/DaiXiang" title="github">github</a></li>
    
      <li><a class="rss" href="/atom.xml" title="rss">rss</a></li>
    
  </ul>
</div>
<div>
  
    &copy; 2014 尹现伟
  
</div>
<div class="clearfix"></div></footer>
  


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<script type="text/javascript">
  function navbar() {
    var top = $('#nav-top').innerHeight();
    $('#header').css('min-height', top);
  }
  navbar();
  $(window).resize(navbar);
</script>
<div id="totop" class="footer-btn">
  <a title="Return to Top"><img src="/img/scrollup.png"/></a>
</div>

<script type="text/javascript">
  $(function(){ 
	// When to show the scroll link
	// higher number = scroll link appears further down the page   
	var upperLimit = 800;
	
	// Our scroll link element
	var scrollElem = $('#totop');
   
	// Scroll to top speed
	var scrollSpeed = 500;
   
	// Show and hide the scroll to top link based on scroll position   
	scrollElem.hide();
	$(window).scroll(function () {            
		var scrollTop = $(document).scrollTop();       
		if ( scrollTop > upperLimit ) {
		  $(scrollElem).stop().fadeTo(300, 1); // fade back in
		  $(scrollElem).animate({bottom: "50px"}, { queue: false, duration: 10 });
		} else {
		  $(scrollElem).stop().fadeTo(300, 0); // fade out
	      $(scrollElem).animate({bottom: "-200px"}, { queue: false, duration: 10 });
			
		}
	});

	// Scroll to top animation on click
	$(scrollElem).click(function(){
	  $('html, body').animate({scrollTop:0}, scrollSpeed);
	  $(scrollElem).animate({bottom: "-200px"}, { queue: false, duration: 10 });
	  return false;
	});
  });
</script>
</body>
</html>