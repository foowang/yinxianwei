<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 5 | Archives | 一枝红杏出墙来</title>
  <meta name="author" content="尹现伟">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="一枝红杏出墙来"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="shortcut icon">
  <link rel="alternate" href="/atom.xml" title="一枝红杏出墙来" type="application/atom+xml">
  <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
  

</head>


<body>
  <header id="header" class="inner"><div id="nav-top">
  <div class="alignleft main-title">
    <h1>一枝红杏出墙来</h1>
    <h2></h2>
  </div>
  <nav id="main-nav" class="alignright">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">Archives</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-26T06:16:00.000Z"><a href="/2014/02/26/IOS离线缓存致内存和本地的方法/">2月 26 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/26/IOS离线缓存致内存和本地的方法/">IOS离线缓存致内存和本地的方法</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>缓存由四个文件组成。</p>
<p>FlashDiskCacheManager.h<br>FlashDiskCacheManager.m</p>
<p>这个类是以单例的模式提供的，您可以在您想要缓存的地方来share</p>
<p>URLCacheElement.h<br>URLCacheElement.m</p>
<p>这个类您永远都不要使用，每一个缓存就是一个URLCacheElement的对象，然后归档到文件中，实现磁盘缓存。</p>
<p>具体见FlashDiskCacheManager类的注释部分。</p>
<p>FlashDiskCacheManager.h</p>
<p><strong>[cpp]</strong> <a href="http://blog.csdn.net/windows_star/article/details/6117392#" title="view plain" target="_blank" rel="external">view<br> plain</a><a href="http://blog.csdn.net/windows_star/article/details/6117392#" title="copy" target="_blank" rel="external">copy</a>1. //  </p>
<ol>
<li>//  FlashDiskCacheManager.h  </li>
<li>//    </li>
<li>//  </li>
<li>//  Created by jeffrey on 10-12-21.  </li>
<li>//  Copyright 2010 AppUFO. All rights reserved.  </li>
<li>//  </li>
<li><h1 id="import_">import <foundation foundation.h=""></foundation></h1>
</li>
<li><h1 id="import_“URLCacheElement-h”">import “URLCacheElement.h”</h1>
</li>
<li>@interface FlashDiskCacheManager : NSObject  </li>
<li>{  </li>
<li>/<strong> 存储已经缓存的url </strong>/  </li>
<li>NSMutableDictionary* urlDictionary;  </li>
<li></li>
<li>NSKeyedUnarchiver* reader;  </li>
<li>}  </li>
<li>@property (nonatomic, retain) NSMutableDictionary *urlDictionary;  </li>
<li>/** </li>
<li>* </li>
<li><ul>
<li>设置保存时间 </li>
</ul>
</li>
<li>* </li>
<li>*/  </li>
<li><ul>
<li>(void) setMinStoreInterval:(double)interval;  </li>
</ul>
</li>
<li><ul>
<li>(FlashDiskCacheManager*) sharedManager;  </li>
</ul>
</li>
<li>/** </li>
<li>* </li>
<li><ul>
<li>获取缓存的对象 如果为nil，则缓存已经失效，或者无缓存 </li>
</ul>
</li>
<li>* </li>
<li>*/  </li>
<li><ul>
<li>(URLCacheElement<em>) cachedForWithURL:(NSURL</em>)url;  </li>
</ul>
</li>
<li>/** </li>
<li>* </li>
<li><ul>
<li>缓存请求1 </li>
</ul>
</li>
<li>* </li>
<li>*/  </li>
<li><ul>
<li>(void) cachedWithURLResponse:(NSCachedURLResponse*) cachedResponse;  </li>
</ul>
</li>
<li>/** </li>
<li>* </li>
<li><ul>
<li>缓存请求2 </li>
</ul>
</li>
<li>* </li>
<li>*/  </li>
<li><ul>
<li>(void) cachedWithData:(NSData<em>)data theUrl:(NSURL</em>)url;  </li>
</ul>
</li>
<li>/** </li>
<li>* </li>
<li><ul>
<li>写入闪存 </li>
</ul>
</li>
<li>* </li>
<li>*/  </li>
<li><ul>
<li>(void) storeToDisk;  </li>
</ul>
</li>
<li>@end  </li>
</ol>
<p>FlashDiskCacheManager.m</p>
<p><strong>[cpp]</strong> <a href="http://blog.csdn.net/windows_star/article/details/6117392#" title="view plain" target="_blank" rel="external">view<br> plain</a><a href="http://blog.csdn.net/windows_star/article/details/6117392#" title="copy" target="_blank" rel="external">copy</a>1. //  </p>
<ol>
<li>//  FlashDiskCacheManager.m  </li>
<li>//    </li>
<li>//  </li>
<li>//  Created by jeffrey on 10-12-21.  </li>
<li>//  Copyright 2010 AppUFO. All rights reserved.  </li>
<li><h1 id="import_“FlashDiskCacheManager-h”">import “FlashDiskCacheManager.h”</h1>
</li>
<li></li>
<li>@implementation FlashDiskCacheManager  </li>
<li>@synthesize urlDictionary;  </li>
<li>static FlashDiskCacheManager* defaultManager = nil;  </li>
<li>/<strong> 存储实效时间 </strong>/  </li>
<li>static NSTimeInterval minStoreInterval = 10 <em> 60 </em> 60;  </li>
<li><ul>
<li>(void) setMinStoreInterval:(double)interval  </li>
</ul>
</li>
<li>{  </li>
<li>minStoreInterval = interval;  </li>
<li>}  </li>
<li><ul>
<li>(FlashDiskCacheManager*) sharedManager  </li>
</ul>
</li>
<li>{  </li>
<li>@synchronized(self)  </li>
<li>{  </li>
<li>if (defaultManager == nil)  </li>
<li>{  </li>
<li>defaultManager = [[self alloc] init];  </li>
<li>}  </li>
<li>return defaultManager;  </li>
<li>}  </li>
<li>}  </li>
<li><ul>
<li>(id) init  </li>
</ul>
</li>
<li>{  </li>
<li>self = [super init];  </li>
<li>if (self)  </li>
<li>{  </li>
<li>NSArray* path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);  </li>
<li>self.urlDictionary = [[NSMutableDictionary alloc] init];  </li>
<li>[urlDictionary release];  </li>
<li></li>
<li>//解档  </li>
<li>for (NSInteger index = 0; index &lt; 100000; ++index)  </li>
<li>{  </li>
<li>NSString* document = [path objectAtIndex:0];  </li>
<li>document = [document stringByAppendingPathComponent:[NSString stringWithFormat:@”cache%d”, index]];  </li>
<li>if ([[NSFileManager defaultManager] fileExistsAtPath:document])  </li>
<li>{  </li>
<li>NSMutableData* data = [[NSMutableData alloc] initWithContentsOfFile:document];  </li>
<li>reader = [[NSKeyedUnarchiver alloc] initForReadingWithData:data];  </li>
<li>URLCacheElement* element = [reader decodeObjectForKey:[NSString stringWithFormat:@”cache%d”, index]];  </li>
<li>[reader finishDecoding];  </li>
<li>NSURL* urlKey = [[NSURL alloc] initWithString:element.name];  </li>
<li>NSTimeInterval now = [element.date timeIntervalSinceNow];  </li>
<li></li>
<li>if (fabs(now) - minStoreInterval &gt; 0)  </li>
<li>{  </li>
<li>[data release];  </li>
<li>[urlKey release];  </li>
<li>[reader release];  </li>
<li>continue;  </li>
<li>}  </li>
<li></li>
<li>[urlDictionary setObject:element forKey:urlKey];  </li>
<li>[data release];  </li>
<li>[urlKey release];  </li>
<li>[reader release];  </li>
<li>}  </li>
<li>else  </li>
<li>{  </li>
<li>break;  </li>
<li>}  </li>
<li>}  </li>
<li>return self;  </li>
<li>}  </li>
<li>return nil;  </li>
<li>}  </li>
<li><ul>
<li>(URLCacheElement<em>) cachedForWithURL:(NSURL</em>)url  </li>
</ul>
</li>
<li>{  </li>
<li>URLCacheElement* element =  [urlDictionary objectForKey:url];  </li>
<li>if (element == nil)  </li>
<li>{  </li>
<li>return nil;  </li>
<li>}  </li>
<li></li>
<li>NSTimeInterval now = [element.date timeIntervalSinceNow];  </li>
<li>if (fabs(now) - minStoreInterval &gt; 0)  </li>
<li>{  </li>
<li>[self.urlDictionary removeObjectForKey:url];  </li>
<li>return nil;  </li>
<li>}  </li>
<li>return element;  </li>
<li>}  </li>
<li><ul>
<li>(void) cachedWithURLResponse:(NSCachedURLResponse*) cachedResponse  </li>
</ul>
</li>
<li>{  </li>
<li>NSURLResponse* response = [cachedResponse response];  </li>
<li></li>
<li>//要存储的url  </li>
<li>NSURL* url = [response URL];  </li>
<li></li>
<li>//要存储的数据  </li>
<li>NSData* data = [cachedResponse data];  </li>
<li></li>
<li>//存储的时间  </li>
<li>NSDate* date = [NSDate date];  </li>
<li></li>
<li>// 存储的用户信息  </li>
<li>NSDictionary* user = [cachedResponse userInfo];  </li>
<li></li>
<li>URLCacheElement* element = [[URLCacheElement alloc] initWithData:data :date :user];  </li>
<li>[self.urlDictionary setObject:element forKey:url];  </li>
<li></li>
<li>[element release];  </li>
<li>}  </li>
<li><ul>
<li>(void) cachedWithData:(NSData<em>)data theUrl:(NSURL</em>)url  </li>
</ul>
</li>
<li>{  </li>
<li>//存储的时间  </li>
<li>NSDate* date = [NSDate date];  </li>
<li></li>
<li>// 存储的用户信息  </li>
<li>NSDictionary* user = nil;  </li>
<li></li>
<li>URLCacheElement* element = [[URLCacheElement alloc] initWithData:data :date :user];  </li>
<li>[self.urlDictionary setObject:element forKey:url];  </li>
<li></li>
<li>[element release];    </li>
<li>}  </li>
<li><ul>
<li>(void) storeToDisk  </li>
</ul>
</li>
<li>{  </li>
<li>NSArray* path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);  </li>
<li>NSArray* arrayOfKeys = [urlDictionary allKeys];  </li>
<li></li>
<li>//归档  </li>
<li>for (NSInteger index = 0; index &lt; [arrayOfKeys count]; ++index)  </li>
<li>{  </li>
<li>NSURL<em> url = (NSURL</em>)[arrayOfKeys objectAtIndex:index];  </li>
<li>NSString* name = [url absoluteString];  </li>
<li></li>
<li>//初始化路径  </li>
<li>NSString* document = [path objectAtIndex:0];  </li>
<li>document = [document stringByAppendingPathComponent:[NSString stringWithFormat:@”cache%d”, index]];  </li>
<li></li>
<li>NSMutableData* tData = [[NSMutableData alloc] init];  </li>
<li>NSKeyedArchiver* write = [[NSKeyedArchiver alloc] initForWritingWithMutableData:tData];  </li>
<li>URLCacheElement* element = [urlDictionary objectForKey:[arrayOfKeys objectAtIndex:index]];  </li>
<li></li>
<li>//记录这个缓存的名字  </li>
<li>element.name = name;  </li>
<li></li>
<li>[write encodeObject:element forKey:[NSString stringWithFormat:@”cache%d”, index]];  </li>
<li></li>
<li>[write finishEncoding];  </li>
<li>[tData writeToFile:document atomically:YES];  </li>
<li></li>
<li>[tData release];  </li>
<li>[write release];  </li>
<li>}  </li>
<li>}  </li>
<li><ul>
<li>(void) dealloc  </li>
</ul>
</li>
<li>{  </li>
<li>[super dealloc];  </li>
<li>[urlDictionary release];  </li>
<li>}  </li>
<li>@end  </li>
</ol>
<p>URLCacheElement.h</p>
<p><strong>[cpp]</strong> <a href="http://blog.csdn.net/windows_star/article/details/6117392#" title="view plain" target="_blank" rel="external">view<br> plain</a><a href="http://blog.csdn.net/windows_star/article/details/6117392#" title="copy" target="_blank" rel="external">copy</a>1. //  </p>
<ol>
<li>//  URLCacheElement.h  </li>
<li>//    </li>
<li>//  </li>
<li>//  Created by jeffrey on 10-12-21.  </li>
<li>//  Copyright 2010 AppUFO. All rights reserved.  </li>
<li>//  </li>
<li><h1 id="import_-1">import <foundation foundation.h=""></foundation></h1>
</li>
<li><h1 id="define_KData_@”urlData”">define KData @”urlData”</h1>
</li>
<li><h1 id="define_KUserInfo_@”userInfo”">define KUserInfo @”userInfo”</h1>
</li>
<li><h1 id="define_KDate_@”date”">define KDate @”date”</h1>
</li>
<li><h1 id="define_KName_@”name”">define KName @”name”</h1>
</li>
<li>@interface URLCacheElement : NSObject<nscoding, nscopying="">  </nscoding,></li>
<li>{  </li>
<li>/<strong> url存储的数据 </strong>/  </li>
<li>NSData* data;  </li>
<li></li>
<li>/<strong> 存储的用户信息 </strong>/  </li>
<li>NSDictionary* userInfo;  </li>
<li></li>
<li>/<strong> 存储的时间 </strong>/  </li>
<li>NSDate* date;  </li>
<li></li>
<li>NSString* name;  </li>
<li>}  </li>
<li><ul>
<li>(id) initWithData:(NSData<em>)indata :(NSDate</em>)indate :(NSDictionary*)inuserInfo;  </li>
</ul>
</li>
<li>@property (nonatomic, retain) NSData *data;  </li>
<li>@property (nonatomic, retain) NSDictionary *userInfo;  </li>
<li>@property (nonatomic, retain) NSDate *date;  </li>
<li>@property (nonatomic, retain) NSString *name;  </li>
<li>@end  </li>
</ol>
<p>URLCacheElement.m</p>
<p><strong>[cpp]</strong> <a href="http://blog.csdn.net/windows_star/article/details/6117392#" title="view plain" target="_blank" rel="external">view<br> plain</a><a href="http://blog.csdn.net/windows_star/article/details/6117392#" title="copy" target="_blank" rel="external">copy</a>1. //  </p>
<ol>
<li>//  URLCacheElement.m  </li>
<li>//    </li>
<li>//  </li>
<li>//  Created by jeffrey on 10-12-21.  </li>
<li>//  Copyright 2010 AppUFO. All rights reserved.  </li>
<li><h1 id="import_“URLCacheElement-h”-1">import “URLCacheElement.h”</h1>
</li>
<li></li>
<li>@implementation URLCacheElement  </li>
<li>@synthesize data;  </li>
<li>@synthesize date;  </li>
<li>@synthesize userInfo;  </li>
<li>@synthesize name;  </li>
<li><ul>
<li>(id) initWithData:(NSMutableData<em>)indata :(NSDate</em>)indate :(NSMutableDictionary*)inuserInfo  </li>
</ul>
</li>
<li>{  </li>
<li>self = [super init];  </li>
<li>if (self)  </li>
<li>{  </li>
<li>self.data = indata;  </li>
<li>self.date = indate;  </li>
<li>self.userInfo = inuserInfo;  </li>
<li>return self;  </li>
<li>}  </li>
<li>return nil;  </li>
<li>}  </li>
<li></li>
<li><ul>
<li>(id) initWithCoder:(NSCoder *)aDecoder  </li>
</ul>
</li>
<li>{  </li>
<li>self = [super init];  </li>
<li>if (self)  </li>
<li>{  </li>
<li>self.data = [aDecoder decodeObjectForKey:KData];  </li>
<li>self.date = [aDecoder decodeObjectForKey:KDate];  </li>
<li>self.userInfo = [aDecoder decodeObjectForKey:KUserInfo];  </li>
<li>self.name = [aDecoder decodeObjectForKey:KName];  </li>
<li>return self;  </li>
<li>}  </li>
<li>return nil;  </li>
<li>}  </li>
<li></li>
<li><ul>
<li>(void) encodeWithCoder:(NSCoder *)aCoder  </li>
</ul>
</li>
<li>{  </li>
<li>[aCoder encodeObject:data forKey:KData];  </li>
<li>[aCoder encodeObject:date forKey:KDate];  </li>
<li>[aCoder encodeObject:userInfo forKey:KUserInfo];  </li>
<li>[aCoder encodeObject:name forKey:KName];  </li>
<li>}  </li>
<li><ul>
<li>(id) copyWithZone:(NSZone *)zone  </li>
</ul>
</li>
<li>{  </li>
<li>URLCacheElement *copy = [[[self class] allocWithZone:zone] init];  </li>
<li></li>
<li>self.data = [data copy];  </li>
<li>self.date = [date copy];  </li>
<li>self.userInfo = [userInfo copy];  </li>
<li>name = [name copy];  </li>
<li></li>
<li>return copy;  </li>
<li>}  </li>
<li><ul>
<li>(void) dealloc  </li>
</ul>
</li>
<li>{  </li>
<li>[super dealloc];  </li>
<li>}  </li>
<li>@end  </li>
</ol>
<p>本文转自:<a href="http://blog.csdn.net/windows_star/article/details/6117392" target="_blank" rel="external">http://blog.csdn.net/windows_star/article/details/6117392</a></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之网络通讯/">iOS应用开发之网络通讯</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/缓存/">缓存</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-26T02:07:00.000Z"><a href="/2014/02/26/如何改进iOS App的离线使用体验/">2月 26 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/26/如何改进iOS App的离线使用体验/">如何改进iOS App的离线使用体验</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <h2 id="App_Store中的App分析">App Store中的App分析</h2>
<p>App已经与我们形影不离了，不管在地铁上、公交上还是在会场你总能看到很多人拿出来手机，刷一刷微博，看看新闻。<br>据不完全统计有近一半的用户在非Wifi环境打开App，以下为一个典型iPhone和Android App（50W+用户）的友盟后台数据：<br><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101726375773.jpg" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101726382086.jpg" alt="1" title="1"></a><br><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101726391398.jpg" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101726403250.jpg" alt="2" title="2"></a><br>3G、2G的数据连接往往不稳定（特别在公交或者地铁上），这时打开一些App就会像这样：<br><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101726451850.png" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/20121010172647539.png" alt="IMG_2159" title="IMG_2159"></a><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101726512651.png" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101726521091.png" alt="IMG_2163" title="IMG_2163"></a><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101727107846.png" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/20121010172713863.png" alt="IMG_2160" title="IMG_2160"></a><br>当然也会有一些体验很好的App，在离线状态下也能顺畅使用：<br><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/20121010172726622.png" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101727298830.png" alt="IMG_2149" title="IMG_2149"></a><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101727449787.png" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/20121010172750588.png" alt="IMG_2150" title="IMG_2150"></a><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101728085325.png" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101728128767.png" alt="IMG_2161" title="IMG_2161"></a><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101728301279.png" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101728369845.png" alt="IMG_2162" title="IMG_2162"></a><br>甚至提供了离线阅读功能：<br><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/20121010172846151.png" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101728494804.png" alt="IMG_2158" title="IMG_2158"></a></p>
<h2 id="如何做？">如何做？</h2>
<p>打开过的文章、下载过的音频、查看过的图片我们都希望Cache到本地，下次不用再向服务器请求。<br>首先，我们为了最快让用户看到内容，会在ViewDidLoad加载Cache数据，如：<br>1234<code>-
 (``void``)viewDidLoad
 {</code> <code>``[self
 getArticleList:0 length:SECTION_LENGTH useCacheFirst:YES];``}</code>然后在viewDidAppear中向服务器请求最新数据，如<br>12345678<code>-
 (``void``)viewDidAppear:(``BOOL``)animated
 {`` </code> <code>``[super
 viewDidAppear:animated];</code> <code>``//...</code> <code>``[self
 getArticleList:0 length:SECTION_LENGTH useCacheFirst:NO]``}</code>当然这里的getArticleList接口有useCacheFirst参数，我们需要网络请求模块能够支持这一点，下面就介绍这些库和工具。（借助一些工具很容易能做到这些，而不用自己造轮子。遵循“凡事都应该最简单，而不过于简陋”的原则，这里整理一下，方便项目中使用）。</p>
<h3 id="1-NSMutableURLRequest">1.NSMutableURLRequest</h3>
<p>Sample(参考麒麟的文章《<a href="http://www.cnblogs.com/zhuqil/archive/2011/07/30/2122127.html" target="_blank" rel="external">iOS开发之缓存（一）：内存缓存</a>》来使用NSURLCache)：<br>1234567891011121314151617181920212223242526272829303132<code>NSString
 *paramURLAsString= @``&quot;[http://www.baidu.com/](http://www.baidu.com/)&quot;``;``if</code> <code>([paramURLAsString
 length] == 0){``    ``NSLog(@``&quot;Nil
 or empty URL is given&quot;``);``    ``return``;``}``NSURLCache
 *urlCache = [NSURLCache sharedURLCache];``/*
 设置缓存的大小为1M*/``[urlCache
 setMemoryCapacity:1*1024*1024];`` ``//创建一个nsurl``NSURL
 *url = [NSURL URLWithString:paramURLAsString];``    ``//创建一个请求``NSMutableURLRequest
 *request =``[NSMutableURLRequest`` ``requestWithURL:url`` ``cachePolicy:NSURLRequestUseProtocolCachePolicy`` ``timeoutInterval:60.0f];`` ``//从请求中获取缓存输出``NSCachedURLResponse
 *response =``[urlCache
 cachedResponseForRequest:request];``//判断是否有缓存``if</code> <code>(response
 != nil){``    ``NSLog(@``&quot;如果有缓存输出，从缓存中获取数据&quot;``);``    ``[request
 setCachePolicy:NSURLRequestReturnCacheDataDontLoad];``}``self.connection
 = nil;``/*
 创建NSURLConnection*/``NSURLConnection
 *newConnection =``[[NSURLConnection
 alloc] initWithRequest:request``                                ``delegate:self``                        ``startImmediately:YES];``self.connection
 = newConnection;``[newConnection
 release];</code>但是NSMutableURLRequest使用起来不够简便，在实际项目中我很少用它，而基本使用ASIHTTPRequest来代替。</p>
<h3 id="2-ASIHTTPRequest">2.ASIHTTPRequest</h3>
<p>你可以从这里找到它的介绍：<a href="http://allseeing-i.com/ASIHTTPRequest/" target="_blank" rel="external">http://allseeing-i.com/ASIHTTPRequest/</a>，在5.0/4.0及之前iOS版本，ASIHTTPRequest基本是主力的<br> HTTP requests library，它本身也是Github中的开源项目，但是从iOS 5.0之后逐渐停止维护了。未来的项目可以使用<strong><a href="https://github.com/AFNetworking/AFNetworking" target="_blank" rel="external">AFNetworking</a></strong>或者<strong><a href="https://github.com/MugunthKumar/MKNetworkKit" target="_blank" rel="external">MKNetworkKit</a></strong>代替ASIHTTPRequest。<br>ASIHTTPRequest的简介如下：</p>
<blockquote>
<p>ASIHTTPRequest is an easy to use wrapper around the CFNetwork API that makes some of the more tedious aspects of communicating with web servers easier. It is written in Objective-C and works in both Mac OS X and<br> iPhone applications.<br>It is suitable performing basic HTTP requests and interacting with REST-based services (GET / POST / PUT / DELETE). The included ASIFormDataRequest subclass makes it easy to submit POST data and files using<a href="http://en.wikipedia.org/wiki/MIME#Form_Data" target="_blank" rel="external">multipart/form-data</a>.<br>ASIHTTPRequest库API设计的简单易用，并且支持block、queue、gzip等丰富的功能，这是该开源项目如此受欢迎的主要原因。<br>ASIHTTPRequest库中提供了ASIWebPageRequest组件用于请求网页，并且能把网页中的外部资源一并请求下来，但是我在实际项目中使用后发现有严重Bug，所以不建议使用。<br>ASIHTTPRequest库的介绍中也提到了它可以支持REST-based service，但是与Restfull API打交道我们往往使用下面介绍的的RestKit。<br>Sample：<br>12345678910111213141516171819202122232425262728293031323334353637383940<code>NSMutableString
 *requestedUrl = [[NSMutableString alloc] initWithString:self.url];</code> <code>//如果优先使用本地数据``ASICachePolicy
 policy = _useCacheFirst ? ASIOnlyLoadIfNotCachedCachePolicy ``    ``:
 (ASIAskServerIfModifiedCachePolicy | ASIFallbackToCacheIfLoadFailsCachePolicy);</code> <code>asiRequest
 = [ASIHTTPRequest requestWithURL:``                   ``[NSURL
 URLWithString:[requestedUrl stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]]];</code> <code>[asiRequest
 setDownloadCache:[ASIDownloadCache sharedCache]];``[asiRequest
 setCachePolicy:policy];``[asiRequest
 setCacheStoragePolicy:ASICachePermanentlyCacheStoragePolicy];</code> <code>//
 Connection``if</code> <code>(_connectionType
 == ConnectionTypeAsynchronously) {`` </code> <code>``[asiRequest
 setDelegate:self];``    ``[asiRequest
 startAsynchronous];`` </code> <code>``//
 Tell we&#39;re receiving.``    ``if</code> <code>(!_canceled
 &amp;&amp; [_delegate respondsToSelector:@selector(downloaderDidStart:)])``        ``[_delegate
 downloaderDidStart:self];``}``else``{``    ``[asiRequest
 startSynchronous];`` </code> <code>``NSError
 *error = [asiRequest error];`` </code> <code>``if</code> <code>(!error)
``    ``{``        ``[self
 requestFinished:asiRequest];``    ``}``    ``else``    ``{``        ``[self
 requestFailed:asiRequest];``    ``}``}</code> <code>[requestedUrl
 release];</code> </p>
<h3 id="3-RestKit">3.RestKit</h3>
<p>官方网站：<a href="http://restkit.org/" target="_blank" rel="external">http://restkit.org/</a>，Github开源项目，与 Restfull<br> API 的 Web服务打交道，这个库非常便捷，它也提供了很完整的Cache机制。<br>Sample：<br>123456789101112<code>+
 (``void``)setCachePolicy:(``BOOL``)useCacheFirst``{``    ``RKObjectManager*
 objectManager = [RKObjectManager sharedManager];`` </code> <code>``if</code> <code>(useCacheFirst)
 {``        ``objectManager.client.cachePolicy
 = RKRequestCachePolicyEnabled; ``//使用本地Cache，如果没有Cache请求服务器``    ``}``    ``else``    ``{``        ``objectManager.client.cachePolicy
 = RKRequestCachePolicyLoadIfOffline|RKRequestCachePolicyTimeout; ``//离线或者超时时使用本地Cache``    ``}``}</code>123456789101112<code>+
 (``BOOL``)getHomeTimeline:(NSInteger)maxId
``                 ``length:(NSInteger)length``               ``delegate:(id&lt;RKObjectLoaderDelegate&gt;)delegate``          ``useCacheFirst:(``BOOL``)useCacheFirst``{``    ``if</code> <code>(delegate
 == nil)``        ``return</code> <code>NO;`` </code> <code>``[iKnowAPI
 setCachePolicy:useCacheFirst];</code> <code>``//...``}</code>Cache请求只是RestKit最基本的功能，RestKit真正强大的地方在于处理与RESTful web services交互时的相关工作非常简便（<a href="https://github.com/RestKit/RestKit/wiki" target="_blank" rel="external">https://github.com/RestKit/RestKit/wiki</a>），RestKit还可以Cache<br> data model到Core Data中：<br>Core Data support. Building on top of the object mapping layer, RestKit provides integration with Apple’s Core Data framework. This support allows RestKit to persist remotely loaded objects directly back into a local<br> store, either as a fast local cache or a primary data store that is periodically synced with the cloud. RestKit can populate Core Data associations for you, allowing natural property based traversal of your data model. It also provides a nice API on top of<br> the Core Data primitives that simplifies configuration and querying use cases through an implementation of the Active Record access pattern.<br>但实际上RKRequestCachePolicy已经解决了大部分Cache需求。</p>
</blockquote>
<h3 id="4-SDWebImage">4.SDWebImage</h3>
<p>SDWebImage是Github开源项目：<a href="https://github.com/rs/SDWebImage" target="_blank" rel="external">https://github.com/rs/SDWebImage</a>，它用于方便的请求、Cache网络图片，并且请求完毕后交由UIImageView显示。</p>
<blockquote>
<p>Asynchronous image downloader with cache support with an UIImageView category.<br>SDWebImage作为UIImageView的一个Category提供的，所以使用起来非常简单：<br>123<code>//
 Here we use the new provided setImageWithURL: method to load the web image``[imageView
 setImageWithURL:[NSURL URLWithString:@``&quot;[http://www.domain.com/path/to/image.jpg](http://www.domain.com/path/to/image.jpg)&quot;``]``               ``placeholderImage:[UIImage
 imageNamed:@``&quot;placeholder.png&quot;``]];</code>AFNetworking也提供了类似功能（<a href="http://afnetworking.github.com/AFNetworking/Categories/UIImageView+AFNetworking.html" target="_blank" rel="external">UIImageView+AFNetworking</a>）：<br>12<code>UIImageView
 *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(0.0f, 0.0f, 100.0f, 100.0f)];``[imageView
 setImageWithURL:[NSURL URLWithString:@``&quot;[http://i.imgur.com/r4uwx.jpg](http://i.imgur.com/r4uwx.jpg)&quot;``]
 placeholderImage:[UIImage imageNamed:@``&quot;placeholder-avatar&quot;``]];</code> </p>
<h3 id="5-UIWebView中的图片Cache">5.UIWebView中的图片Cache</h3>
<p>如果你使用UIWebView来展示内容，在离线情况下如果也想能显示的话需要实现2点：</p>
<ul>
<li>Cache Html页面</li>
<li>Cache 图片等元素</li>
</ul>
</blockquote>
<p>使用上面介绍的网络组件来Cache Html页面比较便捷，之后使用webView loadHTMLString即可加载本地Html页面，而Cache图片需要更换NSURLCache公共实例为自定义的NSURLCache（UIWebView使用的即是+[NSURLCache sharedURLCache]）：<br>12345<code>//设置使用自定义Cache机制``LocalSubstitutionCache
 *cache = [[[LocalSubstitutionCache alloc] init] autorelease];``[cache
 setMemoryCapacity:4 * 1024 * 1024];``[cache
 setDiskCapacity:10 * 1024 * 1024];``[NSURLCache
 setSharedURLCache:cache];</code>自定义NSURLCache：<br>12345678910<code>#import
 &lt;Foundation/Foundation.h&gt;</code> <code>@interface
 LocalSubstitutionCache : NSURLCache``{``    ``NSMutableDictionary
 *cachedResponses;``}</code> <code>+
 (NSString *)pathForURL:(NSURL*)url;</code> <code>@end</code>详细的见NewsReader中的LocalSubstitutionCache.h/.m和WebViewController.m中的viewDidLoad，<a href="http://www.cnblogs.com/wangkewei/archive/2012/09/29/2708373.html" target="_blank" rel="external">News<br> Reader开源项目</a>这里参考的是：<a href="http://cocoawithlove.com/2010/09/substituting-local-data-for-remote.html" target="_blank" rel="external">http://cocoawithlove.com/2010/09/substituting-local-data-for-remote.html</a></p>
<h2 id="NewsReader中的介绍">NewsReader中的介绍</h2>
<h4 id="《iOS_News_Reader开源项目》这篇文章介绍到的开源项目改进了离线使用体验：">《<a href="http://www.cnblogs.com/wangkewei/archive/2012/09/29/2708373.html" target="_blank" rel="external">iOS News Reader开源项目</a>》这篇文章介绍到的开源项目改进了离线使用体验：</h4>
<p><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/20121010172859401.png" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101729043286.png" alt="IMG_2155" title="IMG_2155"></a><a href="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/201210101729141291.png" target="_blank" rel="external"><img src="http://images.cnblogs.com/cnblogs_com/wangkewei/201210/20121010172918928.png" alt="IMG_2156" title="IMG_2156"></a><br>在没有网络的情况下使用已经Cache过的所有数据：文章、图片、音频等等，用到的主要方案已经在上面介绍了，详细的请看源码：<a href="https://github.com/cubewang/NewsReader" target="_blank" rel="external">https://github.com/cubewang/NewsReader</a>。<br>NewsReader项目因为历史演进的原因已经有些庞大了，需要进一步重构，在之后的项目中我们的客户端结构更精简。<br>另外欢迎加QQ群讨论：161561752<br>作者: 王克伟<br>出处: <a href="http://wangkewei.cnblogs.com/" target="_blank" rel="external">http://wangkewei.cnblogs.com/</a><br>版权声明: 本文的版权归作者与博客园共有。转载时须注明本文的详细链接，否则作者将保留追究其法律责任的权利。<br>您可以从<a href="http://www.cnblogs.com/wangkewei/archive/2009/10/15/1583745.html" target="_blank" rel="external">这里</a>更方便的找到我的文章。</p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之网络通讯/">iOS应用开发之网络通讯</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/iphone开发/">iphone开发</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-24T09:08:00.000Z"><a href="/2014/02/24/objective-c宏定义/">2月 24 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/24/objective-c宏定义/">objective-c宏定义</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p><strong>本文转自:<a href="http://blog.csdn.net/wangqiuyun/article/details/8104698" target="_blank" rel="external">http://blog.csdn.net/wangqiuyun/article/details/8104698</a></strong><br><strong>1、先来几个常用的：</strong></p>
<p><strong>[csharp]</strong> <a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="view plain" target="_blank" rel="external">view<br> plain</a><a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="copy" target="_blank" rel="external">copy</a>1. // 是否高清屏  </p>
<ol>
<li><h1 id="define_isRetina_([UIScreen_instancesRespondToSelector:@selector(currentMode)]_?_CGSizeEqualToSize(CGSizeMake(640,_960),_[[UIScreen_mainScreen]_currentMode]-size)_:_NO)">define isRetina ([UIScreen instancesRespondToSelector:@selector(currentMode)] ? CGSizeEqualToSize(CGSizeMake(640, 960), [[UIScreen mainScreen] currentMode].size) : NO)</h1>
</li>
<li>// 是否模拟器  </li>
<li><h1 id="define_isSimulator_(NSNotFound_!=_[[[UIDevice_currentDevice]_model]_rangeOfString:@”Simulator”]-location)">define isSimulator (NSNotFound != [[[UIDevice currentDevice] model] rangeOfString:@”Simulator”].location)</h1>
</li>
<li>// 是否iPad  </li>
<li><h1 id="define_isPad_(UI_USER_INTERFACE_IDIOM()_==_UIUserInterfaceIdiomPad)">define isPad (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)</h1>
</li>
<li>// 是否iPad  </li>
<li><h1 id="define_someThing_(UI_USER_INTERFACE_IDIOM()_==_UIUserInterfaceIdiomPad)?_ipad:_iphone">define someThing (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)? ipad: iphone</h1>
</li>
</ol>
<p><strong>2、基本的使用：</strong></p>
<p><strong>[html]</strong> <a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="view plain" target="_blank" rel="external">view<br> plain</a><a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="copy" target="_blank" rel="external">copy</a>1. //定义π值 3.1415926    </p>
<ol>
<li><h1 id="define_PI_3-1415926">define PI 3.1415926</h1>
</li>
<li>//则在程序用可以如下使用       </li>
<li>double i=2<em>PI</em>3;     </li>
<li>//效果相当于  double i=2<em>3.1415926</em>3;    </li>
<li></li>
<li>//预处理命令可以定义任何符合格式的形式，例如判断年份是否闰年  </li>
<li><h1 id="define_IS_LEAP_YEAR_year%4==0&amp;&amp;year%100!=0||year%400==0">define  IS_LEAP_YEAR  year%4==0&amp;&amp;year%100!=0||year%400==0</h1>
</li>
<li>//使用时则可以直接    </li>
<li>if(IS_LEAP_YEAR)    </li>
<li></li>
<li>//或者可以定义一个参数      </li>
<li><h1 id="define_IS_LEAP_YEAR(y)_y%4==0&amp;&amp;y%100!=0||y%400==0">define  IS_LEAP_YEAR(y)  y%4==0&amp;&amp;y%100!=0||y%400==0</h1>
</li>
<li>//使用时则可以直接     </li>
<li>int ys=2012;     </li>
<li>if(IS_LEAP_YEAR(ys))       </li>
<li></li>
<li>//通常预处理程序定义在一行 如果好分行 比如说太长需要换行  需要使用“/”符号 表示还有下一行，多行分列也是如此，例：    </li>
<li><h1 id="Define_IS_LEAP_YEAR_year%4==0&amp;&amp;year%100!=0/">Define  IS_LEAP_YEAR  year%4==0&amp;&amp;year%100!=0/</h1>
</li>
<li>||year%400==0     </li>
<li>//宏定义参数后边放一个# 那么在调用该宏时，预处理程序将根据宏参数创建C风格的常量字符串 例：    </li>
<li><h1 id="define_STR(x)_#_x">define STR(x) # x</h1>
</li>
<li>//将会使得 随后调用的      </li>
<li></li>
<li>NSLOG(STR(Programming in Objective-c./n));    </li>
<li>//显示结果为 Programming in Objective-c./n  </li>
</ol>
<p><strong>3、关于#与##的操作符：</strong></p>
<p><1>.宏定义中字符串化操作符#：</1></p>
<h1 id="的功能是将其后面的宏参数进行字符串化操作，意思就是对它所应用的宏变量通过替换后在其左右各加上一个双引号。例如">的功能是将其后面的宏参数进行字符串化操作，意思就是对它所应用的宏变量通过替换后在其左右各加上一个双引号。例如</h1>
<p><strong>[csharp]</strong> <a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="view plain" target="_blank" rel="external">view<br> plain</a><a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="copy" target="_blank" rel="external">copy</a>1. #define WARN_IF(EXPR)\  </p>
<ol>
<li>do {\  </li>
<li>if (EXPR)\  </li>
<li>fprintf(stderr, “Warning: “ #EXPR “\n”);\  </li>
<li>} while(0)  </li>
<li></li>
<li>上面代码中的反斜线\主要用来转译换行符，即屏蔽换行符。  </li>
<li></li>
<li>那么如下的代码调用：  </li>
<li>WARN_IF(divider == 0);  </li>
<li></li>
<li>将被解析为：  </li>
<li>do {\  </li>
<li>if (divider == 0)\  </li>
<li>fprintf(stderr, “Warning: “ “divider == 0” “\n”);\  </li>
<li>} while(0);  </li>
</ol>
<p>注意能够字符串化操作的必须是宏参数，不是随随便便的某个子串（token）都行的。</p>
<p><2>.宏定义中的连接符##：<br>连接符##用来将两个token连接为一个token，但它不可以位于第一个token之前or最后一个token之后。注意这里连接的对象只要是token就行，而不一定是宏参数,但是##又必须位于宏定义中才有效，因其为编译期概念（比较绕）。</2></p>
<p><strong>[html]</strong> <a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="view plain" target="_blank" rel="external">view<br> plain</a><a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="copy" target="_blank" rel="external">copy</a>1. #define LINK<em>MULTIPLE(a, b, c, d) a##</em>##b##<em>##c##</em>##d  </p>
<ol>
<li>typedef struct _record_type LINK_MULTIPLE(name, company, position, salary);  </li>
<li>/*  </li>
<li><ul>
<li>上面的代码将被替换为  </li>
</ul>
</li>
<li><ul>
<li>typedef struct _record_type name_company_position_salary;  </li>
</ul>
</li>
<li>*/  </li>
<li></li>
<li>又如下面的例子：  </li>
<li><h1 id="define_PARSER(N)_printf(“token”_#N_“_=_%d\n”,_token##N)">define PARSER(N) printf(“token” #N “ = %d\n”, token##N)</h1>
</li>
<li></li>
<li>int token64 = 64;  </li>
<li></li>
<li>如下调用宏：  </li>
<li>PARSER(64);  </li>
<li></li>
<li>将被解析为：  </li>
<li>printf(“token” “64” “ = %d\n”, token64);  </li>
<li></li>
<li>在obj-c中，如果我有如下定义：  </li>
<li><h1 id="define__X(A,_B)_(A#B)">define _X(A, B) (A#B)</h1>
</li>
<li><h1 id="define__XX(A,_B)__X([NSString_stringWithFormat:@”%@_c”,_A],_B)">define _XX(A, B) _X([NSString stringWithFormat:@”%@_c”, A], B)</h1>
</li>
<li>gcc将报错！  </li>
<li>正确的写法为：  </li>
<li><h1 id="define__XX(A,_B)__X(([NSString_stringWithFormat:@”%@_c”,_A]),_B)">define _XX(A, B) _X(([NSString stringWithFormat:@”%@_c”, A]), B)</h1>
</li>
</ol>
<p><strong>4、再来个宏定义 object-c 单例</strong></p>
<p><strong>[csharp]</strong> <a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="view plain" target="_blank" rel="external">view<br> plain</a><a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="copy" target="_blank" rel="external">copy</a>1. #define GTMOBJECT<em>SINGLETON_BOILERPLATE(_object_name</em>, <em>shared_obj_name</em>)  </p>
<ol>
<li>static <em>object_name</em> *z##<em>shared_obj_name</em> = nil;   </li>
<li><ul>
<li>(<em>object_name</em> *)<em>shared_obj_name</em> {              </li>
</ul>
</li>
<li>@synchronized(self) {                             </li>
<li>if (z##<em>shared_obj_name</em> == nil) {              </li>
<li>/<em> Note that ‘self’ may not be the same as <em>object_name</em> </em>/                                </li>
<li>/<em> first assignment done in allocWithZone but we must reassign in case init fails </em>/       </li>
<li>z##<em>shared_obj_name</em> = [[self alloc] init];                                                </li>
<li><em>GTMDevAssert((z##_shared_obj_name</em> != nil), @”didn’t catch singleton allocation”);        </li>
<li>}                                               </li>
<li>}                                                 </li>
<li>return z##<em>shared_obj_name</em>;                      </li>
<li>}                                                   </li>
<li></li>
<li><ul>
<li>(id)allocWithZone:(NSZone *)zone {                </li>
</ul>
</li>
<li>@synchronized(self) {                             </li>
<li>if (z##<em>shared_obj_name</em> == nil) {              </li>
<li>z##<em>shared_obj_name</em> = [super allocWithZone:zone];  </li>
<li>return z##<em>shared_obj_name</em>;                  </li>
<li>}                                               </li>
<li>}                                                 </li>
<li></li>
<li>/<em> We can’t return the shared instance, because it’s been init’d </em>/  </li>
<li>_GTMDevAssert(NO, @”use the singleton API, not alloc+init”);         </li>
<li>return nil;                                       </li>
<li>}                                                   </li>
<li></li>
<li><ul>
<li>(id)retain {                                      </li>
</ul>
</li>
<li>return self;                                      </li>
<li>}                                                   </li>
<li></li>
<li><ul>
<li>(NSUInteger)retainCount {                         </li>
</ul>
</li>
<li>return NSUIntegerMax;                             </li>
<li>}                                                   </li>
<li></li>
<li><ul>
<li>(void)release {                                   </li>
</ul>
</li>
<li>}                                                   </li>
<li></li>
<li><ul>
<li>(id)autorelease {                                 </li>
</ul>
</li>
<li>return self;                                      </li>
<li>}                                                   </li>
<li></li>
<li><ul>
<li>(id)copyWithZone:(NSZone *)zone {                 </li>
</ul>
</li>
<li>return self;                                      </li>
<li>}  </li>
</ol>
<p><strong>5、条件编译：</strong></p>
<p><strong>[csharp]</strong> <a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="view plain" target="_blank" rel="external">view<br> plain</a><a href="http://blog.csdn.net/wangqiuyun/article/details/8104698#" title="copy" target="_blank" rel="external">copy</a>1. #if !defined(FCDebug) || FCDebug == 0  </p>
<ol>
<li><h1 id="define_FCLOG(…)_do_{}_while_(0)">define FCLOG(…) do {} while (0)</h1>
</li>
<li><h1 id="define_FCLOGINFO(…)_do_{}_while_(0)">define FCLOGINFO(…) do {} while (0)</h1>
</li>
<li><h1 id="define_FCLOGERROR(…)_do_{}_while_(0)">define FCLOGERROR(…) do {} while (0)</h1>
</li>
<li></li>
<li><h1 id="elif_FCDebug_==_1">elif FCDebug == 1</h1>
</li>
<li><h1 id="define_FCLOG(…)_NSLog(VA_ARGS)">define FCLOG(…) NSLog(<strong>VA_ARGS</strong>)</h1>
</li>
<li><h1 id="define_FCLOGERROR(…)_NSLog(VA_ARGS)">define FCLOGERROR(…) NSLog(<strong>VA_ARGS</strong>)</h1>
</li>
<li><h1 id="define_FCLOGINFO(…)_do_{}_while_(0)-1">define FCLOGINFO(…) do {} while (0)</h1>
</li>
<li></li>
<li><h1 id="elif_FCDebug_&gt;_1">elif FCDebug &gt; 1</h1>
</li>
<li><h1 id="define_FCLOG(…)_NSLog(VA_ARGS)-1">define FCLOG(…) NSLog(<strong>VA_ARGS</strong>)</h1>
</li>
<li><h1 id="define_FCLOGERROR(…)_NSLog(VA_ARGS)-1">define FCLOGERROR(…) NSLog(<strong>VA_ARGS</strong>)</h1>
</li>
<li><h1 id="define_FCLOGINFO(…)_NSLog(VA_ARGS)">define FCLOGINFO(…) NSLog(<strong>VA_ARGS</strong>)</h1>
</li>
<li><h1 id="endif">endif</h1>
</li>
</ol>
<p><strong>6、参照C语言的预处理命令简介 ：</strong></p>
<h1 id="define_定义一个预处理宏">define              定义一个预处理宏</h1>
<h1 id="undef_取消宏的定义">undef               取消宏的定义</h1>
<h1 id="include_包含文件命令">include            包含文件命令</h1>
<h1 id="include_next_与#include相似,_但它有着特殊的用途">include_next   与#include相似, 但它有着特殊的用途</h1>
<h1 id="if_编译预处理中的条件命令,_相当于C语法中的if语句">if                      编译预处理中的条件命令, 相当于C语法中的if语句</h1>
<h1 id="ifdef_判断某个宏是否被定义,_若已定义,_执行随后的语句">ifdef                判断某个宏是否被定义, 若已定义, 执行随后的语句</h1>
<h1 id="ifndef_与#ifdef相反,_判断某个宏是否未被定义">ifndef             与#ifdef相反, 判断某个宏是否未被定义</h1>
<h1 id="elif_若#if,_#ifdef,_#ifndef或前面的#elif条件不满足,_则执行#elif之后的语句,_相当于C语法中的else-if">elif                  若#if, #ifdef, #ifndef或前面的#elif条件不满足, 则执行#elif之后的语句, 相当于C语法中的else-if</h1>
<h1 id="else_与#if,_#ifdef,_#ifndef对应,_若这些条件不满足,_则执行#else之后的语句,_相当于C语法中的else">else                与#if, #ifdef, #ifndef对应, 若这些条件不满足, 则执行#else之后的语句, 相当于C语法中的else</h1>
<h1 id="endif_#if,_#ifdef,_#ifndef这些条件命令的结束标志-">endif              #if, #ifdef, #ifndef这些条件命令的结束标志.</h1>
<p>defined            与#if, #elif配合使用, 判断某个宏是否被定义</p>
<h1 id="line_标志该语句所在的行号">line                标志该语句所在的行号</h1>
<h1 id="将宏参数替代为以参数值为内容的字符窜常量">将宏参数替代为以参数值为内容的字符窜常量</h1>
<h2 id="将两个相邻的标记(token)连接为一个单独的标记">将两个相邻的标记(token)连接为一个单独的标记</h2>
<h1 id="pragma_说明编译器信息#warning_显示编译警告信息">pragma        说明编译器信息#warning       显示编译警告信息</h1>
<h1 id="error_显示编译错误信息">error            显示编译错误信息</h1>
<p>参考链接：<a href="http://www.uml.org.cn/c++/200902104.asp" target="_blank" rel="external">http://www.uml.org.cn/c++/200902104.asp</a></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之常用方法/">iOS应用开发之常用方法</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/objective-c/">objective-c</a>, <a href="/tags/宏/">宏</a>, <a href="/tags/iphone开发/">iphone开发</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-24T05:35:00.000Z"><a href="/2014/02/24/iOS7应用国际化/">2月 24 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/24/iOS7应用国际化/">iOS7应用国际化</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>一 应用名字国际化:1. 新建一个工程test.</p>
<ol>
<li>首先修改应用名字</li>
<li><p>test-&gt;PROJECT-&gt;Info-&gt;Localizations-&gt;+号-&gt;Simplified<img src="http://img.blog.csdn.net/20140224131250015?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWluX3hpYW53ZWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
</li>
<li><p>在(English)添加CFBundleDisplayName=”English”;</p>
</li>
<li>在(Simplified)添加CFBundleDisplayName=”中文”;<img src="http://img.blog.csdn.net/20140224131753703?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWluX3hpYW53ZWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></li>
<li>启动应用就会按照本地语言加载应用的名称.</li>
</ol>
<p>二 应用内容国际化1. New File-&gt;String Flies,文件名字必须写Localizable,否则iOS识别不了,选择Localizable.strings,右边点击Localize…选择语言.<img src="" alt=""></p>
<ol>
<li>添加之后右边的Licalization会列出你支持的语言,全部勾上.</li>
<li><p>Localizable.strings会有你选择的两种语言的Strings文件.</p>
</li>
<li><p>在(English)里添加”key” = “English”;</p>
</li>
<li>在(Simplified)里添加”key” = “中文”;<img src="http://img.blog.csdn.net/20140224132942609?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWluX3hpYW53ZWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></li>
<li>添加一个Label就可以看到效果了.<img src="http://img.blog.csdn.net/20140224133121703?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWluX3hpYW53ZWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></li>
<li>当然还有获取当前语言的方法    </li>
</ol>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSArray</span> *languages = [NSLocale preferredLanguages];</div><div class="line">    <span class="built_in">NSString</span> *language = [languages objectAtIndex:<span class="number">0</span>];</div><div class="line">    <span class="built_in">NSLog</span> ( <span class="string">@"%@"</span> , language);</div></pre></td></tr></table></figure>


      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之常用方法/">iOS应用开发之常用方法</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ios国际化/">ios国际化</a>, <a href="/tags/iphone开发/">iphone开发</a>, <a href="/tags/国际化/">国际化</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-21T08:29:00.000Z"><a href="/2014/02/21/stringByEvaluatingJavaScriptFromString的使用方法/">2月 21 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/21/stringByEvaluatingJavaScriptFromString的使用方法/">stringByEvaluatingJavaScriptFromString的使用方法</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>　来源：　朱祁林 麒麟的blogstringByEvaluatingJavaScriptFromString使用stringByEvaluatingJavaScriptFromString方法，需要等UIWebView中的页面加载完成之后去调用。我们在界面上拖放一个UIWebView控件。在Load中将googlemobile加载到这个控件中，代码如下：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)viewDidLoad</div><div class="line"> {</div><div class="line"> [<span class="keyword">super</span> viewDidLoad];</div><div class="line"> webview<span class="variable">.backgroundColor</span> = [<span class="built_in">UIColor</span> clearColor];</div><div class="line"> webview<span class="variable">.scalesPageToFit</span> =<span class="literal">YES</span>;</div><div class="line"> webview<span class="variable">.delegate</span> =<span class="keyword">self</span>;</div><div class="line"> <span class="built_in">NSURL</span> *url =[[<span class="built_in">NSURL</span> alloc] initWithString:<span class="string">@"http://www.google.com.hk/m?gl=CN&hl=zh_CN&source=ihp"</span>];</div><div class="line"></div><div class="line"> <span class="built_in">NSURLRequest</span> *request = [[<span class="built_in">NSURLRequest</span> alloc] initWithURL:url];</div><div class="line"> [webview loadRequest:request];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>我们在webViewDidFinishLoad方法中就可以通过javascript操作界面元素了。1、获取当前页面的url。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)webViewDidFinishLoad:(<span class="built_in">UIWebView</span> *)webView {</div><div class="line"> <span class="built_in">NSString</span> *currentURL = [webView stringByEvaluatingJavaScriptFromString:<span class="string">@"document.location.href"</span>];</div><div class="line"> }</div></pre></td></tr></table></figure>

<p>2、获取页面title：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)webViewDidFinishLoad:(<span class="built_in">UIWebView</span> *)webView {</div><div class="line"> <span class="built_in">NSString</span> *currentURL = [webView stringByEvaluatingJavaScriptFromString:<span class="string">@"document.location.href"</span>];</div><div class="line"></div><div class="line"> <span class="built_in">NSString</span> *title = [webview stringByEvaluatingJavaScriptFromString:<span class="string">@"document.title"</span>];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>3、修改界面元素的值。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *js_result = [webView stringByEvaluatingJavaScriptFromString:<span class="string">@"document.getElementsByName('q')[0].value='朱祁林';"</span>];</div></pre></td></tr></table></figure>

<p>4、表单提交：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *js_result2 = [webView stringByEvaluatingJavaScriptFromString:<span class="string">@"document.forms[0].submit(); "</span>];</div></pre></td></tr></table></figure>

<p>这样就实现了在google搜索关键字：“朱祁林”的功能。5、插入js代码上面的功能我们可以封装到一个js函数中，将这个函数插入到页面上执行，代码如下：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">[webView stringByEvaluatingJavaScriptFromString:<span class="string">@"var script = document.createElement('script');"</span></div><div class="line"><span class="string">"script.type = 'text/javascript';"</span></div><div class="line"><span class="string">"script.text = \"function myFunction() { "</span></div><div class="line"><span class="string">"var field = document.getElementsByName('q')[0];"</span></div><div class="line"><span class="string">"field.value='朱祁林';"</span></div><div class="line"><span class="string">"document.forms[0].submit();"</span></div><div class="line"><span class="string">"}\";"</span></div><div class="line"><span class="string">"document.getElementsByTagName('head')[0].appendChild(script);"</span>];</div><div class="line"> [webView stringByEvaluatingJavaScriptFromString:<span class="string">@"myFunction();"</span>];</div></pre></td></tr></table></figure>

<p>看上面的代码：a、首先通过js创建一个script的标签，type为’text/javascript’。b、然后在这个标签中插入一段字符串，这段字符串就是一个函数：myFunction，这个函数实现google自动搜索关键字的功能。c、然后使用stringByEvaluatingJavaScriptFromString执行myFunction函数。演示：第一步打开google mobile网站 第二步输入关键字 第三步搜素 总结：这篇文章主要是讲解了stringByEvaluatingJavaScriptFromString的用法，它的功能非常的强大，用起来非常简单，通过它我们可以很方便的操作uiwebview中的页面元素。</p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之常用方法/">iOS应用开发之常用方法</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/iphone开发/">iphone开发</a>, <a href="/tags/ios开发/">ios开发</a>, <a href="/tags/UIWebView/">UIWebView</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-21T05:05:00.000Z"><a href="/2014/02/21/iOS模拟器未能安装此应用程序怎么解决/">2月 21 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/21/iOS模拟器未能安装此应用程序怎么解决/">iOS模拟器未能安装此应用程序怎么解决</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <ol>
<li><p>一般情况下是因为工程的Targets-&gt;General-&gt;Build为空,设置为1.0</p>
</li>
<li><p>删除模拟器相同的应用或者直接还原模拟器.</p>
</li>
</ol>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之Xcode配置/">iOS应用开发之Xcode配置</a>
  </div>

      
      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-20T09:11:00.000Z"><a href="/2014/02/20/iOS开发常用的类别和宏定义集成frameworkd/">2月 20 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/20/iOS开发常用的类别和宏定义集成frameworkd/">iOS开发常用的类别和宏定义集成frameworkd</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>自己闲着没事就把在网上搜罗一些常用的宏定义和类别方法,顺便学习Framework的打包,自己用着挺方便的.<br><a href="http://download.csdn.net/download/yinxianwei88/6942209" target="_blank" rel="external">Framework下载</a><br><img src="http://img.blog.csdn.net/20140220170410875?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveWluX3hpYW53ZWk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之第三方框架/">iOS应用开发之第三方框架</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/iphone开发/">iphone开发</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-20T08:54:00.000Z"><a href="/2014/02/20/国人当自强：两岸三地在线编程学习网站大搜罗/">2月 20 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/20/国人当自强：两岸三地在线编程学习网站大搜罗/">国人当自强：两岸三地在线编程学习网站大搜罗</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p><strong>       本文转自：<a href="http://www.csdn.net/article/2013-12-12/2817782-best-websites-to-learn-mobile-dev-in-china/1" target="_blank" rel="external">http://www.csdn.net/article/2013-12-12/2817782-best-websites-to-learn-mobile-dev-in-china/1</a></strong><br><strong>       摘要：</strong>在本文中，我们介绍了来自两岸三地的编程学习网站，通过它们，不仅可以一窥国内App开发的发展现状，而且这些网站各有特点，无论是主打游戏学习还是视频学习，对于想要自学的开发者而言，都是个好去处。<br>说到国内的在线编程学习网站，很多人都是一脸茫然，即使是资深开发者也是如此。在许多人眼中，尽管国内App开发景象一派繁荣，但教育疲软却是不争的事实。在《<a href="http://www.csdn.net/article/2013-12-05/2817687-best-websites-to-learn-mobile-dev-and-design" target="_blank" rel="external"><strong>移动开发者的自学宝典：十大在线编程学习网站</strong></a>》之后，笔者心生了搜罗国内在线编程学习网站的想法。在本文中，我们介绍了来自两岸三地的编程学习网站，通过它们，不仅可以一窥国内App开发的发展现状，而且在这些网站中，有些主打游戏学习，有些主打视频学习，各有特点，对于想要自学的开发者而言，不可谓不是个好去处。</p>
<h3 id="1-_Fenby">1. <a href="http://www.fenby.com/" target="_blank" rel="external">Fenby</a></h3>
<p>在国内为数不多的几个在线编程学习网站中，Fenby颇有知名度，也深受开发者喜爱。的确，对于一心想要寻找中文在线编程学习平台的用户而言，Fenby确实很好。Fenby是一个免费的在线编程互动编程学习网站，提供在线课程、互动问答、编程大赛和练习等。Fenby的运营理念很类似于Codecademy，强调趣味，而据Fenby官方介绍，他们也正是为了解决厚重乏味的书本、艰涩难搭的运行环境和枯燥冗长的视频这三大难题而生的。<br><a href="http://cms.csdnimg.cn/article/201312/12/52a9612fb5678.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/12/52a9612fb5678_middle.jpg" alt=""></a><br>说到Fenby的知识点讲授方面，则更像Treehouse，通过在视频中加入拟物、拟人等类比的知识点讲解，以及很多可视化的动画元素，让学习也变得生动有趣。而在视频教学之后，就会进入一个课堂练习的环节，用户可以在Fenby的在线编译器中输入代码，进行练习操作。<br><a href="http://cms.csdnimg.cn/article/201312/12/52a964d66d854.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/12/52a964d66d854_middle.jpg" alt=""></a><br>Fenby的这个在线代码编译器还是他们自主开发的，是不是很牛叉？除了课堂练习之外，在Fenby上，还有一个闪电编程的模块，初学者可以直接在这里起步，而开发者，则可以将代码粘贴到这里，运行调试程序。<br><strong>2. <a href="http://www.gkk.cn/" target="_blank" rel="external">中国IT公开课排行榜</a></strong><br>接下来，再介绍一个很赞的网站——中国IT公开课排行榜（以下简称为“GKK.CN”）。GKK.CN是北京尚网旗下的一个视频教程平台，在GKK.CN上，有包括应用开发、网站开发、设计等在内的各种原创IT视频教程，并且还都是免费的。<br><a href="http://cms.csdnimg.cn/article/201312/12/52a983ce5187f.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/12/52a983ce5187f_middle.jpg" alt=""></a><br>GKK.CN视频教学不仅全面，而且还有GKK.CN本身还有Android、iOS客户端，无论是在PC、平板电脑、智能手机上，用户都可以随时随地进行视频学习，此外，对于自己喜欢的视频，用户还可以收藏或下载。<br><strong>3. <a href="http://www.microoh.com/" target="_blank" rel="external">麦可网</a></strong><br>相比其他网站，在移动开发上，麦可网明显要更专业得多，这是一家垂直于移动开发课程、专注于打造以移动开发者为核心的实名生态圈的在线教育网站，于2012年正式上线，其前身为Android开发联盟。在麦可上，只有移动互联网和IT职业英语两类视频课程，其中，移动互联网又按技术种类划分为Android、手游、WP及iOS应用开发。<br><a href="http://cms.csdnimg.cn/article/201312/13/52aa67ac08cd8.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/13/52aa67ac08cd8_middle.jpg" alt=""></a><br>在国内在线教育创业圈子里，麦可网是少数中的少数，能持续盈利，还能将视频价格卖到几千块，麦可的的确确如它的介绍所言，将教育做到极致，当之无愧是国内在线教育中的一匹黑马。如此大受欢迎，麦可自有其独到之处。麦可网上的所有课程都是由具有多年开发经验的自聘讲师制作，用户既可以加入麦可的实名圈子，学习它上面的课程，也可以加入其名师圈子，进行教学授课。         </p>
<p><strong>4. <a href="http://www.kaikeba.com/" target="_blank" rel="external">开课吧</a></strong><br>开课吧是国内首家专注于泛IT学科领域的垂直B2C在线教育服务平台，成立于2013年，是一个全新设计的基于移动云计算的混合式教学平台。集在线课程的创意、设计、前期拍摄、后期制作、综合运营为一体，面向个人、高校和企事业单位提供在线内容服务、在线教育平台运营服务和在线课程制作服务等综合在线教育解决方案。<br><a href="http://cms.csdnimg.cn/article/201312/13/52aa6d5a1c434.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/13/52aa6d5a1c434_middle.jpg" alt=""></a><br>开课吧的课程有云计算、互联网营销、交互设计、大数据及编程开发五大类之分，均来自于世界著名学府、泛IT行业领军企业、泛IT行业知名培训机构及名师大腕之手。以线上学习与线下考试相结合的O2O混合教学模式，并通过提供多个3-10分钟的视频短片，用图像、动画的方式寓教于乐，既能引起学习者的兴趣，也能提高学习效率、增强学习效果。<br><strong>5. <a href="http://www.duobei.com/explore/tag/iOS" target="_blank" rel="external">多贝公开课</a></strong><br>在知乎上，说到在线教育网站，许多人对于多贝网都是颇为赞誉，更有甚者直言“找老师，上多贝”。多贝公开课是一个专注于兴趣培养、技能培训的线上C2C公开课开放平台。在多贝网上，讲师可以快速举办在线互动讲座和公开课，并自动生成回放；学生则可以轻松检索和观看各种课程，并直接与老师取得联系。多贝网所实现的其实很简单，就是零负担学习、零负担授课，让所有人都能体验人人为师、人人为学的线上互动。<br><a href="http://cms.csdnimg.cn/article/201312/13/52aa7aaa5203e.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/13/52aa7aaa5203e_middle.jpg" alt=""></a><br>多贝网的课程类别甚广，有兴趣、健康、考试、职场、互联网（产品、设计、创业等）、IT技术（iOS、Android等）、语言、营销等多个类别，对于想要学习移动应用开发和设计的童鞋而言，修学多贝公开课可能不会让你成为顶级大牛，却可以让你快速起步，一步一步从新手变高手。<br><strong>6. <a href="http://www.ucai.cn/course" target="_blank" rel="external">优才网</a></strong><br>优才网是北京优才创智科技有限公司旗下的一个在线教育服务网站，主要提供互联网和移动互联网的培训。优才网在一定程度上借鉴了Codecademy人机互动的游戏模式，但在本质上却不尽相同。优才网所采用的是“人机互动”与传统在线教育“社区知识教学”相结合的方式去做在线教育。<br><a href="http://cms.csdnimg.cn/article/201312/13/52aa80c8314fc.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/13/52aa80c8314fc_middle.jpg" alt=""></a><br>优才网的课程主要面向个人及院校，分为前端、后端、iOS、Android四大开发方向，涵盖应用、手游、跨平台、HTML5等开发。按学习程度分配班级，学员可以相互交流学习心得，并找到相应“辅导老师”答疑解惑，优才网的教学模式更像是一所完整的“网络大学”，全方位满足学生的学习需求。<br><strong><a href="http://hero.pongo.cn/" target="_blank" rel="external"></a><a href="http://www.csdn.net/" target="_blank" rel="external"></a></strong><br>和一般的在线编程学习网站不同，庞果网的在线编程网站Hero英雄会主打“挑战”二字，面向广大程序员，定期发布挑战题目或比赛。在这里，程序员不仅可以提升自己，与高手切磋。而且，只要赢得挑战，就可以获得头衔、奖品以及名企职位等。<br><a href="http://cms.csdnimg.cn/article/201312/13/52aaa3855e05a.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/13/52aaa3855e05a_middle.jpg" alt=""></a><br><strong>8. <a href="http://wanbiancheng.com/" target="_blank" rel="external">玩编程</a></strong><br>对于想要自学编程的人来说，也许玩编程更合适。玩编程是由一群曾经自学过编程的工程师、设计师、产品经理和创业家组成的团队创立的，其实这个创始团队本身就是一个很好的自学编程例子。玩编程联合创始人之一高健凯来自台湾，非技术出身，却能去尝试，并坚持下来，还从举办分享编程经验的公开课到现在创建玩编程，这本身就是件很了不起的事情。<br><a href="http://cms.csdnimg.cn/article/201312/13/52aaaa4bb6ae3.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/13/52aaaa4bb6ae3_middle.jpg" alt=""></a><br>事实上，自学编程是一件说起来容易但实践起来却非常困难的事情。因为经历过，了解其中的滋味，玩编程以短视频的互动式教学方式为用户提供更容易、更有趣、更有效的编程学习体验。目前，玩编程尚在内测中，只提供iOS开发课程，都是通过一些最真实有趣的App讲解，让用户在学到知识的同时，也学会如何做出一款最酷的iOS应用。<br><strong>9. <a href="http://codetank.alloyteam.com/" target="_blank" rel="external">代码坦克</a>（CodeTank）</strong><br>代码坦克是腾讯推出的一款相当有趣且极具挑战性的编程对战游戏，通过它，用户可以用JavaScript语言来编写属于自己的坦克机器人，并与其他人的坦克进行战斗。因为游戏是不能直接操控坦克的，所以开发者需要用代码和算法让坦克动起来，并更具战斗力。<br><a href="http://cms.csdnimg.cn/article/201312/13/52aaae0c96bfd.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/13/52aaae0c96bfd_middle.jpg" alt=""></a><br>用真正游戏的方式进行编程语言学习，在国内来说很新颖。CodeTank是全球首个JavaScript程序员的在线编程对战游戏，是由腾讯AlloyTeam和HTML5梦工场联合出品的在线坦克仿真游戏平台，采用HTML5、Javascript、CSS3、NodeJS、MongoDB等Web技术来构建一个基于互联网的在线智能坦克机器人战斗仿真引擎。<br><strong>10. <a href="http://code4app.com/" target="_blank" rel="external">Code4App</a></strong><br>此处所介绍的Code4App，从严格意义上来讲，并不属于在线编程学习网站范畴，但它确实是一个对于移动开发者非常有用的网站，是iOS开发者的好帮手。Code4App是一个面向移动开发者的开源代码收集和分享网站，在这里，开发者可以便捷地找到自己所需要的代码，以减少在不同App开发过程中重复造车，从而大大提高开发效率。<br><a href="http://cms.csdnimg.cn/article/201312/13/52aa8d8fc863a.jpg" target="_blank" rel="external"><img src="http://cms.csdnimg.cn/article/201312/13/52aa8d8fc863a_middle.jpg" alt=""></a><br>因“让移动开发者不再重复造轮子”而生，致力于做国内最好的、移动开发平台的开源代码收集网站。Code4App会为每份代码做严格的模拟机和真机测试，并配上文字说明、屏幕截图以及视频演示，除此之外，还允许用户自行上传代码分享给其他用户。也正因为这样，Code4App颇受开发者青睐。目前Code4App只推出了iOS平台，但在未来也会加入Android、WP等其他移动平台。<br><strong>11. <a href="http://www.tutor.compbrother.com/" target="_blank" rel="external">香港电脑补习网</a>、<a href="http://www.systematic.com.hk/iphone-programming.htm" target="_blank" rel="external">Systematic系统电脑教育中心</a></strong><br>不久之前，在微博上看到有人讨论香港的IT行业，让笔者有了一窥香港的App开发的冲动。即使是现在，许多人对于香港的移动互联网还是充满憧憬和向往的。可是，尽管有一些非常不错的移动互联网公司，但整体上却并不如人意。即使因为智能设备在香港的大幅度普及，即使受到内地风生水起的影响，为App开发创造了一些机会，但其环境却已大不如前。<br>在许多香港本土居民的眼中，搞开发是项没有前途的事业。在这种情况下，香港的在线编程教育实在难以雄起，在搜罗过程中，笔者发现，说到应用开发学习，香港的编程学习网站有特点实在是凤毛麟角，更多的是以线上线下相结合的方式，而首推的便是香港电脑补习网、Systematic系统电脑教育中心，都是线下教学，这和我们所推崇的MOOC还是有很大的差距的。<br><strong>结束语</strong><br>在本文中，我们并未介绍诸如网易公开课等比较知名的MOOC网站，只是对更倾向于IT的在线编程学习网站列举出来并进行介绍。其实在国内，说到自学编程资源，还是很多的，除了论坛博客，还有许多视频教学网站，比如专门提供Android开发教学的，也是Android开发者最喜欢的<strong><a href="http://www.android-study.net/" target="_blank" rel="external">Android开发学习网</a>、<a href="http://edu.eoe.cn/" target="_blank" rel="external">eoe在线课堂</a>、<a href="http://www.apkbus.com/heima/" target="_blank" rel="external">安卓巴士</a></strong>等，如果你有好的学习网站，不妨在这里和我们分享一下吧。<br>（文/唐小引 责编/张宁）<br><strong>本文为CSDN原创文章，未经允许不得转载，如需转载请联系market#csdn.net(#换成@)</strong></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之学习资源/">iOS应用开发之学习资源</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ios/">ios</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-20T07:54:00.000Z"><a href="/2014/02/20/IOS回调机制——署理，通知中心以及Block/">2月 20 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/20/IOS回调机制——署理，通知中心以及Block/">IOS回调机制——署理，通知中心以及Block</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <h2 id="Xcode5-0正式版">Xcode5.0正式版</h2>
<p>IOS7和Xcode5正式版在昨天正式可以下载。IOS7不多说了，交互设计，界面风格，操作的简化程度都属于比较领先的水平。<br>这里来说说Xcode5正式版，和以前的Xcode5测试版来比，正式版改动不大，不过也有稍许变化。整体来讲，跟Xcode4.6比，属于换了一个时代- -(因为以前的工程换到这里编译需要改很多地方)<br>Xcode5给我的感觉就是：界面简洁扁平化，配置工程图形化，还有就是。。白。为什么说白，看看配置IB和配置工程就知道了。。。</p>
<p><img src="http://www.myexception.cn/img/2013/09/21/141350218.jpg" alt=""></p>
<p><img src="http://www.myexception.cn/img/2013/09/21/141350219.jpg" alt=""></p>
<p>相比4.6来讲，5在操作上还是有很多大的改进。也可以用于开发旧版本的项目，需要把arm64去掉，把XIB文件设置成之前的版本就好。不过也有一些细节需要注意。所以嫌麻烦的话可以用之前版本的- -。<br>言归正传，这里来认识下三种IOS常见的回调模式。</p>
<h2 id="代理模式">代理模式</h2>
<p>作为IOS中最常见的通讯模式，代理几乎无处不在。<br><img src="http://www.myexception.cn/img/2013/09/21/141350220.jpg" alt=""></p>
<p>看实例这里有一个数组，我们首先通过代理的方式将数组传递到其他方法中去。<br>设置协议及方法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">@protocol CallBackDelegate;</div><div class="line"></div><div class="line">@interface ViewController : UIViewController</div><div class="line">@property (weak, nonatomic) id&lt;CallBackDelegate&gt; delegate;</div><div class="line">@end</div><div class="line"></div><div class="line">@protocol CallBackDelegate &lt;NSObject&gt;</div><div class="line">- (<span class="keyword">void</span>)showArrayWithDelegate:(NSArray *)<span class="built_in">array</span>;</div><div class="line">@end</div></pre></td></tr></table></figure>

<p>@interface ViewController () <callbackdelegate></callbackdelegate></p>
<p>点击按钮传递数组让其显示</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (IBAction)delegateCallBack</div><div class="line">{</div><div class="line">    NSDictionary *dict = @{@<span class="string">"array"</span>: @[@<span class="string">"Chelsea"</span>, @<span class="string">"MUFC"</span>, @<span class="string">"Real Madrid"</span>]};</div><div class="line">    NSArray *<span class="built_in">array</span> = dict[@<span class="string">"array"</span>];</div><div class="line">    [self.delegate showArrayWithDelegate:<span class="built_in">array</span>];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>调用，显示</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)showArrayWithDelegate:(NSArray *)<span class="built_in">array</span></div><div class="line">{</div><div class="line">    _outputLabel.text = <span class="built_in">array</span>[<span class="number">2</span>];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>最重要也是最容易忽略的，就是一定要设置delegate的指向。完成后屏幕显示<img src="http://www.myexception.cn/img/2013/09/21/141350221.jpg" alt=""></p>
<h2 id="使用通知中心">使用通知中心</h2>
<p>通知中心的方式可以不用设置代理，但是需要设置观察者和移除观察者。<br><img src="http://www.myexception.cn/img/2013/09/21/141350222.jpg" alt=""></p>
<p>代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (IBAction)callBack</div><div class="line">{</div><div class="line">    NSDictionary *dict = @{@<span class="string">"array"</span>: @[@<span class="string">"Chelsea"</span>, @<span class="string">"MUFC"</span>, @<span class="string">"Real Madrid"</span>]};</div><div class="line">    NSArray *<span class="built_in">array</span> = dict[@<span class="string">"array"</span>];</div><div class="line">    [[NSNotificationCenter defaultCenter] postNotificationName:@<span class="string">"OutputArrayNotification"</span> object:<span class="built_in">array</span>];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>注册和移出观察者</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)viewWillAppear:(BOOL)animated</div><div class="line">{</div><div class="line">    [super viewWillAppear:animated];</div><div class="line">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(outputWithNote:) name:@<span class="string">"OutputArrayNotification"</span> object:nil];</div><div class="line">}</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidDisappear:(BOOL)animated</div><div class="line">{</div><div class="line">    [super viewDidDisappear:animated];</div><div class="line">    [[NSNotificationCenter defaultCenter] removeObserver:self name:@<span class="string">"OutputArrayNotification"</span> object:nil];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>显示</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)outputWithNote:(NSNotification *)aNotification</div><div class="line">{</div><div class="line">    NSArray *receiveArray = [aNotification object];</div><div class="line">    _outputLabel.text = receiveArray[<span class="number">0</span>];</div><div class="line">}</div></pre></td></tr></table></figure>

<p><img src="http://www.myexception.cn/img/2013/09/21/141350223.jpg" alt=""></p>
<h2 id="Block">Block</h2>
<p>什么是Block：从C的声明符到Objective-C的Blocks语法块代码以闭包得形式将各种内容进行传递，可以是代码，可以是数组无所不能。块代码十分方便将不同地方的代码集中统一，使其易读性增强。</p>
<p>来看这里怎么进行数组传递。<br>typedef void (^Arr_Block)(NSArray *array);</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)showArrayUsingBlock:(Arr_Block)block</div><div class="line">{</div><div class="line">    NSDictionary *dict = @{@<span class="string">"array"</span>: @[@<span class="string">"Chelsea"</span>, @<span class="string">"MUFC"</span>, @<span class="string">"Real Madrid"</span>]};</div><div class="line">    NSArray *<span class="built_in">array</span> = dict[@<span class="string">"array"</span>];</div><div class="line">    block(<span class="built_in">array</span>);</div><div class="line">}</div></pre></td></tr></table></figure>

<p>调用方法，显示</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (IBAction)blockCallBack</div><div class="line">{</div><div class="line">    [self showArrayUsingBlock:^(NSArray *<span class="built_in">array</span>) {</div><div class="line">        _outputLabel.text = <span class="built_in">array</span>[<span class="number">1</span>];</div><div class="line">    }];</div><div class="line">}</div></pre></td></tr></table></figure>

<p><img src="http://www.myexception.cn/img/2013/09/21/141350224.jpg" alt=""></p>
<p>三种模式都很轻松~</p>
<p>本文转自:<a href="http://www.myexception.cn/operating-system/1407402.html" target="_blank" rel="external">http://www.myexception.cn/operating-system/1407402.html</a></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之常用方法/">iOS应用开发之常用方法</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/block/">block</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-20T04:39:00.000Z"><a href="/2014/02/20/苹果应用商店审核指南中文翻译/">2月 20 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/20/苹果应用商店审核指南中文翻译/">苹果应用商店审核指南中文翻译</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p><strong>前言</strong> 感谢您付出宝贵的才华与时间来开发iOS应用程程序。从职业与报酬的角度而言，这对于成千上万的开发员来说一直都是一项值得投入的事业。我们希望帮助您加 入这个成功的组织。这是我们首次发布《应用程序商店评估指导》（App Store Review Guidelines）。通过它，我们希望帮助您解决开发应用程序时遇到的问题，以便于您在提交应用程序时，可以加快审批流程的速度。 </p>
<p>我们将应用程序（Apps）视为与书籍或歌曲不同的产品，我们并不存储它们。如果您意欲批评宗教，那就去写本书。如果您想要描述<strong>*</strong>过程， 写本书或写首歌曲，或者可以创建一个医疗程序。这会出现非常复杂的局面，但是我们决定，在应用程序商店（App Store）禁止出现某种内容。这或许会让您认识到我们秉持的更为深远的目的： </p>
<p>我们拥有许多儿童可以下载的应用程序，除非父母事先进行了设置（一般父母都不会设置），否则父母对这些内容的操作控制将会无效。因此，您要了解我们时刻在留意着您的孩子。 </p>
<p>我们应用商店不需要那些垃圾应用程序。如果您的应用程序没有什么有益的用途或者持续性的娱乐功能，则可能不会获得我方接受。 </p>
<p>如果您的应用程序看上去像是那种只花了几天功夫简单拼凑出来的产品，或者只是想在我们的商店中抓住朋友的眼球，请提前做好遭拒的准备。我们有很多具有严谨态度的开发程序员不希望他们的高品质应用程序充斥在一些业余作品之中。 </p>
<p>我们将拒绝任何包含越界内容或行为的应用程序。您可能会问道，具体限制是什么？最高法院的法官曾有言：“它出现时我自然心中有数。”当您越过这一范围时，我们认为您也会有自知之明。 </p>
<p>如果您的应用程序被拒，我们设立了一个审查委员会供您上诉。如果您去媒体抨击我们，肯定对您于事无补。 </p>
<p>这是一个动态文档，新提交的应用程序会导致新的问题产生，并可能随时产生新的规则。或许您的应用程序会触及到这一点。  </p>
<p>最后要说明的是，我们非常珍惜这个平台，并且向您的作品表示敬意。我们确实在尝试尽力创建全球最佳平台，以便让您展示才华，同时获得相应的报酬。如果这读上去让您感觉我们的控制欲过强，那是因为我们曾向用户承诺保证，我们将利用我们的产品让他们获得高品质体验。  <strong>目录  </strong></p>
<ol>
<li>条款与条件 </li>
<li>功能 </li>
<li>元数据、评级与排名 </li>
<li>位置 </li>
<li>推送通知 </li>
<li>游戏中心 </li>
<li>广告 </li>
<li>商标与商业外观 </li>
<li>媒体内容 </li>
<li>用户界面 </li>
<li>购买与货币 </li>
<li>抓取与聚合 </li>
<li>设备损害 </li>
<li>人身攻击 </li>
<li>暴力 </li>
<li>令人反感的</li>
<li>隐私 </li>
<li>色情 </li>
<li>宗教、文化与种族 </li>
<li>竞赛、赌金、抽奖以及奖券</li>
<li>慈善与援助 </li>
<li>法律要件 </li>
</ol>
<p><strong>1. 条款和条件</strong><br>1.1 为App Store开发程序，开发者必须遵守程序许可协议（PLA）、人机交互指南（HIG）以及开发者和苹果签订的任何协议和合同。以下规则和例子旨在帮助开发者的程序能获得App Store的认可，而不是修改或删除任何其他协议中的条款。</p>
<p><strong>2. 功能</strong><br>2.1 崩溃的程序将会被拒绝 </p>
<p>2.2 存在错误的程序将会被拒绝 </p>
<p>2.3 跟开发者宣传不符的程序将会被拒绝 </p>
<p>2.4 无应用文档或隐藏功能与描述不符的程序将会被拒绝 </p>
<p>2.5 使用非公开API的程序将会被拒绝 </p>
<p>2.6 在指定容器范围外读写数据的程序将会被拒绝 </p>
<p>2.7 以任何方式或形式下载代码的程序将会被拒绝  </p>
<p>2.8 安装或释放其他可执行代码的程序将会被拒绝 </p>
<p>2.9 beta版、演示版、trial版和测试版的程序将会被拒绝 </p>
<p>2.10 iPhone程序必须不经修改就能以iPhone分辨率和2倍 iPhone 3GS的分辨率在iPad上运行 </p>
<p>2.11 与App Store已有程序重复的应用可能会被拒绝，特别是数量很多的情况下 </p>
<p>2.12有用性不显著、不独特的应用或者与网站简单捆绑的应用有可能被拒；不提供任何持久娱乐价值的程序可能会被拒绝 </p>
<p>2.13 主要内容为营销或广告的程序将会被拒绝 </p>
<p>2.14 欺骗或有虚假功能，没有明确标示的应用程序将会被拒绝 </p>
<p>2.15 大于50MB的程序不会被通过蜂窝网络下载（App Store会自动禁止） </p>
<p>2.16 多任务程序仅可以为达到预期目的而使用后台服务：网络电话、音频播放、定位、任务完成度、本地通知等</p>
<p>2.17 浏览网络的程序必须使用iOS WebKit框架和WebKit Javascript </p>
<p>2.18 鼓励过量饮酒或非法物质，或鼓励青少年饮酒或吸烟的程序将会被拒绝 </p>
<p>2.19 提供不正确诊断或其他错误设备数据的应用将会被拒绝 </p>
<p>2.20 向App Store上传大量相似版本程序的开发者将会从iOS开发者项目中除名 </p>
<p>2.21 只是歌曲或者影片的应用要提交到iTunes store，只是书的应用应该被提交到iBookstore </p>
<p>2.22 武断地根据环境（如定位或者网络供应商）限制用户使用的应用会被拒 2.23应用必须遵守<a href="https://daw.apple.com/cgi-bin/WebObjects/DSAuthWeb.woa/wa/login?path=%2F%2Ficloud%2Fdocumentation%2Fdata-storage%2F&amp;appIdKey=d4f7d769c2abecc664d0dadfed6a67f943442b5e9c87524d4587a95773750cea" target="_blank" rel="external">iOS数据储存指导方针</a>，否则应用将被拒 2.24 存放目的地为Newsstand的应用必须遵守<a href="https://daw.apple.com/cgi-bin/WebObjects/DSAuthWeb.woa/wa/login?appIdKey=cdd9076ec329293eceabffdaf0aa8bb31fac601da0e97f2f78bc379783c46096&amp;path=%2F%2Fmembercenter%2Findex.action#agreements" target="_blank" rel="external">开发者项目许可协议</a>的表1、表2以及表3，否则应用将会被拒 2.25苹果拒绝具有以下行为的应用：展现、推广他人应用；推广与App Store现有应用极为相似的应用</p>
<p><strong>3. 元数据（名称、描述、评级、排名等）</strong><br>3.1 带有任何其他移动平台名称的元数据程序将会被拒绝 </p>
<p>3.2 带有占位符文本的程序将会被拒绝 </p>
<p>3.3 带有与程序内容和功能不相关描述的程序将会被拒绝 </p>
<p>3.4 连接到 iTunes 中的程序名称及显示在设备的程序名称应该相似，不至引起混淆 </p>
<p>3.5 小型与大型程序的图标应该类似，不至引起混淆 </p>
<p>3.6 程序图标与画面不符合4+年龄评级的程序将会被拒绝 </p>
<p>3.7 目录与类型不适合于程序内容的程序将会被拒绝 </p>
<p>3.8 开发程序员负责为其程序指定适合的评级。不相称的评级可能会由苹果公司修改 </p>
<p>3.9 开发程序员负责为其程序指定适合的关键字。关键字不适用可能会由苹果公司修改/删除 </p>
<p>3.10有以下行为的开发者将会被苹果从iOS开发者项目中除名：试图操纵或者欺骗用户评级的行为，伪造或者收买用户评级的行为，以及其他不相称的行为 3.11在安装下载之前推荐用户重启iOS设备的应用将会被拒 3.12用程序应该包括url的全部功能，比如支持和隐私政策的url</p>
<p><strong>4. 定位</strong><br>4.1 在采集、传送或使用位置数据之前未通知并获得用户同意的程序将会被拒绝 </p>
<p>4.2 使用基于位置的API用于车辆、飞机或其他设备的自动控制或自主控制的程序将会被拒绝 </p>
<p>4.3 使用基于位置的API用于调度、车队管理或应急服务的程序将会被拒绝 4.4当与应用功能或服务密切相关时可以使用位置数据，同时用于广告业务的数据分析需经用户许可</p>
<p><strong>5. 推送通知</strong><br>5.1 不采用苹果推送通知 (APN)应用接口提供推送通知的程序将会被拒绝 </p>
<p>5.2 未从苹果获得推送应用ID便擅自使用APN服务的程序将会被拒绝 </p>
<p>5.3 未获得用户初次同意便发送推送通知的程序将会被拒绝 </p>
<p>5.4 使用推送通知发送敏感个人信息或机密信息的程序将会被拒绝 </p>
<p>5.5 使用推送通知发送非请求消息或用于钓鱼或群发垃圾邮件用途的程序将会被拒绝 </p>
<p>5.6 程序不可使用推送通知发送广告、促销或任何类型的直销 </p>
<p>5.7 程序不能向使用推送通知服务的用户收取费用 </p>
<p>5.8 使用推送通知会利用过多APN服务的网络流量或带宽或给设备带来过度负担的程序将会被拒绝 </p>
<p>5.9 如果程序能够传送病毒、文件、计算机代码或程序，并且对APN服务的正常运行造成损害或中断，该程序将会被拒绝 </p>
<p><strong>6. 游戏中心</strong><br>6.1 向终端用户或任意第三方显示玩家ID的程序将会被拒绝 </p>
<p>6.2 将玩家ID用于任何未经游戏中心条款批准用途的程序将会被拒绝 </p>
<p>6.3 企图进行反射查找、跟踪、关联、挖掘、获得或利用玩家ID、化名或通过游戏中心获得的其他信息将会从iOS 开发程序员项目中除名 </p>
<p>6.4 游戏中心信息（例如计分板得分）可能仅能用于游戏中心批准的程序 </p>
<p>6.5 利用游戏中心服务发送非请求信息或用于钓鱼或群发垃圾邮件的程序将会被拒绝 </p>
<p>6.6 过多使用游戏中心网络流量或带宽的程序将会被拒绝 </p>
<p>6.7 如果程序能够传送病毒、文件、计算机代码或程序，并且对游戏中心服务的正常运行造成损害或中断，该程序将会被拒绝<br><strong><br>7.广告相关</strong><br>7.1 人工增加访问次数或者广告点击量的应用程序将会被拒绝 </p>
<p>7.2 包含有空的iAd广告栏的应用程序将会被拒绝 </p>
<p>7.3 主要设计目的在于显示广告的应用程序将会被拒绝 </p>
<p><strong>8. 商标与商业外观</strong></p>
<p>8.1应用程序必须遵守使用<a href="http://www.apple.com/legal/trademark/guidelinesfor3rdparties.html" target="_blank" rel="external">苹果商标和版权指导方针</a>以及<a href="http://www.apple.com/legal/trademark/appletmlist.html" target="_blank" rel="external">苹果商标列表指导手册</a>中说明的所有条款与条件</p>
<p>8.2 任何误导和暗示苹果公司是该应用程序来源或提供商，或者苹果公司以任何形式表示认可其质量或功能的应用程序将会被拒绝 </p>
<p>8.3 与目前已有苹果产品或者广告主题外观相似混淆的应用程序将会被拒绝 </p>
<p>8.4 在应用程序名称中将苹果产品名拼错的应用程序（例如，GPS for Iphone， iTunz）将会被拒绝 </p>
<p>8.5 使用受保护的第三方材料（商标、版权、商业机密、其他私有内容）在申请时需要提供一份文本形式的版权确认<br> 8.6   在保证原有内容的商标特征不被覆盖且完全可见的前提下，应用可以通过Google Maps API调用Google Maps和Google Earth图片。任何遮盖或修改Google标志或版权人证明的应用会被拒。<br><strong>9. 媒体内容</strong><br>9.1 不使用媒体播放器框架（MediaPlayer Framework）获取音乐库中媒体的应用程序将会被拒绝 </p>
<p>9.2 模仿任何iPod界面的应用程序将会被拒绝 </p>
<p>9.3 通过蜂窝网络传输的音频流内容每5分钟不得大于5MB </p>
<p>9.4 通过蜂窝网络传输超过10分钟的视频流内容需要使用HTTP直播流（HTTP Live Streaming）并包含一个基准线为64kbps仅音频的HTTP直播流</p>
<p><strong>10. 用户界面</strong><br>10.1 应用程序必须遵守苹果《iPhone用户界面指导原则》以及《iPad用户界面指导原则》中解释的所有条款和条件。 </p>
<p>10.2 与App Store、iTunes Store和iBookstore等提供的iPhone捆绑应用程序类似的应用程序将会被拒绝。</p>
<p>10.3 未能按苹果《iPhone用户界面指导原则》及《iPad用户界面指导原则》所述，正确使用系统自带的按钮、图标等项目的应用程序可能会被拒绝。 </p>
<p>10.4 创建alternat桌面/主屏幕环境或者模拟多应用程序widget体验的应用程序将会被拒绝。 </p>
<p>10.5 改变音量大小和铃声/静音开关等标准开关功能的应用程序将会被拒绝。 </p>
<p>10.6 苹果及我们的客户高度推崇简单、精致、富有创造性以及经过精心设计的界面。虽然需要付出更多，但却非常值得。苹果设立了很高的门槛。如果你的用户界面太过复杂或者水准不高，可能会被拒绝。</p>
<p><strong>11. 购买与货币</strong><br>11.1 使用App Store以外的软件开启或提供额外功能的应用程序将会被拒绝。 </p>
<p>11.2 使用应用内支付系统（IAP）以外的系统购买内容、功能或服务的应用软件将会被拒绝。 </p>
<p>11.3 使用IAP购买实物商品和并非用于该软件的服务的应用软件将会被拒绝。 </p>
<p>11.4 应用软件使用IAP购买信用点或者其他货币必须消费本软件内的信用点。 </p>
<p>11.5使用IAP购买已过期信用点或者其他货币的应用软件将会被拒绝。 </p>
<p>11.6使用IAP订阅内容最少需持续30天，所有iOS设备用户都可使用这项功能。 </p>
<p>11.7 应用软件使用IAP购买的商品必须具有可购买性。 </p>
<p>11.8  使用IAP购买iOS提供的照相摄像或陀螺仪等内置功能的应用软件将会被拒绝。 </p>
<p>11.9 含有已超过限定时间的“出租”内容或服务的应用软件将会被拒绝。 </p>
<p>11.10 保险应用软件必须免费，遵守发布地区的法律同时不能使用IAP。 </p>
<p>11.11  一般而言，你的应用程序越贵，我们的评审越彻底。 11.12  提供订阅功能的应用必须使用IAP，苹果将会与开发者按30/70比例分成，<a href="https://daw.apple.com/cgi-bin/WebObjects/DSAuthWeb.woa/wa/login?appIdKey=cdd9076ec329293eceabffdaf0aa8bb31fac601da0e97f2f78bc379783c46096&amp;path=%2F%2Fmembercenter%2Findex.action#agreements" target="_blank" rel="external">详情点击查看。</a> 11.13在苹果内部使用跳转至外部购买或订阅链接的应用将会被拒 11.14只要应用内没有跳转至外部购买、订阅的按钮或链接，苹果允许这些应用读取或展示经批准的、并且在应用外实现购买或订阅内容(特别是杂志、报纸、书籍、音频、音乐和视频)。如果应用内有跳转至外部订阅、购买的按钮或链接，苹果将不会从中获得任何收益。 11.15应用程序可以只使用自动更新订阅期刊(报纸、杂志的)、业务应用程序(企业、生产力、专业创意,云存储)和媒体应用程序(视频、音频、声音)，否则应用程序将被拒绝<br><strong>12. 抓取和聚合</strong><br>12.1 从苹果网站（例如apple.com、iTunes Store、App Store、iTunes Connect、苹果开发者计划等）抓取任何信息或者使用苹果网站的内容和服务进行排名的应用软件将遭到拒绝。  </p>
<p>12.2 应用软件可以使用获得批准的苹果RSS feeds，例如iTunes Store RSS feeds。 </p>
<p>12.3 只是简单的网页剪切、内容聚合器或者罗列链接的应用软件可能会被拒绝。</p>
<p><strong>13. 设备损害</strong><br>13.1 怂恿用户以可能造成损害的方式使用苹果设备的应用软件将会被拒绝。 </p>
<p>13.2 快速耗光设备电量或产生过多热量的应用软件将会被拒绝。</p>
<p><strong>14. 人身攻击</strong><br>14.1 具有诽谤、人身攻击性质以及内容狭隘卑鄙的应用软件或者打击特定个人或组织的应用软件将会被拒绝。 </p>
<p>14.2 职业政治讽刺家不受这一禁令约束，可进行具有攻击性或狭隘刻薄的评论。</p>
<p><strong>15. 暴力</strong><br>15.1 应用程序中出现人或动物被杀、致残以及枪击、刺伤、拷打等受伤情形的真实画面将会被拒绝。 </p>
<p>15.2 出现描绘暴力或虐待儿童等内容的应用程序将会被拒绝。 </p>
<p>15.3 游戏中出现的“敌人”不可指向一个特定种族、文化、一个真实存在的政府、企业或者其他任何现实中的实体。 </p>
<p>15.4 对武器进行真实描述以怂恿非法使用或滥用这些武器的应用程序将会被拒绝。 </p>
<p>15.5包含俄罗斯轮盘赌博内容的游戏将会被拒<br><strong>16.令人反感的内容</strong><br>16.1 应用程序中出现过于令人反感或者低俗的内容将会被拒绝。 </p>
<p>16.2 在设计上用于激怒用户或令人感到厌恶的应用程序将会被拒绝。</p>
<p><strong>17.隐私</strong><br>17.1 应用程序不能在未获用户允许或未向用户提供如何使用及在何处使用数据的相关信息情况下传输有关用户的数据。 </p>
<p>17.2 要求用户共享电子邮箱地址和出生日期等私人信息才可使用其功能的应用程序将会被拒绝。 </p>
<p>17.3 锁定未成年人进行数据收集的应用程序将会被拒绝。</p>
<p><strong>18. 色情</strong><br>18.1 含有色情素材，也就是《韦氏词典》中定义的“旨在激发情欲，对性器官或性行为的明确描述或展示，而无关美学或情绪感受”的程序将会被拒绝 </p>
<p>18.2 用户产生内容多为色情的程序（比如以前的Chat Roulette程序）将会被拒绝</p>
<p><strong>19.宗教，文化与种族</strong><br>19.1 涉及宗教、文化或种族群体的引用或评论包含诽谤性、攻击性或自私性内容，或会使特定群体遭受伤害或暴力的程序将会被拒绝 </p>
<p>19.2 程序可以包含或引用宗教经文，程序所提供的引用或翻译必须准确且不会引起误导。评论应该有教育意义，可以令人开阔眼界，而不应有煽动性<br>**</p>
<ol>
<li>竞赛、赌金、抽奖以及奖券**<br>20.1 赌金和竞赛必须由程序的开发者/公司发起 </li>
</ol>
<p>20.2 赌金和竞赛的正式规则必须在程序中注明，并且必须明确表示苹果不是发起者，也没有以任何方式参与活动 </p>
<p>20.3 开发者运营一款具有抽奖内容的应用必须在法律容许范围之内，这些应用必须具备以下特征：报酬、机遇以及奖品</p>
<p>20.4 允许用户直接购买彩票或彩券的应用将会被拒绝</p>
<p><strong>21.慈善与援助</strong><br>21.1包含可以向认证的慈善组织捐赠功能的程序必须是免费的 </p>
<p>21.2 捐赠款项的募集必须通过Safari浏览器中的网站或是手机短消息。 </p>
<p><strong>22. 法律要件</strong><br>22.1 程序必须遵守各地用户遵守的任何法律要求。开发者有义务了解并遵守当地所有法律 </p>
<p>22.2 包含虚假，欺诈或误导性陈述的程序将会被拒绝 </p>
<p>22.3 请求、促进或鼓励犯罪或明显鲁莽行为的程序将会被拒绝 </p>
<p>22.4 使用非法文件共享的程序将会被拒绝 </p>
<p>22.5 被设计用作非法赌博辅助工具，包括算牌的程序将会被拒绝 </p>
<p>22.6 具有拨打匿名或恶作剧电话或发送类似短信/彩信功能的程序将会被拒绝 </p>
<p>22.7 开发暗中收集用户密码或用户私人数据程序的开发者将会从iOS开发者项目中除名 </p>
<p>22.8包含不被法律允许的DUI识别符的应用，怂恿酒后驾车的应用将会被拒<br><strong>动态文档</strong></p>
<p>这份文档展现了我们在竭尽所能向您分享我们对提交到App Store的程序的审查方式，我们希望您在开发和提交程序时，这份指南能对您有所帮助。这是一份动态文档，随着新程序和新情况的发生会有所变化。我们会定期更新，以反映这些变化。 </p>
<p>感谢您参与到iOS的开发中来。虽然此文档是一份“不该做事宜”的列表，但也请将那份短得多的“必做事宜”列表牢记在心。最重要的是，与我们一道 共同努力让用户感到惊奇和欣喜。用创新方式向他们展示世界，让他们用前所未有的方式与之交流。根据我们的经验，无论是在功能和用户界面上，用户确实会对完 善的程序有所反应。更进一步，给他们期望之外的东西，带他们去从未去过的地方。我们愿意提供帮助。<br>本文转自:<a href="http://www.cocoachina.com/appstore/top/2013/0304/5757.html" target="_blank" rel="external">http://www.cocoachina.com/appstore/top/2013/0304/5757.html</a></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之app上架/">iOS应用开发之app上架</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/苹果应用商店/">苹果应用商店</a>, <a href="/tags/appStore审核/">appStore审核</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
    <a href="/archives/page/4/" class="alignleft prev">Prev</a>
  
  
    <a href="/archives/page/6/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  
    <form>
      <input id="st-search-input" type="search" placeholder="Search">
    </form>
    <div id="st-results-container"></div>
  
</div>

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <div class="entry">
    
      <span><a href="/tags/2d/">2d<small>1</small></a></span>
    
      <span><a href="/tags/AFNetworking/">AFNetworking<small>2</small></a></span>
    
      <span><a href="/tags/CoreData/">CoreData<small>2</small></a></span>
    
      <span><a href="/tags/Drawing/">Drawing<small>1</small></a></span>
    
      <span><a href="/tags/MagicalRecord/">MagicalRecord<small>1</small></a></span>
    
      <span><a href="/tags/NSDate/">NSDate<small>1</small></a></span>
    
      <span><a href="/tags/NSString/">NSString<small>1</small></a></span>
    
      <span><a href="/tags/Swift/">Swift<small>9</small></a></span>
    
      <span><a href="/tags/UIAlertView/">UIAlertView<small>1</small></a></span>
    
      <span><a href="/tags/UITabBarController/">UITabBarController<small>1</small></a></span>
    
      <span><a href="/tags/UITableViewControlle/">UITableViewControlle<small>1</small></a></span>
    
      <span><a href="/tags/UIWebView/">UIWebView<small>1</small></a></span>
    
      <span><a href="/tags/URL-Scheme/">URL Scheme<small>1</small></a></span>
    
      <span><a href="/tags/URL编码/">URL编码<small>1</small></a></span>
    
      <span><a href="/tags/XMPP/">XMPP<small>3</small></a></span>
    
      <span><a href="/tags/Xcode5-1/">Xcode5.1<small>1</small></a></span>
    
      <span><a href="/tags/api/">api<small>5</small></a></span>
    
      <span><a href="/tags/appStore审核/">appStore审核<small>1</small></a></span>
    
      <span><a href="/tags/block/">block<small>1</small></a></span>
    
      <span><a href="/tags/bytearray/">bytearray<small>1</small></a></span>
    
      <span><a href="/tags/cell自适应高度/">cell自适应高度<small>1</small></a></span>
    
      <span><a href="/tags/cocos2d/">cocos2d<small>3</small></a></span>
    
      <span><a href="/tags/fontfontiPhone开发font/">fontfontiPhone开发font<small>1</small></a></span>
    
      <span><a href="/tags/fontfontiPhone开发fontfont/">fontfontiPhone开发fontfont<small>1</small></a></span>
    
      <span><a href="/tags/fontfontios的fontfont/">fontfontios的fontfont<small>2</small></a></span>
    
      <span><a href="/tags/fontfont动画fontfont/">fontfont动画fontfont<small>1</small></a></span>
    
      <span><a href="/tags/framework/">framework<small>1</small></a></span>
    
      <span><a href="/tags/iOS8/">iOS8<small>2</small></a></span>
    
      <span><a href="/tags/iOS8-1-1/">iOS8.1.1<small>1</small></a></span>
    
      <span><a href="/tags/iOS8定位/">iOS8定位<small>1</small></a></span>
    
      <span><a href="/tags/iOS国际化/">iOS国际化<small>1</small></a></span>
    
      <span><a href="/tags/iOS应用开发之app上架/">iOS应用开发之app上架<small>1</small></a></span>
    
      <span><a href="/tags/iOS应用开发之第三方框架/">iOS应用开发之第三方框架<small>1</small></a></span>
    
      <span><a href="/tags/iOS开发/">iOS开发<small>5</small></a></span>
    
      <span><a href="/tags/iOS自定义Tabbar/">iOS自定义Tabbar<small>1</small></a></span>
    
      <span><a href="/tags/ios/">ios<small>53</small></a></span>
    
      <span><a href="/tags/ios7/">ios7<small>1</small></a></span>
    
      <span><a href="/tags/ios7适配/">ios7适配<small>1</small></a></span>
    
      <span><a href="/tags/ios国际化/">ios国际化<small>1</small></a></span>
    
      <span><a href="/tags/ios开发/">ios开发<small>27</small></a></span>
    
      <span><a href="/tags/iphone/">iphone<small>4</small></a></span>
    
      <span><a href="/tags/iphone开发/">iphone开发<small>59</small></a></span>
    
      <span><a href="/tags/itunes/">itunes<small>1</small></a></span>
    
      <span><a href="/tags/objective-c/">objective-c<small>1</small></a></span>
    
      <span><a href="/tags/svn/">svn<small>1</small></a></span>
    
      <span><a href="/tags/uiimage/">uiimage<small>2</small></a></span>
    
      <span><a href="/tags/uitableview/">uitableview<small>1</small></a></span>
    
      <span><a href="/tags/uitableviewcell/">uitableviewcell<small>1</small></a></span>
    
      <span><a href="/tags/uitextfield/">uitextfield<small>1</small></a></span>
    
      <span><a href="/tags/uiview/">uiview<small>3</small></a></span>
    
      <span><a href="/tags/uiviewcontroller/">uiviewcontroller<small>1</small></a></span>
    
      <span><a href="/tags/uiwebview/">uiwebview<small>1</small></a></span>
    
      <span><a href="/tags/xcode/">xcode<small>2</small></a></span>
    
      <span><a href="/tags/xmpp/">xmpp<small>1</small></a></span>
    
      <span><a href="/tags/二维码/">二维码<small>1</small></a></span>
    
      <span><a href="/tags/企业/">企业<small>1</small></a></span>
    
      <span><a href="/tags/动画/">动画<small>5</small></a></span>
    
      <span><a href="/tags/国际化/">国际化<small>1</small></a></span>
    
      <span><a href="/tags/在线工具/">在线工具<small>1</small></a></span>
    
      <span><a href="/tags/多线程/">多线程<small>1</small></a></span>
    
      <span><a href="/tags/存储/">存储<small>1</small></a></span>
    
      <span><a href="/tags/宏/">宏<small>1</small></a></span>
    
      <span><a href="/tags/导航/">导航<small>1</small></a></span>
    
      <span><a href="/tags/屏幕旋转/">屏幕旋转<small>2</small></a></span>
    
      <span><a href="/tags/应用程序/">应用程序<small>2</small></a></span>
    
      <span><a href="/tags/微信开放平台ios/">微信开放平台ios<small>1</small></a></span>
    
      <span><a href="/tags/打开AppStore/">打开AppStore<small>1</small></a></span>
    
      <span><a href="/tags/数据库/">数据库<small>1</small></a></span>
    
      <span><a href="/tags/缓存/">缓存<small>1</small></a></span>
    
      <span><a href="/tags/聊天/">聊天<small>1</small></a></span>
    
      <span><a href="/tags/苹果应用商店/">苹果应用商店<small>1</small></a></span>
    
      <span><a href="/tags/获取iP地址/">获取iP地址<small>1</small></a></span>
    
  </div>
</div>




  <script type="text/javascript">
    (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
    })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

    _st('install','6xH6jcZvsZxn2a9rcU4t');
  </script>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div id="foot-nav">
  <ul class="social">
    
      <li><a class="github" href="https://github.com/DaiXiang" title="github">github</a></li>
    
      <li><a class="rss" href="/atom.xml" title="rss">rss</a></li>
    
  </ul>
</div>
<div>
  
    &copy; 2014 尹现伟
  
</div>
<div class="clearfix"></div></footer>
  


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<script type="text/javascript">
  function navbar() {
    var top = $('#nav-top').innerHeight();
    $('#header').css('min-height', top);
  }
  navbar();
  $(window).resize(navbar);
</script>
<div id="totop" class="footer-btn">
  <a title="Return to Top"><img src="/img/scrollup.png"/></a>
</div>

<script type="text/javascript">
  $(function(){ 
	// When to show the scroll link
	// higher number = scroll link appears further down the page   
	var upperLimit = 800;
	
	// Our scroll link element
	var scrollElem = $('#totop');
   
	// Scroll to top speed
	var scrollSpeed = 500;
   
	// Show and hide the scroll to top link based on scroll position   
	scrollElem.hide();
	$(window).scroll(function () {            
		var scrollTop = $(document).scrollTop();       
		if ( scrollTop > upperLimit ) {
		  $(scrollElem).stop().fadeTo(300, 1); // fade back in
		  $(scrollElem).animate({bottom: "50px"}, { queue: false, duration: 10 });
		} else {
		  $(scrollElem).stop().fadeTo(300, 0); // fade out
	      $(scrollElem).animate({bottom: "-200px"}, { queue: false, duration: 10 });
			
		}
	});

	// Scroll to top animation on click
	$(scrollElem).click(function(){
	  $('html, body').animate({scrollTop:0}, scrollSpeed);
	  $(scrollElem).animate({bottom: "-200px"}, { queue: false, duration: 10 });
	  return false;
	});
  });
</script>
</body>
</html>