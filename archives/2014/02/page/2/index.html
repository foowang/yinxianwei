<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 2 | Archives: 2014/2 | 一枝红杏出墙来</title>
  <meta name="author" content="尹现伟">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="一枝红杏出墙来"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="shortcut icon">
  <link rel="alternate" href="/atom.xml" title="一枝红杏出墙来" type="application/atom+xml">
  <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
  

</head>


<body>
  <header id="header" class="inner"><div id="nav-top">
  <div class="alignleft main-title">
    <h1>一枝红杏出墙来</h1>
    <h2></h2>
  </div>
  <nav id="main-nav" class="alignright">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">2014/2</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-20T07:54:00.000Z"><a href="/2014/02/20/IOS回调机制——署理，通知中心以及Block/">2月 20 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/20/IOS回调机制——署理，通知中心以及Block/">IOS回调机制——署理，通知中心以及Block</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <h2 id="Xcode5-0正式版">Xcode5.0正式版</h2>
<p>IOS7和Xcode5正式版在昨天正式可以下载。IOS7不多说了，交互设计，界面风格，操作的简化程度都属于比较领先的水平。<br>这里来说说Xcode5正式版，和以前的Xcode5测试版来比，正式版改动不大，不过也有稍许变化。整体来讲，跟Xcode4.6比，属于换了一个时代- -(因为以前的工程换到这里编译需要改很多地方)<br>Xcode5给我的感觉就是：界面简洁扁平化，配置工程图形化，还有就是。。白。为什么说白，看看配置IB和配置工程就知道了。。。</p>
<p><img src="http://www.myexception.cn/img/2013/09/21/141350218.jpg" alt=""></p>
<p><img src="http://www.myexception.cn/img/2013/09/21/141350219.jpg" alt=""></p>
<p>相比4.6来讲，5在操作上还是有很多大的改进。也可以用于开发旧版本的项目，需要把arm64去掉，把XIB文件设置成之前的版本就好。不过也有一些细节需要注意。所以嫌麻烦的话可以用之前版本的- -。<br>言归正传，这里来认识下三种IOS常见的回调模式。</p>
<h2 id="代理模式">代理模式</h2>
<p>作为IOS中最常见的通讯模式，代理几乎无处不在。<br><img src="http://www.myexception.cn/img/2013/09/21/141350220.jpg" alt=""></p>
<p>看实例这里有一个数组，我们首先通过代理的方式将数组传递到其他方法中去。<br>设置协议及方法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">@protocol CallBackDelegate;</div><div class="line"></div><div class="line">@interface ViewController : UIViewController</div><div class="line">@property (weak, nonatomic) id&lt;CallBackDelegate&gt; delegate;</div><div class="line">@end</div><div class="line"></div><div class="line">@protocol CallBackDelegate &lt;NSObject&gt;</div><div class="line">- (<span class="keyword">void</span>)showArrayWithDelegate:(NSArray *)<span class="built_in">array</span>;</div><div class="line">@end</div></pre></td></tr></table></figure>

<p>@interface ViewController () <callbackdelegate></callbackdelegate></p>
<p>点击按钮传递数组让其显示</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (IBAction)delegateCallBack</div><div class="line">{</div><div class="line">    NSDictionary *dict = @{@<span class="string">"array"</span>: @[@<span class="string">"Chelsea"</span>, @<span class="string">"MUFC"</span>, @<span class="string">"Real Madrid"</span>]};</div><div class="line">    NSArray *<span class="built_in">array</span> = dict[@<span class="string">"array"</span>];</div><div class="line">    [self.delegate showArrayWithDelegate:<span class="built_in">array</span>];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>调用，显示</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)showArrayWithDelegate:(NSArray *)<span class="built_in">array</span></div><div class="line">{</div><div class="line">    _outputLabel.text = <span class="built_in">array</span>[<span class="number">2</span>];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>最重要也是最容易忽略的，就是一定要设置delegate的指向。完成后屏幕显示<img src="http://www.myexception.cn/img/2013/09/21/141350221.jpg" alt=""></p>
<h2 id="使用通知中心">使用通知中心</h2>
<p>通知中心的方式可以不用设置代理，但是需要设置观察者和移除观察者。<br><img src="http://www.myexception.cn/img/2013/09/21/141350222.jpg" alt=""></p>
<p>代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (IBAction)callBack</div><div class="line">{</div><div class="line">    NSDictionary *dict = @{@<span class="string">"array"</span>: @[@<span class="string">"Chelsea"</span>, @<span class="string">"MUFC"</span>, @<span class="string">"Real Madrid"</span>]};</div><div class="line">    NSArray *<span class="built_in">array</span> = dict[@<span class="string">"array"</span>];</div><div class="line">    [[NSNotificationCenter defaultCenter] postNotificationName:@<span class="string">"OutputArrayNotification"</span> object:<span class="built_in">array</span>];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>注册和移出观察者</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)viewWillAppear:(BOOL)animated</div><div class="line">{</div><div class="line">    [super viewWillAppear:animated];</div><div class="line">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(outputWithNote:) name:@<span class="string">"OutputArrayNotification"</span> object:nil];</div><div class="line">}</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidDisappear:(BOOL)animated</div><div class="line">{</div><div class="line">    [super viewDidDisappear:animated];</div><div class="line">    [[NSNotificationCenter defaultCenter] removeObserver:self name:@<span class="string">"OutputArrayNotification"</span> object:nil];</div><div class="line">}</div></pre></td></tr></table></figure>

<p>显示</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)outputWithNote:(NSNotification *)aNotification</div><div class="line">{</div><div class="line">    NSArray *receiveArray = [aNotification object];</div><div class="line">    _outputLabel.text = receiveArray[<span class="number">0</span>];</div><div class="line">}</div></pre></td></tr></table></figure>

<p><img src="http://www.myexception.cn/img/2013/09/21/141350223.jpg" alt=""></p>
<h2 id="Block">Block</h2>
<p>什么是Block：从C的声明符到Objective-C的Blocks语法块代码以闭包得形式将各种内容进行传递，可以是代码，可以是数组无所不能。块代码十分方便将不同地方的代码集中统一，使其易读性增强。</p>
<p>来看这里怎么进行数组传递。<br>typedef void (^Arr_Block)(NSArray *array);</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)showArrayUsingBlock:(Arr_Block)block</div><div class="line">{</div><div class="line">    NSDictionary *dict = @{@<span class="string">"array"</span>: @[@<span class="string">"Chelsea"</span>, @<span class="string">"MUFC"</span>, @<span class="string">"Real Madrid"</span>]};</div><div class="line">    NSArray *<span class="built_in">array</span> = dict[@<span class="string">"array"</span>];</div><div class="line">    block(<span class="built_in">array</span>);</div><div class="line">}</div></pre></td></tr></table></figure>

<p>调用方法，显示</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (IBAction)blockCallBack</div><div class="line">{</div><div class="line">    [self showArrayUsingBlock:^(NSArray *<span class="built_in">array</span>) {</div><div class="line">        _outputLabel.text = <span class="built_in">array</span>[<span class="number">1</span>];</div><div class="line">    }];</div><div class="line">}</div></pre></td></tr></table></figure>

<p><img src="http://www.myexception.cn/img/2013/09/21/141350224.jpg" alt=""></p>
<p>三种模式都很轻松~</p>
<p>本文转自:<a href="http://www.myexception.cn/operating-system/1407402.html" target="_blank" rel="external">http://www.myexception.cn/operating-system/1407402.html</a></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之常用方法/">iOS应用开发之常用方法</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/block/">block</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-20T04:39:00.000Z"><a href="/2014/02/20/苹果应用商店审核指南中文翻译/">2月 20 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/20/苹果应用商店审核指南中文翻译/">苹果应用商店审核指南中文翻译</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p><strong>前言</strong> 感谢您付出宝贵的才华与时间来开发iOS应用程程序。从职业与报酬的角度而言，这对于成千上万的开发员来说一直都是一项值得投入的事业。我们希望帮助您加 入这个成功的组织。这是我们首次发布《应用程序商店评估指导》（App Store Review Guidelines）。通过它，我们希望帮助您解决开发应用程序时遇到的问题，以便于您在提交应用程序时，可以加快审批流程的速度。 </p>
<p>我们将应用程序（Apps）视为与书籍或歌曲不同的产品，我们并不存储它们。如果您意欲批评宗教，那就去写本书。如果您想要描述<strong>*</strong>过程， 写本书或写首歌曲，或者可以创建一个医疗程序。这会出现非常复杂的局面，但是我们决定，在应用程序商店（App Store）禁止出现某种内容。这或许会让您认识到我们秉持的更为深远的目的： </p>
<p>我们拥有许多儿童可以下载的应用程序，除非父母事先进行了设置（一般父母都不会设置），否则父母对这些内容的操作控制将会无效。因此，您要了解我们时刻在留意着您的孩子。 </p>
<p>我们应用商店不需要那些垃圾应用程序。如果您的应用程序没有什么有益的用途或者持续性的娱乐功能，则可能不会获得我方接受。 </p>
<p>如果您的应用程序看上去像是那种只花了几天功夫简单拼凑出来的产品，或者只是想在我们的商店中抓住朋友的眼球，请提前做好遭拒的准备。我们有很多具有严谨态度的开发程序员不希望他们的高品质应用程序充斥在一些业余作品之中。 </p>
<p>我们将拒绝任何包含越界内容或行为的应用程序。您可能会问道，具体限制是什么？最高法院的法官曾有言：“它出现时我自然心中有数。”当您越过这一范围时，我们认为您也会有自知之明。 </p>
<p>如果您的应用程序被拒，我们设立了一个审查委员会供您上诉。如果您去媒体抨击我们，肯定对您于事无补。 </p>
<p>这是一个动态文档，新提交的应用程序会导致新的问题产生，并可能随时产生新的规则。或许您的应用程序会触及到这一点。  </p>
<p>最后要说明的是，我们非常珍惜这个平台，并且向您的作品表示敬意。我们确实在尝试尽力创建全球最佳平台，以便让您展示才华，同时获得相应的报酬。如果这读上去让您感觉我们的控制欲过强，那是因为我们曾向用户承诺保证，我们将利用我们的产品让他们获得高品质体验。  <strong>目录  </strong></p>
<ol>
<li>条款与条件 </li>
<li>功能 </li>
<li>元数据、评级与排名 </li>
<li>位置 </li>
<li>推送通知 </li>
<li>游戏中心 </li>
<li>广告 </li>
<li>商标与商业外观 </li>
<li>媒体内容 </li>
<li>用户界面 </li>
<li>购买与货币 </li>
<li>抓取与聚合 </li>
<li>设备损害 </li>
<li>人身攻击 </li>
<li>暴力 </li>
<li>令人反感的</li>
<li>隐私 </li>
<li>色情 </li>
<li>宗教、文化与种族 </li>
<li>竞赛、赌金、抽奖以及奖券</li>
<li>慈善与援助 </li>
<li>法律要件 </li>
</ol>
<p><strong>1. 条款和条件</strong><br>1.1 为App Store开发程序，开发者必须遵守程序许可协议（PLA）、人机交互指南（HIG）以及开发者和苹果签订的任何协议和合同。以下规则和例子旨在帮助开发者的程序能获得App Store的认可，而不是修改或删除任何其他协议中的条款。</p>
<p><strong>2. 功能</strong><br>2.1 崩溃的程序将会被拒绝 </p>
<p>2.2 存在错误的程序将会被拒绝 </p>
<p>2.3 跟开发者宣传不符的程序将会被拒绝 </p>
<p>2.4 无应用文档或隐藏功能与描述不符的程序将会被拒绝 </p>
<p>2.5 使用非公开API的程序将会被拒绝 </p>
<p>2.6 在指定容器范围外读写数据的程序将会被拒绝 </p>
<p>2.7 以任何方式或形式下载代码的程序将会被拒绝  </p>
<p>2.8 安装或释放其他可执行代码的程序将会被拒绝 </p>
<p>2.9 beta版、演示版、trial版和测试版的程序将会被拒绝 </p>
<p>2.10 iPhone程序必须不经修改就能以iPhone分辨率和2倍 iPhone 3GS的分辨率在iPad上运行 </p>
<p>2.11 与App Store已有程序重复的应用可能会被拒绝，特别是数量很多的情况下 </p>
<p>2.12有用性不显著、不独特的应用或者与网站简单捆绑的应用有可能被拒；不提供任何持久娱乐价值的程序可能会被拒绝 </p>
<p>2.13 主要内容为营销或广告的程序将会被拒绝 </p>
<p>2.14 欺骗或有虚假功能，没有明确标示的应用程序将会被拒绝 </p>
<p>2.15 大于50MB的程序不会被通过蜂窝网络下载（App Store会自动禁止） </p>
<p>2.16 多任务程序仅可以为达到预期目的而使用后台服务：网络电话、音频播放、定位、任务完成度、本地通知等</p>
<p>2.17 浏览网络的程序必须使用iOS WebKit框架和WebKit Javascript </p>
<p>2.18 鼓励过量饮酒或非法物质，或鼓励青少年饮酒或吸烟的程序将会被拒绝 </p>
<p>2.19 提供不正确诊断或其他错误设备数据的应用将会被拒绝 </p>
<p>2.20 向App Store上传大量相似版本程序的开发者将会从iOS开发者项目中除名 </p>
<p>2.21 只是歌曲或者影片的应用要提交到iTunes store，只是书的应用应该被提交到iBookstore </p>
<p>2.22 武断地根据环境（如定位或者网络供应商）限制用户使用的应用会被拒 2.23应用必须遵守<a href="https://daw.apple.com/cgi-bin/WebObjects/DSAuthWeb.woa/wa/login?path=%2F%2Ficloud%2Fdocumentation%2Fdata-storage%2F&amp;appIdKey=d4f7d769c2abecc664d0dadfed6a67f943442b5e9c87524d4587a95773750cea" target="_blank" rel="external">iOS数据储存指导方针</a>，否则应用将被拒 2.24 存放目的地为Newsstand的应用必须遵守<a href="https://daw.apple.com/cgi-bin/WebObjects/DSAuthWeb.woa/wa/login?appIdKey=cdd9076ec329293eceabffdaf0aa8bb31fac601da0e97f2f78bc379783c46096&amp;path=%2F%2Fmembercenter%2Findex.action#agreements" target="_blank" rel="external">开发者项目许可协议</a>的表1、表2以及表3，否则应用将会被拒 2.25苹果拒绝具有以下行为的应用：展现、推广他人应用；推广与App Store现有应用极为相似的应用</p>
<p><strong>3. 元数据（名称、描述、评级、排名等）</strong><br>3.1 带有任何其他移动平台名称的元数据程序将会被拒绝 </p>
<p>3.2 带有占位符文本的程序将会被拒绝 </p>
<p>3.3 带有与程序内容和功能不相关描述的程序将会被拒绝 </p>
<p>3.4 连接到 iTunes 中的程序名称及显示在设备的程序名称应该相似，不至引起混淆 </p>
<p>3.5 小型与大型程序的图标应该类似，不至引起混淆 </p>
<p>3.6 程序图标与画面不符合4+年龄评级的程序将会被拒绝 </p>
<p>3.7 目录与类型不适合于程序内容的程序将会被拒绝 </p>
<p>3.8 开发程序员负责为其程序指定适合的评级。不相称的评级可能会由苹果公司修改 </p>
<p>3.9 开发程序员负责为其程序指定适合的关键字。关键字不适用可能会由苹果公司修改/删除 </p>
<p>3.10有以下行为的开发者将会被苹果从iOS开发者项目中除名：试图操纵或者欺骗用户评级的行为，伪造或者收买用户评级的行为，以及其他不相称的行为 3.11在安装下载之前推荐用户重启iOS设备的应用将会被拒 3.12用程序应该包括url的全部功能，比如支持和隐私政策的url</p>
<p><strong>4. 定位</strong><br>4.1 在采集、传送或使用位置数据之前未通知并获得用户同意的程序将会被拒绝 </p>
<p>4.2 使用基于位置的API用于车辆、飞机或其他设备的自动控制或自主控制的程序将会被拒绝 </p>
<p>4.3 使用基于位置的API用于调度、车队管理或应急服务的程序将会被拒绝 4.4当与应用功能或服务密切相关时可以使用位置数据，同时用于广告业务的数据分析需经用户许可</p>
<p><strong>5. 推送通知</strong><br>5.1 不采用苹果推送通知 (APN)应用接口提供推送通知的程序将会被拒绝 </p>
<p>5.2 未从苹果获得推送应用ID便擅自使用APN服务的程序将会被拒绝 </p>
<p>5.3 未获得用户初次同意便发送推送通知的程序将会被拒绝 </p>
<p>5.4 使用推送通知发送敏感个人信息或机密信息的程序将会被拒绝 </p>
<p>5.5 使用推送通知发送非请求消息或用于钓鱼或群发垃圾邮件用途的程序将会被拒绝 </p>
<p>5.6 程序不可使用推送通知发送广告、促销或任何类型的直销 </p>
<p>5.7 程序不能向使用推送通知服务的用户收取费用 </p>
<p>5.8 使用推送通知会利用过多APN服务的网络流量或带宽或给设备带来过度负担的程序将会被拒绝 </p>
<p>5.9 如果程序能够传送病毒、文件、计算机代码或程序，并且对APN服务的正常运行造成损害或中断，该程序将会被拒绝 </p>
<p><strong>6. 游戏中心</strong><br>6.1 向终端用户或任意第三方显示玩家ID的程序将会被拒绝 </p>
<p>6.2 将玩家ID用于任何未经游戏中心条款批准用途的程序将会被拒绝 </p>
<p>6.3 企图进行反射查找、跟踪、关联、挖掘、获得或利用玩家ID、化名或通过游戏中心获得的其他信息将会从iOS 开发程序员项目中除名 </p>
<p>6.4 游戏中心信息（例如计分板得分）可能仅能用于游戏中心批准的程序 </p>
<p>6.5 利用游戏中心服务发送非请求信息或用于钓鱼或群发垃圾邮件的程序将会被拒绝 </p>
<p>6.6 过多使用游戏中心网络流量或带宽的程序将会被拒绝 </p>
<p>6.7 如果程序能够传送病毒、文件、计算机代码或程序，并且对游戏中心服务的正常运行造成损害或中断，该程序将会被拒绝<br><strong><br>7.广告相关</strong><br>7.1 人工增加访问次数或者广告点击量的应用程序将会被拒绝 </p>
<p>7.2 包含有空的iAd广告栏的应用程序将会被拒绝 </p>
<p>7.3 主要设计目的在于显示广告的应用程序将会被拒绝 </p>
<p><strong>8. 商标与商业外观</strong></p>
<p>8.1应用程序必须遵守使用<a href="http://www.apple.com/legal/trademark/guidelinesfor3rdparties.html" target="_blank" rel="external">苹果商标和版权指导方针</a>以及<a href="http://www.apple.com/legal/trademark/appletmlist.html" target="_blank" rel="external">苹果商标列表指导手册</a>中说明的所有条款与条件</p>
<p>8.2 任何误导和暗示苹果公司是该应用程序来源或提供商，或者苹果公司以任何形式表示认可其质量或功能的应用程序将会被拒绝 </p>
<p>8.3 与目前已有苹果产品或者广告主题外观相似混淆的应用程序将会被拒绝 </p>
<p>8.4 在应用程序名称中将苹果产品名拼错的应用程序（例如，GPS for Iphone， iTunz）将会被拒绝 </p>
<p>8.5 使用受保护的第三方材料（商标、版权、商业机密、其他私有内容）在申请时需要提供一份文本形式的版权确认<br> 8.6   在保证原有内容的商标特征不被覆盖且完全可见的前提下，应用可以通过Google Maps API调用Google Maps和Google Earth图片。任何遮盖或修改Google标志或版权人证明的应用会被拒。<br><strong>9. 媒体内容</strong><br>9.1 不使用媒体播放器框架（MediaPlayer Framework）获取音乐库中媒体的应用程序将会被拒绝 </p>
<p>9.2 模仿任何iPod界面的应用程序将会被拒绝 </p>
<p>9.3 通过蜂窝网络传输的音频流内容每5分钟不得大于5MB </p>
<p>9.4 通过蜂窝网络传输超过10分钟的视频流内容需要使用HTTP直播流（HTTP Live Streaming）并包含一个基准线为64kbps仅音频的HTTP直播流</p>
<p><strong>10. 用户界面</strong><br>10.1 应用程序必须遵守苹果《iPhone用户界面指导原则》以及《iPad用户界面指导原则》中解释的所有条款和条件。 </p>
<p>10.2 与App Store、iTunes Store和iBookstore等提供的iPhone捆绑应用程序类似的应用程序将会被拒绝。</p>
<p>10.3 未能按苹果《iPhone用户界面指导原则》及《iPad用户界面指导原则》所述，正确使用系统自带的按钮、图标等项目的应用程序可能会被拒绝。 </p>
<p>10.4 创建alternat桌面/主屏幕环境或者模拟多应用程序widget体验的应用程序将会被拒绝。 </p>
<p>10.5 改变音量大小和铃声/静音开关等标准开关功能的应用程序将会被拒绝。 </p>
<p>10.6 苹果及我们的客户高度推崇简单、精致、富有创造性以及经过精心设计的界面。虽然需要付出更多，但却非常值得。苹果设立了很高的门槛。如果你的用户界面太过复杂或者水准不高，可能会被拒绝。</p>
<p><strong>11. 购买与货币</strong><br>11.1 使用App Store以外的软件开启或提供额外功能的应用程序将会被拒绝。 </p>
<p>11.2 使用应用内支付系统（IAP）以外的系统购买内容、功能或服务的应用软件将会被拒绝。 </p>
<p>11.3 使用IAP购买实物商品和并非用于该软件的服务的应用软件将会被拒绝。 </p>
<p>11.4 应用软件使用IAP购买信用点或者其他货币必须消费本软件内的信用点。 </p>
<p>11.5使用IAP购买已过期信用点或者其他货币的应用软件将会被拒绝。 </p>
<p>11.6使用IAP订阅内容最少需持续30天，所有iOS设备用户都可使用这项功能。 </p>
<p>11.7 应用软件使用IAP购买的商品必须具有可购买性。 </p>
<p>11.8  使用IAP购买iOS提供的照相摄像或陀螺仪等内置功能的应用软件将会被拒绝。 </p>
<p>11.9 含有已超过限定时间的“出租”内容或服务的应用软件将会被拒绝。 </p>
<p>11.10 保险应用软件必须免费，遵守发布地区的法律同时不能使用IAP。 </p>
<p>11.11  一般而言，你的应用程序越贵，我们的评审越彻底。 11.12  提供订阅功能的应用必须使用IAP，苹果将会与开发者按30/70比例分成，<a href="https://daw.apple.com/cgi-bin/WebObjects/DSAuthWeb.woa/wa/login?appIdKey=cdd9076ec329293eceabffdaf0aa8bb31fac601da0e97f2f78bc379783c46096&amp;path=%2F%2Fmembercenter%2Findex.action#agreements" target="_blank" rel="external">详情点击查看。</a> 11.13在苹果内部使用跳转至外部购买或订阅链接的应用将会被拒 11.14只要应用内没有跳转至外部购买、订阅的按钮或链接，苹果允许这些应用读取或展示经批准的、并且在应用外实现购买或订阅内容(特别是杂志、报纸、书籍、音频、音乐和视频)。如果应用内有跳转至外部订阅、购买的按钮或链接，苹果将不会从中获得任何收益。 11.15应用程序可以只使用自动更新订阅期刊(报纸、杂志的)、业务应用程序(企业、生产力、专业创意,云存储)和媒体应用程序(视频、音频、声音)，否则应用程序将被拒绝<br><strong>12. 抓取和聚合</strong><br>12.1 从苹果网站（例如apple.com、iTunes Store、App Store、iTunes Connect、苹果开发者计划等）抓取任何信息或者使用苹果网站的内容和服务进行排名的应用软件将遭到拒绝。  </p>
<p>12.2 应用软件可以使用获得批准的苹果RSS feeds，例如iTunes Store RSS feeds。 </p>
<p>12.3 只是简单的网页剪切、内容聚合器或者罗列链接的应用软件可能会被拒绝。</p>
<p><strong>13. 设备损害</strong><br>13.1 怂恿用户以可能造成损害的方式使用苹果设备的应用软件将会被拒绝。 </p>
<p>13.2 快速耗光设备电量或产生过多热量的应用软件将会被拒绝。</p>
<p><strong>14. 人身攻击</strong><br>14.1 具有诽谤、人身攻击性质以及内容狭隘卑鄙的应用软件或者打击特定个人或组织的应用软件将会被拒绝。 </p>
<p>14.2 职业政治讽刺家不受这一禁令约束，可进行具有攻击性或狭隘刻薄的评论。</p>
<p><strong>15. 暴力</strong><br>15.1 应用程序中出现人或动物被杀、致残以及枪击、刺伤、拷打等受伤情形的真实画面将会被拒绝。 </p>
<p>15.2 出现描绘暴力或虐待儿童等内容的应用程序将会被拒绝。 </p>
<p>15.3 游戏中出现的“敌人”不可指向一个特定种族、文化、一个真实存在的政府、企业或者其他任何现实中的实体。 </p>
<p>15.4 对武器进行真实描述以怂恿非法使用或滥用这些武器的应用程序将会被拒绝。 </p>
<p>15.5包含俄罗斯轮盘赌博内容的游戏将会被拒<br><strong>16.令人反感的内容</strong><br>16.1 应用程序中出现过于令人反感或者低俗的内容将会被拒绝。 </p>
<p>16.2 在设计上用于激怒用户或令人感到厌恶的应用程序将会被拒绝。</p>
<p><strong>17.隐私</strong><br>17.1 应用程序不能在未获用户允许或未向用户提供如何使用及在何处使用数据的相关信息情况下传输有关用户的数据。 </p>
<p>17.2 要求用户共享电子邮箱地址和出生日期等私人信息才可使用其功能的应用程序将会被拒绝。 </p>
<p>17.3 锁定未成年人进行数据收集的应用程序将会被拒绝。</p>
<p><strong>18. 色情</strong><br>18.1 含有色情素材，也就是《韦氏词典》中定义的“旨在激发情欲，对性器官或性行为的明确描述或展示，而无关美学或情绪感受”的程序将会被拒绝 </p>
<p>18.2 用户产生内容多为色情的程序（比如以前的Chat Roulette程序）将会被拒绝</p>
<p><strong>19.宗教，文化与种族</strong><br>19.1 涉及宗教、文化或种族群体的引用或评论包含诽谤性、攻击性或自私性内容，或会使特定群体遭受伤害或暴力的程序将会被拒绝 </p>
<p>19.2 程序可以包含或引用宗教经文，程序所提供的引用或翻译必须准确且不会引起误导。评论应该有教育意义，可以令人开阔眼界，而不应有煽动性<br>**</p>
<ol>
<li>竞赛、赌金、抽奖以及奖券**<br>20.1 赌金和竞赛必须由程序的开发者/公司发起 </li>
</ol>
<p>20.2 赌金和竞赛的正式规则必须在程序中注明，并且必须明确表示苹果不是发起者，也没有以任何方式参与活动 </p>
<p>20.3 开发者运营一款具有抽奖内容的应用必须在法律容许范围之内，这些应用必须具备以下特征：报酬、机遇以及奖品</p>
<p>20.4 允许用户直接购买彩票或彩券的应用将会被拒绝</p>
<p><strong>21.慈善与援助</strong><br>21.1包含可以向认证的慈善组织捐赠功能的程序必须是免费的 </p>
<p>21.2 捐赠款项的募集必须通过Safari浏览器中的网站或是手机短消息。 </p>
<p><strong>22. 法律要件</strong><br>22.1 程序必须遵守各地用户遵守的任何法律要求。开发者有义务了解并遵守当地所有法律 </p>
<p>22.2 包含虚假，欺诈或误导性陈述的程序将会被拒绝 </p>
<p>22.3 请求、促进或鼓励犯罪或明显鲁莽行为的程序将会被拒绝 </p>
<p>22.4 使用非法文件共享的程序将会被拒绝 </p>
<p>22.5 被设计用作非法赌博辅助工具，包括算牌的程序将会被拒绝 </p>
<p>22.6 具有拨打匿名或恶作剧电话或发送类似短信/彩信功能的程序将会被拒绝 </p>
<p>22.7 开发暗中收集用户密码或用户私人数据程序的开发者将会从iOS开发者项目中除名 </p>
<p>22.8包含不被法律允许的DUI识别符的应用，怂恿酒后驾车的应用将会被拒<br><strong>动态文档</strong></p>
<p>这份文档展现了我们在竭尽所能向您分享我们对提交到App Store的程序的审查方式，我们希望您在开发和提交程序时，这份指南能对您有所帮助。这是一份动态文档，随着新程序和新情况的发生会有所变化。我们会定期更新，以反映这些变化。 </p>
<p>感谢您参与到iOS的开发中来。虽然此文档是一份“不该做事宜”的列表，但也请将那份短得多的“必做事宜”列表牢记在心。最重要的是，与我们一道 共同努力让用户感到惊奇和欣喜。用创新方式向他们展示世界，让他们用前所未有的方式与之交流。根据我们的经验，无论是在功能和用户界面上，用户确实会对完 善的程序有所反应。更进一步，给他们期望之外的东西，带他们去从未去过的地方。我们愿意提供帮助。<br>本文转自:<a href="http://www.cocoachina.com/appstore/top/2013/0304/5757.html" target="_blank" rel="external">http://www.cocoachina.com/appstore/top/2013/0304/5757.html</a></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之app上架/">iOS应用开发之app上架</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/苹果应用商店/">苹果应用商店</a>, <a href="/tags/appStore审核/">appStore审核</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-19T08:49:00.000Z"><a href="/2014/02/19/16则极具内涵的程序员笑话/">2月 19 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/19/16则极具内涵的程序员笑话/">16则极具内涵的程序员笑话</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>今天是上班第一天，小编特意为各位码农整理了16则充满内涵的冷笑话，希望能给大家带来欢笑，每天上班都有好心情。</p>
<ul>
<li>程序员找不女朋友的原因<br>程序员问禅师：“大师,我身体健康,思想端正,各方面都不错，为何就是找不到女朋友呢?”<br>禅师浅笑,答：“原因很简单，不过若想我告诉你，你需先写一段java代码。”<br>青年略一沉吟，写完了。<br>“再写一段C#” 写完了，<br>“再写一段php” 写完了，<br>“再写一段js”，写完了，<br>“这就是原因” 。</li>
<li>技术宅男如何把妹？<br>1自制系统盘内置马儿随时知道MM在做什么，计划任务定期搞崩系统从而保持用户粘性；2.给MM推荐自制APP，随时知道mm位置给她惊喜；3.经过一段时间你就积累了大量数据，做一下数据挖掘就知道她的一切喜好习惯；4.将该应用免费开放给更多宅男，于是有了海量数据。–这就是云把妹。</li>
<li>机会还是给有准备的人<br>马总坐飞机,旁边一个小孩拿着杂志看,一边看一边念叨:云计算要火? 老板听了,回去问VP:什么是云计算?VP回去告诉总监:我们可能要做云计算;总监回去告诉经理:公司要做云计算,马上招人.经理面试,有一个就是前几天那个拿杂志的毕业生,毕业生说,没想到云计算真的要火?机会还是给有准备的人.</li>
<li>世界上最没用的几句话<br>1、警察：不要跑！ 2、国足：必胜！ 3、老师：同学们不要睡了！ 4、病人：医生，您轻点儿！ 5、父母：孩子，不要闹了 ！6、罪犯：我是冤枉啊！7、女人：不要嘛！8、男人：我发誓！9、:程序员：这个不能实现！</li>
<li>程序员找不到对象<br>程序员找不到对象，一般有三种情况：1、 C# JAVA都有对象，但是经常找不到对象。2、ASM C直接没有对象。3、javascript都是伪对象，最多算暧昧。但C++日子一直都好过，因为C++是多继承，富二代呀！！！</li>
<li>程序猿：我的第一个问题是，对於我第二个和第三个问题，你可不可以只用‘能’和‘不能’来回答？ 老板：“OK！” 我的第二个问题是，如果我的第三个问题是我可以不可以涨工资?，那麽你对於我的第三个问题的答案能不能和第二个问题的答案一样？ 老板:….</li>
<li>世界上最遥远的距离不是生与死，而是你亲手制造的BUG就在你眼前，你却怎么都找不到她。。。</li>
<li>某小偷潜入某IT公司欲行窃，没想到始终有人，他只好等啊等啊等，结果始终有一大拨人在加班。过了一个月，小偷终于逮到机会溜出来，同伙问：去哪了？小偷：在IT公司呆了一个月。同伙：收获不错吧？小偷苦笑：别TM提了，三十个大夜下来，我现在已经学会写程序了。</li>
<li>假如生活欺骗了你，找50个程序员问问为什么编程；假如生活让你想死，找50个程序员问问BUG改完了没有；假如你觉得生活拮据，找50个程序员问问工资涨了没有；假如你觉得活着无聊，找50个程序员问问他们一天都干了什么！</li>
<li>经考证，C语言是女的…原因如下：1.无论你让她干什么，她绝对不可能自己找到方法。2.总是用复杂的方法解决简单的问题。3.不可能自主认识到本身错误。4.浪费时间是十分正常的事情。5.无论跟她说什么，都得用她能理解的方式做充分说明。6.只要你有一点错，她一定可以挑出来。7.反正，是你的错。</li>
<li>据说一老外年轻的时候，立志要当一名伟大的作家。怎么才算伟大呢？他说：我写的东西全世界都要看到！看完他们必定会歇斯底里！会火冒三丈！会痛苦万分！结果，他成功了，他在微软公司负责写系统蓝屏时的报错提示信息。。。</li>
<li>《程序员的自我修养》中在解释多核CPU的局限时提到“就比如一个女人可以花10个月生出一个孩子，但是10个女人并不能在一个月就生出一个孩子一样。” 很精辟吧！<br>13、c程序员看不起c++程序员， c++程序员看不起java程序员， java程序员看不起c#程序员，c#程序员看不起美工， 周末了，美工带着妹子出去约会了…一群SX程序员还在加班！</li>
<li>爱情就是这么个过程：确定喜欢的类型是需求分析；初步接触是概要设计，深入接触是详细设计；确定恋爱关系是编写代码；同居就是测试；吵架就是fix bug；上线就是结婚；项目经理离职是丧偶；项目升级是生孩子；项目下线就是*离婚。<br>15、某游戏公司招了个日本人当主策，上班第一天就对下属说：“我是个加班狂，希望大家配合我。”一个月之后他回日本了，最后一句话是：“你们这样加班是不人道的。”<br>16、大学毕业三年，几个同学在班群聊天，聊的全是技术，java，xml之类。另一同学家里开厂，早早做上管理者，插不上嘴，心里很不爽，过了半天插了一句：本公司因业务拓展，招聘门卫一名，要求：4年java开发经验！顿时群里安静了。<br>转载请注明原文链接：<br><a href="http://www.codeceo.com/article/20-jokes-of-programmer.html" target="_blank" rel="external">http://www.codeceo.com/article/20-jokes-of-programmer.html</a></li>
</ul>

      
    </div>
    <footer>
      
      
      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-19T08:33:00.000Z"><a href="/2014/02/19/关于程序员的笑话/">2月 19 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/19/关于程序员的笑话/">关于程序员的笑话</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>1“咚咚咚”“谁？”过了很久……“Java” </p>
<p>2换一个电灯泡需要几个程序员？一个也不要，这是硬件问题。 </p>
<p>3一个计算机系学生坐在树下学习，又有一个计算机系学生骑着一辆很炫的自行车经过。前一个学生问道：“你的车从哪儿弄来的？”骑车的回答说：“我在外面学习的时候，一个漂亮的MM骑着车过来，她脱光了所有的衣服对我说，‘你想要什么我都给你’。”“明智的选择！你穿她的衣服肯定不合适的。”前一个学生说道。 </p>
<p>4 怎么使用面向对象的方式变得富有？继承。 </p>
<p>5 要理解递归，你先要理解递归。 </p>
<p>6一男子在路边一根接着一根地抽烟。一个女士走过来对他说：“嘿，你不知道你是在慢性自杀吗？注意看看烟盒上的警告信息。”“没关系”，男子悠然自得地又吸了一口：“我是个程序员。”“嗯？这和你是程序员有什么关系？”“我们一点儿也不在乎警告（warning），我们只在乎错误（error）。” </p>
<p>7（唔……这个貌似跟程序员没关系……）地理学家和数学家在飞机上坐在了一起。地理学家伸过头来问数学家想不想玩个有趣的游戏。数学家只想睡一觉，所以就礼貌地拒绝了。可地理学家坚持说这个游戏 很有趣，他解释说：“我问你一个问题，如果你回答不上来，你就给我5美元。然后你再问我一个问题，如果我回答不上来，就给你5美元。”数学家又一次礼貌地 拒绝了。这下地理学家有点儿激动，说道：“这样吧，如果你不知道答案就给我5美元，如果我不知道答案的话就给你50美元！”这下子数学家有了兴趣，并且他也明白如果他一直不同意的话也没法入睡，所以就加入了游戏。地理学家先问了第一个问题。“地球到月球的距离是多少？”数学家一句话不说，掏出钱包来给了地理学家5美元。该数学家问问题了。他问地理学家：“什么东西上山的时候三只脚，下山的时候四只脚？”地理学家疑惑地看了一下数学家。他取出笔记本电脑，查找了他所有的资料。他通过飞机上的调制解调器上网查找美国国会图书馆，还发送E-mail问了他的同事——但是始终没找到答案。过了一个小时，他叫醒了数学家并奉上50美元现金。数学家礼貌地收下了钱，转过头去接着睡觉。地理学家越来越感到迷惑不已，他叫醒了数学家，问道：“好吧，答案到底是什么？”数学家又是二话不说，掏出钱包，给了地理学家5美元。 </p>
<p>8 一百万只猴子，给他们一百万个键盘，其中的一个会写出Java程序，其它的写的都是Perl程序。 </p>
<p>9 十个顶尖软件工程师参加培训管理人员的课程。老师提出了这样一个问题：“假如你供职的公司是为航空电子设备提供软件的。有一天你乘飞机出差，当你上了飞机后你发现一个牌子上写着这个飞机用的是你的团队开发的Beta版软件，你会下飞机吗？”<br>九个软件工程师举了手。老师看着第十个问道：“你为什么愿意留在飞机上？”这人回答说：“如果是我的团队写的这个软件，飞机根本无法起飞，根本谈不上坠毁。” </p>
<p>10 为什么程序员总是分不清万圣节和圣诞节？因为 Oct 31 == Dec 25。 </p>
<p>11 换一个电灯泡需要几个微软程序员？一个也不要，他们会把黑暗变成标准然后告诉每个人：“我们就是这么设计的。” </p>
<p>12 Keyboard not found … press F1 to continue </p>
<p>13 Unix是用户友好的，只是要成为Unix的用户很困难。 </p>
<p>14 这个笑话大概来自70年代的米国：一个新手在试着修复一台坏了的LISP机器，他的方法就是反复关上电源然后打开。专家看到之后，严厉地批评说：“你这样是没用的，你必须要明白出错的深层次原因。” </p>
<p>专家关掉电源，然后打开。运行正常了。 </p>
<p>15 计算机科学家靠什么避孕？他们的人格魅力。 </p>
<p>16 一个微软工程师正走在路上，突然听到一只青蛙说：“如果你吻我一下的话，我就会变成漂亮的女人，我们可以结婚，从此幸福地生活在一起。”工程师看着青蛙想了一下，抓起它轻轻地放在自己的上衣口袋里。青蛙把头伸出来说：“怎么，你不准备吻我吗？”“是的”，工程师说：“我在微软工作，没有时间娶妻——不过有一只会说话的青蛙还是挺酷的。” </p>
<p>17 换一个电灯泡需要几个C++程序员？你还在用面向过程的思维考虑问题。一个设计良好的电灯泡类必然封装了换灯泡的方法，所以你要做的就是调用“换电灯泡”方法。 </p>
<p>18 两个程序员在聊天：“我昨天碰到个辣妹。我把她带回家，马上就开始如饥似渴地亲吻，她就坐在我的键盘上，然后……”“你在家里也有台电脑？CPU是什么型号的？” </p>
<p>19 为什么程序员喜爱UNIX:unzip, strip, touch, finger, grep, mount, fsck, more, yes, fsck, fsck, fsck, umount, sleep </p>
<p>20 电脑是高速的笨蛋，程序员是低速的笨蛋。 </p>
<p>21 一个存放了一半数据的数组：悲观的程序员觉得数组是半空的。乐观的程序员觉得数组是半满的。真正的程序员?觉得数组占用的空间过大，需要调用realloc()。 </p>
<p>22编译成功了！交付吧 </p>

      
    </div>
    <footer>
      
      
      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-19T03:00:00.000Z"><a href="/2014/02/19/stretchableImageWithLeftCapWidth/">2月 19 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/19/stretchableImageWithLeftCapWidth/">stretchableImageWithLeftCapWidth</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>原文:<a href="http://www.cnblogs.com/bandy/archive/2012/04/25/2469369.html" target="_blank" rel="external">http://www.cnblogs.com/bandy/archive/2012/04/25/2469369.html</a></p>
<ul>
<li>(UIImage *)stretchableImageWithLeftCapWidth:(NSInteger)leftCapWidth topCapHeight:<br>(NSInteger)topCapHeight 这个函数是UIImage的一个实例函数，它的功能是创建一个内容可拉伸，而边角不拉伸的图片，需要两个参数，第一个是左边不拉伸区域的宽度，第二个参数是上面不拉伸的高度。<br>根据设置的宽度和高度，将接下来的一个像素进行左右扩展和上下拉伸。<br>注意：可拉伸的范围都是距离leftCapWidth后的1竖排像素，和距离topCapHeight后的1横排像素。<br>参数的意义是，如果参数指定10，5。那么，图片左边10个像素，上边5个像素。不会被拉伸，x坐标为11和一个像素会被横向复制，y坐标为6的一个像素会被纵向复制。<br>注意：只是对一个像素进行复制到一定宽度。而图像后面的剩余像素也不会被拉伸。</li>
</ul>
<p>UIImage <em>img=[UIImage imageNamed:@”bubbleSelf.png”];<br>    img=[img stretchableImageWithLeftCapWidth:15 topCapHeight:12];<br>    UIImageView </em>imgView=[[UIImageView alloc]initWithImage:img];<br>    [imgView setFrame:CGRectMake(10, 10, 200, 200)];<br>    [self. view addSubview:imgView]; <img src="http://images.cnblogs.com/cnblogs_com/bandy/1.jpg" alt=""> </p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之UI/">iOS应用开发之UI</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ios开发/">ios开发</a>, <a href="/tags/uiview/">uiview</a>, <a href="/tags/uiimage/">uiimage</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-18T05:39:00.000Z"><a href="/2014/02/18/iOS开发-比较好的文章和资源链接/">2月 18 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/18/iOS开发-比较好的文章和资源链接/">iOS开发-比较好的文章和资源链接</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>看到的一些好的文章和资源分享下<br>有些链接需要注册登录才能正常浏览下载。<br><a href="http://www.cocoachina.com/bbs/read.php?tid=105689" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=105689</a>  开发一年的经验<br><a href="http://www.cocoachina.com/newbie/tutorial/2012/0720/4475.html" target="_blank" rel="external">http://www.cocoachina.com/newbie/tutorial/2012/0720/4475.html</a> 抽屉式导航，让用户专注于核心的功能<br><a href="http://www.cocoachina.com/newbie/tutorial/2012/0719/4467.html" target="_blank" rel="external">http://www.cocoachina.com/newbie/tutorial/2012/0719/4467.html</a> UITableView实现划动删除<br><a href="http://www.cocoachina.com/newbie/tutorial/2012/0607/4334.html" target="_blank" rel="external">http://www.cocoachina.com/newbie/tutorial/2012/0607/4334.html</a> 使用SQLite3存储和读取数据<br><a href="http://www.cocoachina.com/newbie/basic/2012/0703/4415.html" target="_blank" rel="external">http://www.cocoachina.com/newbie/basic/2012/0703/4415.html</a> 一个横版的tableView：FantasyView<br><a href="http://www.cocoachina.com/iphonedev/toolthain/2012/0828/4664.html" target="_blank" rel="external">http://www.cocoachina.com/iphonedev/toolthain/2012/0828/4664.html</a> iOS高效开发必备的10款Objective-C类库<br><a href="http://www.cocoachina.com/iphonedev/toolthain/2011/1223/3778.html" target="_blank" rel="external">http://www.cocoachina.com/iphonedev/toolthain/2011/1223/3778.html</a> 如何在UIAlertView中显示进度条<br><a href="http://www.cocoachina.com/bbs/read.php?tid=105203" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=105203</a> iphone开发十几个实用demo合集 (<a href="https://github.com/yuyi012" target="_blank" rel="external">https://github.com/yuyi012</a>)<br><a href="http://www.cocoachina.com/bbs/read.php?tid=79949" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=79949</a> iphone 自定义控件，通讯录，网络，电子书，控件特效 等源码<br><a href="http://www.cocoachina.com/bbs/read.php?tid=74564" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=74564</a> 10个迷惑新手的Cocoa，Objective-c开发难点和问题(回头开发完了再看)<br><a href="http://www.cocoachina.com/bbs/read.php?tid=83864" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=83864</a> 完整地翻译了一份ASIHttpRequest的文档<br><a href="http://www.crifan.com/intro_ios_simulator_in_xcode_and_usage_summary" target="_blank" rel="external">http://www.crifan.com/intro_ios_simulator_in_xcode_and_usage_summary</a>/ 【整理】Xcode中的iOS模拟器(iOS<br> Simulator)的介绍和使用心得<br><a href="http://www.cocoachina.com/bbs/read.php?tid=73570" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=73570</a> iphone开发笔记和技巧总结 （优先看，跟帖回答，全是实用性的）<br><a href="http://www.cocoachina.com/bbs/read.php?tid=38761&amp;page=1" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=38761&amp;page=1</a> 苹果开发重要语法知识（优先看，跟帖回答，全是理论）<br><a href="http://liwpk.blog.163.com/blog/static/3632617020114794852539/" target="_blank" rel="external">http://liwpk.blog.163.com/blog/static/3632617020114794852539/</a>  用法总结：NSNumber、NSString、NSDate、NSCalendarDate、NSData(待续)</p>
<p><a href="http://www.189works.com/article-80018-1.html" target="_blank" rel="external">http://www.189works.com/article-80018-1.html</a> NSURLConnection<br><a href="http://my.oschina.net/sunqichao/blog/75011" target="_blank" rel="external">http://my.oschina.net/sunqichao/blog/75011</a> IOS ASI http 框架详解</p>
<p><a href="http://blog.csdn.net/workhardupc100/article/details/6941685" target="_blank" rel="external">http://blog.csdn.net/workhardupc100/article/details/6941685</a> 官方文档<br><a href="http://www.rcstc.com/2012/02/%E8%87%AA%E5%AE%9A%E4%B9%89mkannotationview%E6%A0%87%E8%AE%B0%E5%8F%8Acallout/" target="_blank" rel="external">http://www.rcstc.com/2012/02/%E8%87%AA%E5%AE%9A%E4%B9%89mkannotationview%E6%A0%87%E8%AE%B0%E5%8F%8Acallout/</a><br>  自定义MKAnnotationView标记及callout<br> 其实说的是自定义callout，其实是通过两个annotations来实现的，假设我们在地图上面放置一个A，我们可以在相应选择A之后在插上一个B，是B的偏移位置刚刚好在A的上面，就形成了callout的效果。<br>主要是要实现地图的两个代理方法：<br>– mapView<img src="file:///D:/Fetion/Languages/default/Misc/EMOTIONS/smile_teeth.gif" alt="">idSelectAnnotationView:<br>– mapView<img src="file:///D:/Fetion/Languages/default/Misc/EMOTIONS/smile_teeth.gif" alt="">idDeselectAnnotationView:<br>在第一个代理方法中中插入B，在第二个方法中移除B。大概自定义的callout就是这样实现的，<br><a href="http://blog.csdn.net/lonelyroamer/article/details/7665112" target="_blank" rel="external">http://blog.csdn.net/lonelyroamer/article/details/7665112</a> Objective-C的setter和getter<br><a href="http://www.cnblogs.com/syxchina/archive/2012/09/17/2689787.html" target="_blank" rel="external">http://www.cnblogs.com/syxchina/archive/2012/09/17/2689787.html</a> IOS之应用程序设置（在设置程序添加自己应用的设置首选项）</p>
<p><a href="http://blog.csdn.net/totogo2010/article/details/7727896" target="_blank" rel="external">http://blog.csdn.net/totogo2010/article/details/7727896</a> IOS程序名称及内容国际化（本地化）</p>
<p><a href="http://blog.sina.com.cn/s/blog_6ba069d1010149g4.html" target="_blank" rel="external"></a><a href="http://mobile.51cto.com/iphone-284116.htm" target="_blank" rel="external">http://mobile.51cto.com/iphone-284116.htm</a><br> iOS开发使用委托delegate在不同窗口之间传递数据</p>
<p><a href="http://wenku.baidu.com/view/1573410c581b6bd97f19ea9a.html" target="_blank" rel="external">http://wenku.baidu.com/view/1573410c581b6bd97f19ea9a.html</a> 文库app上线流程</p>
<p><a href="http://blog.csdn.net/visualcatsharp/article/details/7180237" target="_blank" rel="external">http://blog.csdn.net/visualcatsharp/article/details/7180237</a> app发布要点</p>
<p><a href="http://mobile.51cto.com/market-332164.htm" target="_blank" rel="external">http://mobile.51cto.com/market-332164.htm</a>  iPhone开发入门：在App<br> Store上发布程序</p>
<p><a href="http://www.cocoachina.com/bbs/read.php?tid-7923.html" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid-7923.html</a>  如何联机调试和发布程序。</p>
<p><a href="http://www.techolics.com/apple/20120401_197.html" target="_blank" rel="external">http://www.techolics.com/apple/20120401_197.html </a>iPhone应用提交流程：如何将App程序发布到App<br> Store<br><a href="http://www.cocoachina.com/bbs/read.php?tid=2776" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=2776</a> 总结个人经验，史上最完整的IDP申请直到软件上架销售流程<br><a href="http://www.cocoachina.com/bbs/read.php?tid=68636" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=68636</a> 如何把ios<br> app放到app store或者真实iphone/ipad设备上？<br><a href="http://www.techolics.com/apple/20120401_197.html" target="_blank" rel="external">http://www.techolics.com/apple/20120401_197.html</a>  iPhone应用提交流程：如何将App程序发布到App<br> Store？<br><a href="http://developer.apple.com/library/ios/#documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/8_AddingNewApps/AddingNewApps.html#//apple_ref/doc/uid/TP40011225-CH13-SW1" target="_blank" rel="external">http://developer.apple.com/library/ios/#documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/8_AddingNewApps/AddingNewApps.html#//apple_ref/doc/uid/TP40011225-CH13-SW1</a>  官方itunesconnect<br> 文档</p>
<p><a href="http://blog.csdn.net/vieri_ch/article/details/7719856" target="_blank" rel="external">http://blog.csdn.net/vieri_ch/article/details/7719856</a>  UINavigationbar的背景修改方法集合</p>
<p><a href="http://www.cnblogs.com/pengyingh/articles/2350890.html" target="_blank" rel="external">http://www.cnblogs.com/pengyingh/articles/2350890.html</a> ios5自定义导航条</p>
<p><a href="http://blog.csdn.net/wave_1102/article/details/4768212" target="_blank" rel="external">http://blog.csdn.net/wave_1102/article/details/4768212</a> 为navigationbar设置背景图片<br><a href="http://www.cocoachina.com/bbs/read.php?tid=33050" target="_blank" rel="external">http://www.cocoachina.com/bbs/read.php?tid=33050</a>  Objective<br> C 中实现单例模式   </p>
<p><a href="http://www.cocoachina.com/iphonedev/sdk/2010/1125/2396.html" target="_blank" rel="external">http://www.cocoachina.com/iphonedev/sdk/2010/1125/2396.html</a> 应用程序内购买<br>旧工程适配iOS6和iPhone5<br><a href="http://www.cocoachina.com/applenews/devnews/2012/1204/5243.html" target="_blank" rel="external">http://www.cocoachina.com/applenews/devnews/2012/1204/5243.html</a> 第三方静态库<br><a href="http://www.cocoachina.com/applenews/devnews/2012/1204/5244.html" target="_blank" rel="external">http://www.cocoachina.com/applenews/devnews/2012/1204/5244.html</a> UIActivityIndicatorView<br><a href="http://blog.cnrainbird.com/index.php/2012/09/28/jiu_gong_cheng_shi_pei_ios6_he_iphone5_xu_zhi_executable_permissions_problem/" target="_blank" rel="external">http://blog.cnrainbird.com/index.php/2012/09/28/jiu_gong_cheng_shi_pei_ios6_he_iphone5_xu_zhi_executable_permissions_problem/</a>  executable<br> permissions problem<br><a href="http://www.cocoachina.com/applenews/devnews/2012/1212/5312.html" target="_blank" rel="external">http://www.cocoachina.com/applenews/devnews/2012/1212/5312.html</a> iOS推送功能解决方案<br><a href="http://www.cocoachina.com/applenews/devnews/2012/1212/5313.html" target="_blank" rel="external">http://www.cocoachina.com/applenews/devnews/2012/1212/5313.html</a>  实现iOS长时间后台的两种方法：Audiosession和VOIP<br><a href="http://hi.baidu.com/feng20068123/item/dbcbaec278b5a776cfd4f85c" target="_blank" rel="external">http://hi.baidu.com/feng20068123/item/dbcbaec278b5a776cfd4f85c</a>   XCode ios iphone 资源文件管理 NSBundle<br> mainBundle<br><a href="http://www.cnblogs.com/easonoutlook/archive/2012/09/13/2684134.html" target="_blank" rel="external">http://www.cnblogs.com/easonoutlook/archive/2012/09/13/2684134.html</a>  Xcode工程添加第三方文件的详细分析 Create<br> folder references for any added folders<br><a href="http://www.devdiv.com/forum.php?mod=viewthread&amp;tid=132999" target="_blank" rel="external">http://www.devdiv.com/forum.php?mod=viewthread&amp;tid=132999</a>    xcode4的环境变量，workspace及联编设置<br><a href="http://www.cocoachina.com/newbie/basic/2012/0816/4603.html" target="_blank" rel="external">http://www.cocoachina.com/newbie/basic/2012/0816/4603.html</a> 论坛用户mhmwadmiOS开发心得分享<br><a href="http://www.cocoachina.com/newbie/basic/2012/0831/4685.html" target="_blank" rel="external">http://www.cocoachina.com/newbie/basic/2012/0831/4685.html</a> CGContext小记<br><a href="http://blog.csdn.net/startexcel/article/details/7240247" target="_blank" rel="external">http://blog.csdn.net/startexcel/article/details/7240247</a>  常用UI相关的第三方开源库<br><a href="http://blog.csdn.net/startexcel/article/details/7224576" target="_blank" rel="external">http://blog.csdn.net/startexcel/article/details/7224576</a>   IOS5 ARC unsafe_unretained等说明<br><a href="http://blog.sina.com.cn/s/blog_55a8a96d01012vik.html" target="_blank" rel="external">http://blog.sina.com.cn/s/blog_55a8a96d01012vik.html</a>  为什么不要在init和dealloc函数中使用accessor<br><a href="http://www.it165.net/pro/html/201209/3721.html" target="_blank" rel="external">http://www.it165.net/pro/html/201209/3721.html</a>  Objective-C多线程编程之GCD<br><a href="http://blog.csdn.net/pjk1129/article/details/6561781" target="_blank" rel="external">http://blog.csdn.net/pjk1129/article/details/6561781</a> IOS开发UI展示之UITableView ──分页加载</p>
<p><strong>本文转自:</strong><a href="http://blog.csdn.net/u012416493/article/details/19247467" target="_blank" rel="external">http://blog.csdn.net/u012416493/article/details/19247467</a></p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之学习资源/">iOS应用开发之学习资源</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ios开发/">ios开发</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-18T05:07:00.000Z"><a href="/2014/02/18/检测iphone是否安装有某个程序,或者打开某个程序openURL CanOpenURL/">2月 18 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/18/检测iphone是否安装有某个程序,或者打开某个程序openURL CanOpenURL/">检测iphone是否安装有某个程序,或者打开某个程序openURL CanOpenURL</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>本文链接:<a href="http://blog.csdn.net/zltianhen/article/details/6916579" target="_blank" rel="external">http://blog.csdn.net/zltianhen/article/details/6916579</a><br>[问题描述]<br>1:在程序B中检测手机中是否安装A程序.<br>2:在程序B中打开应用程序A.</p>
<p>[解决办法]<br>步骤一:<br>首先在程序A的plist中添加url types</p>
<p><key>CFBundleURLTypes</key></p>
<array><br><dict><br><key>CFBundleURLName</key><br><string>AAAAA</string><br><key>CFBundleURLSchemes</key><br><array><br><string>testA</string><br></array><br></dict><br></array>

<p>步骤二:<br>在程序B中调用A程序的地方添加代码</p>
<p>NSURL * myURL_APP_A = [NSURL URLWithString:@”testA://AAAAA”];<br>if ([[UIApplication sharedApplication] canOpenURL:myURL_APP_A])<br> {<br>NSLog(@”canOpenURL”);<br>[[UIApplication sharedApplication] openURL:myURL_APP_A];<br>}</p>
<p>注:<br>这里通过canOpenURL就可以通过URL检查机器是否安装有程序A</p>
<p>通过openURL打开程序A</p>
<p>在CFBundleURLSchemes的分隔符不要使用 _    比如 abc_ddd<br>要使用abc.ddd</p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之Xcode配置/">iOS应用开发之Xcode配置</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ios开发/">ios开发</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-17T07:51:00.000Z"><a href="/2014/02/17/Xcode的Architectures和Valid Architectures的区别/">2月 17 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/17/Xcode的Architectures和Valid Architectures的区别/">Xcode的Architectures和Valid Architectures的区别</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>作者：shede333<br><a href="http://my.oschina.net/shede333" target="_blank" rel="external">主页：http://my.oschina.net/shede333</a><br>版权声明：原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank" rel="external">Creative<br> Commons BY-NC-ND 3.0</a></p>
<h2 id="Xcode的Architectures和Valid_Architectures的区别">Xcode的Architectures和Valid Architectures的区别</h2>
<h3 id="Architectures">Architectures</h3>
<p>这代表，在这个项目里你想要Xcode编译的目标设备列表。</p>
<h3 id="Valid_Architectures">Valid Architectures</h3>
<p>还不是太明确这个设置的意图，但是一般来说是不需要更改的。<br>在Xcode5.0里的Valid Architectures 设置里，有2个选项：</p>
<ol>
<li>默认为<code>standard
architectures (including 64-bit)(armv7,armv7s,arm64)</code>，这样设置，你的Deployment target最低只能设置为 6.0,(在Xcode5.0.1 之后,最低能够兼容IOS 5.1.1);</li>
<li><code>standard
architectures (armv7,armv7s)</code>，这样设置，你的Deployment target最低能设置为 4.3；</li>
</ol>
<h2 id="原因解释如下：">原因解释如下：</h2>
<p>使用standard architectures (including 64-bit)(armv7,armv7s,arm64)参数，<br>则打的包里面有32位、64位两份代码，<br>在iPhone5s（<code>iPhone5s的cpu是64位的</code>）下，会首选运行64位代码包，<br>其余的iPhone（<code>其余iPhone都是32位的,iPhone5c也是32位</code>），<br>只能运行32位包，<br>但是包含两种架构的代码包，只有运行在ios6，ios7系统上。<br>这也就是说，这种打包方式，对手机几乎没啥要求，但是对系统有要求，即ios6以上。<br>而使用standard architectures (armv7,armv7s)参数，<br>则打的包里只有32位代码，<br>iPhone5s的cpu是64位，但是可以兼容32位代码，即可以运行32位代码。但是这会降低iPhone5s的性能，原因下面的参考有解释。<br>其余的iPhone对32位代码包更没问题，<br>而32位代码包，对系统也几乎也没什么限制。<br>所以总结如下：<br>要发挥iPhone5s的64位性能，就要包含64位包，那么系统最低要求为ios6。<br>如果要兼容ios5以及更低的系统，只能打32位的包，系统都能通用，但是会丧失iPhone5s的性能。</p>
<h2 id="参考1：">参考1：</h2>
<p><a href="http://en.wikipedia.org/wiki/List_of_iOS_devices" target="_blank" rel="external">所有IOS设备详情列表<br> List of iOS devices - Wikipedia, the free encyclopedia</a></p>
<blockquote>
<p>armv6：iPhone 2G/3G，iPod 1G/2G<br>armv7：iPhone 3GS/4/4s，iPod 3G/4G，iPad 1G/2G/3G<br>armv7s：iPhone5</p>
<h2 id="参考2：">参考2：</h2>
<p><a href="http://blog.csdn.net/keyboardota/article/details/11993883" target="_blank" rel="external">iOS<br> 7: 如何为iPhone 5S编译64位应用。</a><br>Xcode 5编译的iOS 7程序包含了32位和64位两套二进制代码，在32位的iOS系统上会调用32位的二进制代码，在64位系统上会调用64位的二进制代码，以此来解决向后兼容的问题。<br>同时，考虑到很多32位的程序可能在没有重新编译的情况下部署到64位系统上，64位的iOS系统中带有两套FrameWork，一套是32位的，一套是64位的。<br>当64位的iOS系统运行原来的32位程序时，系统会调用32位的FrameWork作为底层支撑，当系统运行64位程序时，系统会调用64位的FrameWork作为底层支撑。<br>也就是说，当一个iPhone 5S上同时运行32位程序和64位程序时，系统同时将32位和64位两套FrameWork载入了内存中，所以消耗的内存也比较多。<br>如果一台64位的iOS设备上运行的所有程序都是为64位系统编译过的，iOS系统将只载入64位的FrameWork，这将节省好多内存。所以，如果大家都可以快速将程序传换成64位的，iOS将跑得更快。真的是“大家好才是真的好”。</p>
<h2 id="参考3：">参考3：</h2>
<ol>
<li><a href="http://stackoverflow.com/questions/12701188/whats-the-difference-between-architectures-and-valid-architectures-in-xcode" target="_blank" rel="external">What’s<br>the difference between “Architectures” and “Valid Architectures” in Xcode Build Settings?</a></li>
<li><a href="http://stackoverflow.com/questions/18913906/xcode-5-and-ios-7-architecture-and-valid-architectures" target="_blank" rel="external">Xcode<br>5 and iOS 7: Architecture and Valid architectures</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html#//apple_ref/doc/uid/TP40003931-CH3-SW51" target="_blank" rel="external">Xcode<br>Build Setting Reference (苹果官方文档)</a></li>
<li><a href="https://developer.apple.com/library/iOS/documentation/General/Conceptual/CocoaTouch64BitGuide/Introduction/Introduction.html" target="_blank" rel="external">64-Bit<br>transition Guide for Cocoa Touch (苹果官方文档)</a></li>
</ol>
</blockquote>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之Xcode配置/">iOS应用开发之Xcode配置</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/iphone开发/">iphone开发</a>, <a href="/tags/xcode/">xcode</a>, <a href="/tags/ios开发/">ios开发</a>, <a href="/tags/ios/">ios</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-17T07:27:00.000Z"><a href="/2014/02/17/关于微信检测SDK应用的原理浅析（iOS）/">2月 17 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/17/关于微信检测SDK应用的原理浅析（iOS）/">关于微信检测SDK应用的原理浅析（iOS）</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>微信作为一个开放平台，各方面都是做得比较好的，推出了SDK之后，微信与使用了SDK的应用便能进行更多交互。但在iOS平台上，应用间交换数据还是相对麻烦的，那么微信为什么能直接在应用检测到其他使用了SDK的应用呢？基于这个疑问，我用了一个下午研究其原理。<br>一、SDK的方法<br>我之前也没使用过微信的SDK，不过下载后，查看发现SDK接口有这么一段<br>    1 /<em>! @brief WXApi的成员函数，在微信终端程序中注册第三方应用。2  </em>3  <em> 需要在每次启动第三方应用程序时调用。第一次调用后，会在微信的可用应用列表中出现。4  </em> @param appid 微信开发者ID5  <em> @return 成功返回YES，失败返回NO。6  </em>/<br>    7 +(BOOL) registerApp:(NSString *) appid;<br>换句话来说，如果下载包含SDK的应用后，不打开应用或应用不调用注册方法，微信是无法检测应用的。但事实上，这段注释还不完整（原理会在下文解释），第一次在本机安装的应用，不打开确实无法让微信检测。同时，如果应用删除了，微信也会及时在可添加的列表中删除这个应用。但是，如果在本机安装过一次并打开过这个应用，无论以后删除后再安装，不重新打开，微信一样可以检测到这个应用。</p>
<p>二、交互的方法<br>其实，现时在微信中添加应用这个功能还是略无聊，只是增加了一个类似快捷方式的东西而已。当然以后发展了，这个功能肯定大有作为，包括类似新浪微博SDK的SSO也是使用了URLScheme。在应用中跳转到其他应用，方法很简单，被打开的应用先设置后自己的URLScheme，例如<br><img src="http://img.blog.csdn.net/20130801183743703?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZHlsbG92ZTk4/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br>然后只要用类似<br>    1 [[UIApplication sharedApplication] openURL:[NSURL URLWithString:@”wxd930ea5d5a258f4f://test”]];<br>“wxd930ea5d5a258f4f”为上面URLScheme，“test”改为参数，当然没有参数都是可以正常打开的。还有拨号、邮件等系统默认的URLScheme，可以自己搜索。至于第三方应用的URLScheme，则可以在应用目录下的“XXX.app”的“Info.plist”的“CFBundleURLTypes”中找到。</p>
<p>三、检测应用的方法<br>查了一下检测已安装应用的方法（可参考<a href="http://tangqiaoboy.blog.163.com/blog/static/116114258201172975359440" target="_blank" rel="external">http://tangqiaoboy.blog.163.com/blog/static/116114258201172975359440</a>），不外乎就这几种方法，显然最可靠的就是UIApplication的方法<br>    1 - (BOOL)canOpenURL:(NSURL <em>)url<br>这也是网上大多数人认为微信检测应用所采用的方案，但显然这还不完整。首先，检测时需要知道检测对象的URLScheme，难道微信要遍历每一个可能的URLScheme来进行检测？？这效率肯定相当低下，越来越多人使用微信平台的SDK，那么将来遍历URLScheme的成本也太大了吧。于是我有一种猜想，微信SDK都能像OpenUDID一样生成一个UDID，然后打开包含SDK的应用时，就同时将UDID和应用的信息上传到服务器，然后每次登陆微信都利用UDID查询已安装的应用信息。<br>似乎也可以实现，但是我测试后发现，即使不联网，微信依然能检测到已安装的应用。上面的猜想直接被推翻了。<br>后来我想起了OpenUDID的原理（可参考<a href="http://blog.csdn.net/lusonglin121/article/details/9466495" target="_blank" rel="external">http://blog.csdn.net/lusonglin121/article/details/9466495</a>），其中有利用到UIPasteboard的地方<br>    1 UIPasteboard</em> slotPB = [UIPasteboard pasteboardWithName:availableSlotPBid create:YES];<br>UIPasteboard是创建自定义的设备剪贴板，可以用于应用间的数据交换，而且支持文字、图片、URL和颜色。最重要的是，剪贴板的数据大小似乎不限制大小（我查到的资料没有提及数据大小的问题，具体的原理我以后会继续研究，如有错漏请包涵），还有能使用数组储存和重启后的持久化。</p>
<p>说了这么久，思路其实已经很清晰了，我现在就来总结一下微信实现检测的整个流程：<br>1、安装微信，打开微信，这很重要因为需要微信来创建剪贴板<br>    1 UIPasteboard *paste = [UIPasteboard pasteboardWithName:@”hello” create:YES];2 paste.persistent = YES;<br>如类似代码，persistent的属性一定要设置为YES，否则应用一退出，剪贴板就被清空了。这个文档说得很清楚的，系统的剪贴板是默认YES，自行创建的默认NO。还有剪贴板的内容如果被持久化，则应用退出后、重启后，内容一直都在，除非应用被删除。事实上，一旦微信被删除，重新安装后，打开微信也无法检测已安装应用了。因为剪贴板被清空了，除非再次打开那些使用SDK的应用。这也证明了，微信确实是使用了剪贴板的方法。<br>2、使用SDK的应用打开后，将自己的Key、URLScheme和图标等，图标就在mainBundle那里，添加到微信的剪贴板。<br>3、再次打开微信，微信通过遍历剪贴板的内容，就能轻松列出用户本机上使用了SDK的应用名字和图标，点击添加也是可以立即打开。不过此处有一些地方需要注意，应用的描述介绍是需要在线加载的，所以不连接网络，第一次列出的应用介绍会变成空白。同时，图标也会在线加载，替换原来从剪贴板中拿来的图标。<br>4、基本所有步骤都完成了，剩下只是每次添加应用前再检查一下是否有效即可。</p>
<p>总结：<br>这样就能完整解释了微信检查应用功能的种种现象了，不过，其实有需要改进的地方：<br>1、应用删除后，下次打开微信遍历完成后，并未将剪贴板中的对应记录删除。其实这种做法会有出现一种情况，就是用户安装了大量包含SDK的应用后，都打开了几次后就删除。但冗余的记录仍在剪贴板，那么遍历的速度会受到很大的影响。这里需要一些优化的策略，如定期清理、达到一定数量就清理等（或者微信已经做了我不知道，但是，我发现每次点击“+”的按钮，确实有轻微卡顿）。<br> 2、就是一旦被知道Pasteboard的name，就能够知道用户曾经安装过哪些应用，同时再通过遍历URLScheme知道现时还存在的应用。当然name确实存在被反汇编泄露出来的可能（下一步可以研究一下这个），利用微信这个特性或许能获知用户更多的私隐。当然遍历测试URLScheme的方法其实每一个厂商都能做，只要积累一个足够大的“URLScheme库”也就可以了，但效率不及直接利用微信要快。同时，有一些应用确实不使用URLScheme的，就无法通过这种方法获取了。显然，微信利用这种方法着实能统计用户的安装应用行为，手法相当高明，要是未来很多应用都使用了微信SDK的话，它统计的数据就会更为准确。所以微信SDK有意封装了这些方法，仅希望自己能获知这些信息。</p>
<p>通过分析微信的这种实现方法，希望也能为大家拓展一下编程的思路，欢迎交流，转载请注明Pinka-cnblogs。</p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之社交分享/">iOS应用开发之社交分享</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ios开发/">ios开发</a>, <a href="/tags/微信开放平台ios/">微信开放平台ios</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
      
        <div class="icon"></div>
        <time datetime="2014-02-14T07:26:00.000Z"><a href="/2014/02/14/AFNetworking/">2月 14 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/14/AFNetworking/">AFNetworking</a></h1>
  

      
    </header>
    <div class="entry">
      
        
        <p>谷歌翻译</p>
<p>AFNetworking是为iOS和Mac OS X。它是建立在之上的愉快的网络库<a href="http://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=http://developer.apple.com/library/mac/&amp;usg=ALkJrhiuvZMlMsRypqYF71FfZwK2ZOzkGg#documentation/Cocoa/Conceptual/URLLoadingSystem/URLLoadingSystem.html" target="_blank" rel="external">基金会的URL加载系统</a> ，延长内置到可可的功能强大的高级网络抽象。 它有一个模块化的架构，设计精良，功能丰富的API，是一个欢乐的使用。<br>也许，最重要的功能，但是，是谁使用，每天贡献AFNetworking开发商惊人的社群。 AFNetworking一些权力在iPhone，iPad和Mac的最流行和广受好评的应用程序。<br>选择AFNetworking你的下一个项目，或迁移在你现有的项目 -你很高兴你没有！<br><strong>如何开始</strong></p>
<ul>
<li><a href="https://github.com/AFNetworking/AFNetworking/archive/master.zip" target="_blank" rel="external">下载AFNetworking</a>并尝试了包括Mac和iPhone应用程序的例子</li>
<li>阅读<a href="https://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/AFNetworking/AFNetworking/wiki/Getting-Started-with-AFNetworking&amp;usg=ALkJrhga207v_1meSZiL2EcgdRYqKCHTtg" target="_blank" rel="external">“入门”指南</a> ， <a href="https://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/AFNetworking/AFNetworking/wiki/AFNetworking-FAQ&amp;usg=ALkJrhjCmRFlSt9Zq1NWiZNz-BXgnfObzA" target="_blank" rel="external">常见问题</a> ，或<a href="https://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/AFNetworking/AFNetworking/wiki&amp;usg=ALkJrhhwTRR2yWVbforsMlQ4ZfcyVCbukQ" target="_blank" rel="external">对维基的其他文章</a></li>
<li>退房的<a href="http://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=http://cocoadocs.org/docsets/AFNetworking/2.0.0/&amp;usg=ALkJrhgaLywg4BOy7WoITC7XljNLm9P6Zw" target="_blank" rel="external">文档</a>进行全面审视所有的API提供AFNetworking</li>
<li>有问题吗？ <a href="http://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=http://stackoverflow.com/questions/tagged/afnetworking&amp;usg=ALkJrhgdhdymQnvL2gqHd8oMQY_Ht1fuVg" target="_blank" rel="external">堆栈溢出</a>是找到答案的最佳场所</li>
</ul>
<p><strong>安装与**</strong>CocoaPods<strong><br><a href="http://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=http://cocoapods.org/&amp;usg=ALkJrhiBjkx5qeHG3VXjZ4XK0htUc76LWg" target="_blank" rel="external">CocoaPods</a>是一个依赖经理的Objective-C，它能够自动并简化使用像AFNetworking的第三方库在项目的进程。 请参阅<a href="https://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/AFNetworking/AFNetworking/wiki/Getting-Started-with-AFNetworking&amp;usg=ALkJrhga207v_1meSZiL2EcgdRYqKCHTtg" target="_blank" rel="external">“入门”指南获取更多信息</a> 。
</strong>Podfile<strong><br>  平台：IOS，’7 .0’<br> 荚“AFNetworking”，“～&gt; 2.0”
</strong>2.0<strong><br>AFNetworking 2.0是一个重大更新的框架。 建设2年的发展，这个新版本引入了强大的新功能，同时提供了一个简单的升级路径，为现有的用户。
</strong>阅读<strong>[</strong>AFNetworking<br> 2.0<strong>**迁移指南</strong>](<a href="https://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/AFNetworking/AFNetworking/wiki/AFNetworking-2.0-Migration-Guide&amp;usg=ALkJrhgtuqdTdrxhouBTSdfN4JhiTtRiJg)**为建筑和****API****的变化的概述。**" target="_blank" rel="external">https://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/AFNetworking/AFNetworking/wiki/AFNetworking-2.0-Migration-Guide&amp;usg=ALkJrhgtuqdTdrxhouBTSdfN4JhiTtRiJg)**为建筑和****API****的变化的概述。**</a><br><strong>最新消息</strong></p>
<ul>
<li>重构架构</li>
<li>支持NSURLSession</li>
<li>序列化模块</li>
<li>扩大的UIKit扩展</li>
<li>实时功能与<a href="http://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=http://rocket.github.io/&amp;usg=ALkJrhgx_MW9YPH6vUtxnPdqDLQgjADJ8g" target="_blank" rel="external">火箭</a></li>
</ul>
<p><strong>要求</strong><br>AFNetworking 2.0和更高要求的Xcode 5，确定目标的的iOS 6.0及以上版本，或Mac OS 10.8山狮（ <a href="https://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=https://developer.apple.com/library/mac/&amp;usg=ALkJrhgz1YE1BT4I-xQlHmYjVxid4WmTTA#documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtVersionsPlatforms.html" target="_blank" rel="external">64位与现代可可运行时</a> ）及以上。<br>对于与iOS 5或Mac OS X 10.7的兼容性，请使用<a href="https://github.com/AFNetworking/AFNetworking/tree/1.x" target="_blank" rel="external">最新的1.x的版本</a> 。<br>对于与iOS 4.3或Mac OS X 10.6的兼容性，请使用<a href="https://github.com/AFNetworking/AFNetworking/tree/0.10.x" target="_blank" rel="external">最新的0.10.x版本</a> 。<br><strong>建筑</strong><br><strong>NSURLConnection**</strong>的**</p>
<ul>
<li>AFURLConnectionOperation</li>
<li>AFHTTPRequestOperation</li>
<li>AFHTTPRequestOperationManager</li>
</ul>
<p><strong>NSURLSession**</strong>（<strong><strong>iOS</strong></strong>的<strong><strong>7 / Mac OS X</strong></strong>的<strong><strong>10.9</strong></strong>）**</p>
<ul>
<li>AFURLSessionManager</li>
<li>AFHTTPSessionManager</li>
</ul>
<p><strong>序列化</strong></p>
<ul>
<li><afurlrequestserialization>- AFHTTPRequestSerializer</afurlrequestserialization></li>
<li>AFJSONRequestSerializer</li>
<li>AFPropertyListRequestSerializer</li>
</ul>
<ul>
<li><afurlresponseserialization>- AFHTTPResponseSerializer</afurlresponseserialization></li>
<li>AFJSONResponseSerializer</li>
<li>AFXMLParserResponseSerializer</li>
<li>AFXMLDocumentResponseSerializer （Mac OS X中）</li>
<li>AFPropertyListResponseSerializer</li>
<li>AFImageResponseSerializer</li>
<li>AFCompoundResponseSerializer</li>
</ul>
<p><strong>附加功能</strong></p>
<ul>
<li>AFSecurityPolicy</li>
<li>AFNetworkReachabilityManager</li>
</ul>
<p><strong>用法</strong><br><strong>HTTP**</strong>请求营运经理<strong><br>AFHTTPRequestOperationManager封装与Web应用程序进行通信通过HTTP，包括要求制作，响应序列化，网络可达性监控和安全性，以及要求经营管理的常见模式。
</strong>GET<strong>**请求</strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">AFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];</div><div class="line">[manager GET:<span class="string">@"http://example.com/resources.json"</span> parameters:<span class="literal">nil</span> success:^(AFHTTPRequestOperation*operation, <span class="keyword">id</span> responseObject) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"JSON: %@"</span>, responseObject);</div><div class="line">} failure:^(AFHTTPRequestOperation *operation, <span class="built_in">NSError</span>*error) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Error: %@"</span>, error);</div><div class="line">}];</div></pre></td></tr></table></figure>

<p><strong>POST**</strong>的<strong><strong>URL</strong></strong>格式编码的请求**</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">AFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];</div><div class="line"><span class="built_in">NSDictionary</span> *parameters = @{<span class="string">@"foo"</span>:<span class="string">@"bar"</span>};</div><div class="line">[manager POST:<span class="string">@"http://example.com/resources.json"</span> parameters:parameters success:^(AFHTTPRequestOperation*operation, <span class="keyword">id</span> responseObject) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"JSON: %@"</span>, responseObject);</div><div class="line">} failure:^(AFHTTPRequestOperation *operation, <span class="built_in">NSError</span>*error) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Error: %@"</span>, error);</div><div class="line">}];</div></pre></td></tr></table></figure>

<p><strong>POST**</strong>多部分请求**</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"> AFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];</div><div class="line"><span class="built_in">NSDictionary</span> *parameters = @{<span class="string">@"foo"</span>:<span class="string">@"bar"</span>};</div><div class="line"><span class="built_in">NSURL</span> *filePath = [<span class="built_in">NSURL</span> fileURLWithPath:<span class="string">@"file://path/to/image.png"</span>];</div><div class="line">[manager POST:<span class="string">@"http://example.com/resources.json"</span> parameters:parameters constructingBodyWithBlock:^(<span class="keyword">id</span>&lt;AFMultipartFormData&gt; formData) {</div><div class="line">    [formData appendPartWithFileURL:filePath name:<span class="string">@"image"</span> error:<span class="literal">nil</span>];</div><div class="line">} success:^(AFHTTPRequestOperation *operation,<span class="keyword">id</span> responseObject) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Success: %@"</span>, responseObject);</div><div class="line">} failure:^(AFHTTPRequestOperation *operation, <span class="built_in">NSError</span>*error) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Error: %@"</span>, error);</div><div class="line">}];</div></pre></td></tr></table></figure>

<p><strong>AFURLSessionManager</strong><br>AFURLSessionManager创建和管理一个NSURLSession根据指定的对象NSURLSessionConfiguration对象，这符合<nsurlsessiontaskdelegate> ， <nsurlsessiondatadelegate> ， <nsurlsessiondownloaddelegate>和<nsurlsessiondelegate> 。<br><strong>创建下载任务</strong></nsurlsessiondelegate></nsurlsessiondownloaddelegate></nsurlsessiondatadelegate></nsurlsessiontaskdelegate></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"> NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];</div><div class="line">AFURLSessionManager *manager = [[AFURLSessionManager alloc] initWithSessionConfiguration:configuration];</div><div class="line"></div><div class="line"><span class="built_in">NSURL</span> *URL = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://example.com/download.zip"</span>];</div><div class="line"><span class="built_in">NSURLRequest</span> *request = [<span class="built_in">NSURLRequest</span> requestWithURL:URL];</div><div class="line"></div><div class="line">NSURLSessionDownloadTask *downloadTask = [manager downloadTaskWithRequest:request progress:<span class="literal">nil</span> destination:^<span class="built_in">NSURL</span>*(<span class="built_in">NSURL</span> *targetPath, NSURLResponse *response) {</div><div class="line">    <span class="built_in">NSURL</span> *documentsDirectoryPath = [<span class="built_in">NSURL</span> fileURLWithPath:[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask,<span class="literal">YES</span>) firstObject]];</div><div class="line">    <span class="keyword">return</span> [documentsDirectoryPath URLByAppendingPathComponent:[response suggestedFilename]];</div><div class="line">} completionHandler:^(NSURLResponse *response, <span class="built_in">NSURL</span>*filePath, <span class="built_in">NSError</span> *error) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"File downloaded to: %@"</span>, filePath);</div><div class="line">}];</div><div class="line">[downloadTask resume];</div></pre></td></tr></table></figure>

<p><strong>创建上传任务</strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">  NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];</div><div class="line">AFURLSessionManager *manager = [[AFURLSessionManager alloc] initWithSessionConfiguration:configuration];</div><div class="line"></div><div class="line"><span class="built_in">NSURL</span> *URL = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://example.com/upload"</span>];</div><div class="line"><span class="built_in">NSURLRequest</span> *request = [<span class="built_in">NSURLRequest</span> requestWithURL:URL];</div><div class="line"></div><div class="line"><span class="built_in">NSURL</span> *filePath = [<span class="built_in">NSURL</span> fileURLWithPath:<span class="string">@"file://path/to/image.png"</span>];</div><div class="line">NSURLSessionUploadTask *uploadTask = [manager uploadTaskWithRequest:request fromFile:filePath progress:<span class="literal">nil</span> completionHandler:^(NSURLResponse*response, <span class="keyword">id</span> responseObject, <span class="built_in">NSError</span>*error) {</div><div class="line">    <span class="keyword">if</span> (error) {</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Error: %@"</span>, error);</div><div class="line">    } <span class="keyword">else</span> {</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Success: %@ %@"</span>, response, responseObject);</div><div class="line">    }</div><div class="line">}];</div><div class="line">[uploadTask resume];</div></pre></td></tr></table></figure>

<p><strong>创建上传任务的多部分请求，与进展</strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">NSMutableURLRequest *request = [[AFHTTPRequestSerializer serializer] multipartFormRequestWithMethod:<span class="string">@"POST"</span> URLString:<span class="string">@"http://example.com/upload"</span> parameters:<span class="literal">nil</span> constructingBodyWithBlock:^(<span class="keyword">id</span>&lt;AFMultipartFormData&gt; formData) {</div><div class="line">        [formData appendPartWithFileURL:[<span class="built_in">NSURL</span> fileURLWithPath:<span class="string">@"file://path/to/image.jpg"</span>] name:<span class="string">@"file"</span> fileName:<span class="string">@"filename.jpg"</span> mimeType:<span class="string">@"image/jpeg"</span> error:<span class="literal">nil</span>];</div><div class="line">    } error:<span class="literal">nil</span>];</div><div class="line"></div><div class="line">    AFURLSessionManager *manager = [[AFURLSessionManager alloc] initWithSessionConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration]];</div><div class="line">    NSProgress *progress = <span class="literal">nil</span>;</div><div class="line"></div><div class="line">    NSURLSessionUploadTask *uploadTask = [manager uploadTaskWithStreamedRequest:request progress:&progress completionHandler:^(NSURLResponse*response, <span class="keyword">id</span> responseObject, <span class="built_in">NSError</span>*error) {</div><div class="line">        <span class="keyword">if</span> (error) {</div><div class="line">            <span class="built_in">NSLog</span>(<span class="string">@"Error: %@"</span>, error);</div><div class="line">        } <span class="keyword">else</span> {</div><div class="line">            <span class="built_in">NSLog</span>(<span class="string">@"%@ %@"</span>, response, responseObject);</div><div class="line">        }</div><div class="line">    }];</div><div class="line"></div><div class="line">    [uploadTask resume];</div></pre></td></tr></table></figure>

<p><strong>创建数据任务</strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];</div><div class="line">AFURLSessionManager *manager = [[AFURLSessionManager alloc] initWithSessionConfiguration:configuration];</div><div class="line"></div><div class="line"><span class="built_in">NSURL</span> *URL = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://example.com/upload"</span>];</div><div class="line"><span class="built_in">NSURLRequest</span> *request = [<span class="built_in">NSURLRequest</span> requestWithURL:URL];</div><div class="line"></div><div class="line">NSURLSessionDataTask *dataTask = [manager dataTaskWithRequest:request completionHandler:^(NSURLResponse*response, <span class="keyword">id</span> responseObject, <span class="built_in">NSError</span>*error) {</div><div class="line">    <span class="keyword">if</span> (error) {</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Error: %@"</span>, error);</div><div class="line">    } <span class="keyword">else</span> {</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@ %@"</span>, response, responseObject);</div><div class="line">    }</div><div class="line">}];</div><div class="line">[dataTask resume];</div></pre></td></tr></table></figure>

<p><strong>请求序列化</strong><br>请求序列化创建URL字符串，编码参数作为一个查询字符串或HTTP主体请求。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *URLString = <span class="string">@"http://example.com"</span>;</div><div class="line"><span class="built_in">NSDictionary</span> *parameters = @{<span class="string">@"foo"</span>:<span class="string">@"bar"</span>, <span class="string">@"baz"</span>: @[@<span class="number">1</span>,@<span class="number">2</span>, @<span class="number">3</span>]};</div></pre></td></tr></table></figure>

<p><strong>查询字符串参数编码</strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"> [[AFHTTPRequestSerializer serializer] requestWithMethod:<span class="string">@"GET"</span> URLString:URLString parameters:parameters];</div><div class="line">GET http:<span class="comment">//example.com?foo=bar&baz[]=1&baz[]=2&baz[]=3</span></div></pre></td></tr></table></figure>

<p><strong>URL**</strong>，表单参数编码**</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[[AFHTTPRequestSerializer serializer] requestWithMethod:<span class="string">@"POST"</span> URLString:URLString parameters:parameters];</div><div class="line"></div><div class="line">POST http:<span class="comment">//example.com/</span></div><div class="line">Content-Type: application/x-www-form-urlencoded</div><div class="line"></div><div class="line">foo=bar&baz[]=<span class="number">1</span>&baz[]=<span class="number">2</span>&baz[]=<span class="number">3</span></div></pre></td></tr></table></figure>

<p><strong>JSON**</strong>编码参数**</p>
<hr>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[[AFJSONRequestSerializer serializer] requestWithMethod:<span class="string">@"POST"</span> URLString:URLString parameters:parameters];</div><div class="line">POST http:<span class="comment">//example.com/</span></div><div class="line">Content-Type: application/json</div><div class="line"></div><div class="line">{<span class="string">"foo"</span>: <span class="string">"bar"</span>, <span class="string">"baz"</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]}</div></pre></td></tr></table></figure>

<p><strong>网络可达性管理</strong><br>AFNetworkReachabilityManager监控领域的可达性，并为WWAN和WiFi网络接口的地址。<br><strong>共享网络可达性</strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> [[AFNetworkReachabilityManager sharedManager] setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Reachability: %@"</span>, AFStringFromNetworkReachabilityStatus(status));</div><div class="line">}];</div></pre></td></tr></table></figure>

<p><strong>与基本**</strong>URL<strong><strong>的</strong></strong>HTTP<strong>**经理</strong><br>当baseURL提供，网络可达性的作用范围是该基地URL的主机。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">  <span class="built_in">NSURL</span> *baseURL = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://example.com/"</span>];</div><div class="line">AFHTTPRequestOperationManager *manager = [[AFHTTPRequestOperationManager alloc] initWithBaseURL:baseURL];</div><div class="line"></div><div class="line">NSOperationQueue *operationQueue = manager<span class="variable">.operationQueue</span>;</div><div class="line">[manager<span class="variable">.reachabilityManager</span> setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) {</div><div class="line">    <span class="keyword">switch</span> (status) {</div><div class="line">        <span class="keyword">case</span> AFNetworkReachabilityStatusReachableViaWWAN:</div><div class="line">        <span class="keyword">case</span> AFNetworkReachabilityStatusReachableViaWiFi:</div><div class="line">            [operationQueue setSuspended:<span class="literal">NO</span>];</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> AFNetworkReachabilityStatusNotReachable:</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            [operationQueue setSuspended:<span class="literal">YES</span>];</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">    }</div><div class="line">}];</div></pre></td></tr></table></figure>

<p><strong>安全策略</strong><br>AFSecurityPolicy评估对固定X.509证书和通过安全连接的公共密钥服务器信任。<br>新增固定SSL证书到你的应用有助于防止人在这方面的中间人攻击和其他安全漏洞。 应用程序处理敏感的客户数据或财务信息我们强烈建议路线在使用SSL钉扎配置和启用HTTPS连接的所有通信。<br><strong>使无效的**</strong>SSL<strong>**证书</strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">  AFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];</div><div class="line">manager<span class="variable">.securityPolicy</span><span class="variable">.allowInvalidCertificates</span> =<span class="literal">YES</span>; <span class="comment">// 不建议在生产</span></div></pre></td></tr></table></figure>

<p><strong>AFHTTPRequestOperation</strong><br>AFHTTPRequestOperation是的一个子类AFURLConnectionOperation使用HTTP或HTTPS协议请求。 它封装的接受状态代码和内容类型，这决定了请求的成功或失败的概念。<br>虽然AFHTTPRequestOperationManager通常是去提出要求的最佳途径， AFHTTPRequestOperation可以单独使用。<br><strong>GET **</strong>with <strong>**AFHTTPRequestOperation</strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"> <span class="built_in">NSURL</span> *URL = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://example.com/resources/123.json"</span>];</div><div class="line"><span class="built_in">NSURLRequest</span> *request = [<span class="built_in">NSURLRequest</span> requestWithURL:URL];</div><div class="line">AFHTTPRequestOperation *op = [[AFHTTPRequestOperation alloc] initWithRequest:request];</div><div class="line">op<span class="variable">.responseSerializer</span> = [AFJSONResponseSerializer serializer];</div><div class="line">[op setCompletionBlockWithSuccess:^(AFHTTPRequestOperation*operation, <span class="keyword">id</span> responseObject) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"JSON: %@"</span>, responseObject);</div><div class="line">} failure:^(AFHTTPRequestOperation *operation, <span class="built_in">NSError</span>*error) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Error: %@"</span>, error);</div><div class="line">}];</div><div class="line">[[NSOperationQueue mainQueue] addOperation:op];</div></pre></td></tr></table></figure>

<p><strong>操作的批处理</strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSMutableArray</span> *mutableOperations = [<span class="built_in">NSMutableArray</span> array];</div><div class="line"><span class="keyword">for</span> (<span class="built_in">NSURL</span> *fileURL <span class="keyword">in</span> filesToUpload) {</div><div class="line">    <span class="built_in">NSURLRequest</span> *request = [[AFHTTPRequestSerializer serializer] multipartFormRequestWithMethod:<span class="string">@"POST"</span> URLString:<span class="string">@"http://example.com/upload"</span> parameters:<span class="literal">nil</span> constructingBodyWithBlock:^(<span class="keyword">id</span>&lt;AFMultipartFormData&gt; formData) {</div><div class="line">        [formData appendPartWithFileURL:fileURL name:<span class="string">@"images[]"</span> error:<span class="literal">nil</span>];</div><div class="line">    }];</div><div class="line"></div><div class="line">    AFHTTPRequestOperation *operation = [[AFHTTPRequestOperation alloc] initWithRequest:request];</div><div class="line"></div><div class="line">    [mutableOperations addObject:operation];</div><div class="line">}</div><div class="line"></div><div class="line"><span class="built_in">NSArray</span> *operations = [AFURLConnectionOperation batchOfRequestOperations:@[...] progressBlock:^(NSUInteger numberOfFinishedOperations, NSUInteger totalNumberOfOperations) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%lu of %lu complete"</span>, numberOfFinishedOperations, totalNumberOfOperations);</div><div class="line">} completionBlock:^(<span class="built_in">NSArray</span> *operations) {</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"All operations in batch complete"</span>);</div><div class="line">}];</div><div class="line">[[NSOperationQueue mainQueue] addOperations:operations waitUntilFinished:<span class="literal">NO</span>];</div></pre></td></tr></table></figure>

<p><strong>单元测试</strong><br>AFNetworking包括一套内部的测试子目录中的单元测试。 为了运行单元测试，你必须通过CocoaPods安装测试的依赖关系：<br> $ cd Tests<br> $ pod install<br>一旦测试的依赖安装，你可以通过在Xcode的’的iOS测试“和”OS X的测试“计划，执行测试套件。<br><strong>使用**</strong>xctool**<br>测试也可以通过命令行或在一个持续集成环境中运行<a href="https://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=https://github.com/facebook/xctool&amp;usg=ALkJrhh4GfmYPHkGwnNuhhM4ZAaZUQimtA" target="_blank" rel="external">xctool</a> ，它可以安装<a href="http://translate.googleusercontent.com/translate_c?act=url&amp;depth=1&amp;hl=zh-CN&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com.hk&amp;sl=en&amp;tl=zh-CN&amp;u=http://brew.sh/&amp;usg=ALkJrhgZ5Ck7uZtrBWPhQ0ujWkOqvbg1ZA" target="_blank" rel="external">自制软件</a> ：<br> $ brew update<br> $ brew install xctool —HEAD<br>一旦xctool安装，你可以通过执行该套件rake test 。</p>

      
    </div>
    <footer>
      
  
  <div class="categories">
    <a href="/categories/iOS应用开发之网络通讯/">iOS应用开发之网络通讯</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/AFNetworking/">AFNetworking</a>
  </div>

      
        
          <div class="alignright share-box">
  
</div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
    <a href="/archives/2014/02/" class="alignleft prev">Prev</a>
  
  
    <a href="/archives/2014/02/page/3/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  
    <form>
      <input id="st-search-input" type="search" placeholder="Search">
    </form>
    <div id="st-results-container"></div>
  
</div>

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <div class="entry">
    
      <span><a href="/tags/2d/">2d<small>1</small></a></span>
    
      <span><a href="/tags/AFNetworking/">AFNetworking<small>2</small></a></span>
    
      <span><a href="/tags/CoreData/">CoreData<small>2</small></a></span>
    
      <span><a href="/tags/Drawing/">Drawing<small>1</small></a></span>
    
      <span><a href="/tags/MagicalRecord/">MagicalRecord<small>1</small></a></span>
    
      <span><a href="/tags/NSDate/">NSDate<small>1</small></a></span>
    
      <span><a href="/tags/NSString/">NSString<small>1</small></a></span>
    
      <span><a href="/tags/Swift/">Swift<small>9</small></a></span>
    
      <span><a href="/tags/UIAlertView/">UIAlertView<small>1</small></a></span>
    
      <span><a href="/tags/UITabBarController/">UITabBarController<small>1</small></a></span>
    
      <span><a href="/tags/UITableViewControlle/">UITableViewControlle<small>1</small></a></span>
    
      <span><a href="/tags/UIWebView/">UIWebView<small>1</small></a></span>
    
      <span><a href="/tags/URL-Scheme/">URL Scheme<small>1</small></a></span>
    
      <span><a href="/tags/URL编码/">URL编码<small>1</small></a></span>
    
      <span><a href="/tags/XMPP/">XMPP<small>3</small></a></span>
    
      <span><a href="/tags/Xcode5-1/">Xcode5.1<small>1</small></a></span>
    
      <span><a href="/tags/api/">api<small>5</small></a></span>
    
      <span><a href="/tags/appStore审核/">appStore审核<small>1</small></a></span>
    
      <span><a href="/tags/block/">block<small>1</small></a></span>
    
      <span><a href="/tags/bytearray/">bytearray<small>1</small></a></span>
    
      <span><a href="/tags/cell自适应高度/">cell自适应高度<small>1</small></a></span>
    
      <span><a href="/tags/cocos2d/">cocos2d<small>3</small></a></span>
    
      <span><a href="/tags/fontfontiPhone开发font/">fontfontiPhone开发font<small>1</small></a></span>
    
      <span><a href="/tags/fontfontiPhone开发fontfont/">fontfontiPhone开发fontfont<small>1</small></a></span>
    
      <span><a href="/tags/fontfontios的fontfont/">fontfontios的fontfont<small>2</small></a></span>
    
      <span><a href="/tags/fontfont动画fontfont/">fontfont动画fontfont<small>1</small></a></span>
    
      <span><a href="/tags/framework/">framework<small>1</small></a></span>
    
      <span><a href="/tags/iOS8/">iOS8<small>2</small></a></span>
    
      <span><a href="/tags/iOS8-1-1/">iOS8.1.1<small>1</small></a></span>
    
      <span><a href="/tags/iOS8定位/">iOS8定位<small>1</small></a></span>
    
      <span><a href="/tags/iOS国际化/">iOS国际化<small>1</small></a></span>
    
      <span><a href="/tags/iOS应用开发之app上架/">iOS应用开发之app上架<small>1</small></a></span>
    
      <span><a href="/tags/iOS应用开发之第三方框架/">iOS应用开发之第三方框架<small>1</small></a></span>
    
      <span><a href="/tags/iOS开发/">iOS开发<small>5</small></a></span>
    
      <span><a href="/tags/iOS自定义Tabbar/">iOS自定义Tabbar<small>1</small></a></span>
    
      <span><a href="/tags/ios/">ios<small>53</small></a></span>
    
      <span><a href="/tags/ios7/">ios7<small>1</small></a></span>
    
      <span><a href="/tags/ios7适配/">ios7适配<small>1</small></a></span>
    
      <span><a href="/tags/ios国际化/">ios国际化<small>1</small></a></span>
    
      <span><a href="/tags/ios开发/">ios开发<small>27</small></a></span>
    
      <span><a href="/tags/iphone/">iphone<small>4</small></a></span>
    
      <span><a href="/tags/iphone开发/">iphone开发<small>59</small></a></span>
    
      <span><a href="/tags/itunes/">itunes<small>1</small></a></span>
    
      <span><a href="/tags/objective-c/">objective-c<small>1</small></a></span>
    
      <span><a href="/tags/svn/">svn<small>1</small></a></span>
    
      <span><a href="/tags/uiimage/">uiimage<small>2</small></a></span>
    
      <span><a href="/tags/uitableview/">uitableview<small>1</small></a></span>
    
      <span><a href="/tags/uitableviewcell/">uitableviewcell<small>1</small></a></span>
    
      <span><a href="/tags/uitextfield/">uitextfield<small>1</small></a></span>
    
      <span><a href="/tags/uiview/">uiview<small>3</small></a></span>
    
      <span><a href="/tags/uiviewcontroller/">uiviewcontroller<small>1</small></a></span>
    
      <span><a href="/tags/uiwebview/">uiwebview<small>1</small></a></span>
    
      <span><a href="/tags/xcode/">xcode<small>2</small></a></span>
    
      <span><a href="/tags/xmpp/">xmpp<small>1</small></a></span>
    
      <span><a href="/tags/二维码/">二维码<small>1</small></a></span>
    
      <span><a href="/tags/企业/">企业<small>1</small></a></span>
    
      <span><a href="/tags/动画/">动画<small>5</small></a></span>
    
      <span><a href="/tags/国际化/">国际化<small>1</small></a></span>
    
      <span><a href="/tags/在线工具/">在线工具<small>1</small></a></span>
    
      <span><a href="/tags/多线程/">多线程<small>1</small></a></span>
    
      <span><a href="/tags/存储/">存储<small>1</small></a></span>
    
      <span><a href="/tags/宏/">宏<small>1</small></a></span>
    
      <span><a href="/tags/导航/">导航<small>1</small></a></span>
    
      <span><a href="/tags/屏幕旋转/">屏幕旋转<small>2</small></a></span>
    
      <span><a href="/tags/应用程序/">应用程序<small>2</small></a></span>
    
      <span><a href="/tags/微信开放平台ios/">微信开放平台ios<small>1</small></a></span>
    
      <span><a href="/tags/打开AppStore/">打开AppStore<small>1</small></a></span>
    
      <span><a href="/tags/数据库/">数据库<small>1</small></a></span>
    
      <span><a href="/tags/缓存/">缓存<small>1</small></a></span>
    
      <span><a href="/tags/聊天/">聊天<small>1</small></a></span>
    
      <span><a href="/tags/苹果应用商店/">苹果应用商店<small>1</small></a></span>
    
      <span><a href="/tags/获取iP地址/">获取iP地址<small>1</small></a></span>
    
  </div>
</div>




  <script type="text/javascript">
    (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
    })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

    _st('install','6xH6jcZvsZxn2a9rcU4t');
  </script>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div id="foot-nav">
  <ul class="social">
    
      <li><a class="github" href="https://github.com/DaiXiang" title="github">github</a></li>
    
      <li><a class="rss" href="/atom.xml" title="rss">rss</a></li>
    
  </ul>
</div>
<div>
  
    &copy; 2014 尹现伟
  
</div>
<div class="clearfix"></div></footer>
  


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<script type="text/javascript">
  function navbar() {
    var top = $('#nav-top').innerHeight();
    $('#header').css('min-height', top);
  }
  navbar();
  $(window).resize(navbar);
</script>
<div id="totop" class="footer-btn">
  <a title="Return to Top"><img src="/img/scrollup.png"/></a>
</div>

<script type="text/javascript">
  $(function(){ 
	// When to show the scroll link
	// higher number = scroll link appears further down the page   
	var upperLimit = 800;
	
	// Our scroll link element
	var scrollElem = $('#totop');
   
	// Scroll to top speed
	var scrollSpeed = 500;
   
	// Show and hide the scroll to top link based on scroll position   
	scrollElem.hide();
	$(window).scroll(function () {            
		var scrollTop = $(document).scrollTop();       
		if ( scrollTop > upperLimit ) {
		  $(scrollElem).stop().fadeTo(300, 1); // fade back in
		  $(scrollElem).animate({bottom: "50px"}, { queue: false, duration: 10 });
		} else {
		  $(scrollElem).stop().fadeTo(300, 0); // fade out
	      $(scrollElem).animate({bottom: "-200px"}, { queue: false, duration: 10 });
			
		}
	});

	// Scroll to top animation on click
	$(scrollElem).click(function(){
	  $('html, body').animate({scrollTop:0}, scrollSpeed);
	  $(scrollElem).animate({bottom: "-200px"}, { queue: false, duration: 10 });
	  return false;
	});
  });
</script>
</body>
</html>